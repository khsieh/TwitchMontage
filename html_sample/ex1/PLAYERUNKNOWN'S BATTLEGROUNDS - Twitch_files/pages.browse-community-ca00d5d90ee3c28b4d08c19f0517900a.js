webpackJsonp([31],{1187:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={BrowseCommunities:"browse.communities",BrowseCreative:"browse.creative",ChannelIndex:"channel.index.index",ChannelDashboardAchievements:"channel.dashboard.achievements",ChannelDashboardModeration:"channel.dashboard.moderation",ChannelDashboardStreamSummary:"channel.dashboard.stream-summary",ChannelClips:"channel.clips",ChannelClipsManager:"videoManager.clips.channel",ChannelCollections:"channel.collections",ChatPopout:"chat",DevOnly:"dev",DirectoryGames:"directory.games",DirectoryPopular:"directory.popular",DirectoryGameIndex:"directory.game.index",DirectoryGameClips:"directory.game.clips",DirectoryGameVideos:"directory.game.videos",DirectoryFollowingIndex:"directory.following.index",DirectoryFollowingGames:"directory.following.games",DirectoryFollowingVideos:"directory.following.videos.video-type",DirectoryFollowingHosts:"directory.following.hosts",DirectoryFollowingLiveChannels:"directory.following.channels",DirectoryFollowingCommunities:"directory.following.communities",Index:"index",MyClipsManager:"videoManager.clips",StoreMerchPage:"store.merch",VideosPage:"videos",VideoWatchPage:"video",VideoManagerPage:"videoManager.page",VideoManagerEditPropertiesPage:"videoManager.edit",VideoManagerUploadPage:"videoManager.upload",VideoManagerUploadListPage:"videoManager.upload-list"}},1188:function(e,t,n){"use strict";function i(e){return function(t){var n=function(n){function i(t){var i=n.call(this,t)||this;return i.tracked=!1,i.referenceTracking={},i.trackPageview=function(){if(!(i.tracked||e.skip&&e.skip(i.props))){i.tracked=!0,c.k.adBlockSentinel.pageTransition();var t={};"function"==typeof e.properties?t=e.properties(i.props):e.properties&&(t=r.a({},e.properties));var n=r.a({},i.props);n.location&&n.location.state&&(t.medium=n.location.state.medium,t.content=n.location.state.content,t.content_index=n.location.state.content_index);var a=i.referenceTracking,o=a.content,s=a.medium,l=a.content_index;c.k.tracking.trackPageview(r.a({content:o,medium:s,content_index:l,location:e.location},t))}},c.g.debug("pageViewTracking",e),t.rootLatencyTracker?t.rootLatencyTracker.setLocation(e.location):c.g.warn("No latency tracker exists! This means no data will be sent to Spade.",e),i}return r.d(i,n),i.prototype.componentDidMount=function(){var e=this;this.referenceTracking=this.stripTTParams(this.props.history.location),this.trackPageview(),this.props.history.listen(function(t,n){"REPLACE"!==n&&(e.tracked=!1,e.referenceTracking={})})},i.prototype.componentDidUpdate=function(){this.trackPageview()},i.prototype.render=function(){return o.createElement(t,r.a({},this.props))},i.prototype.stripTTParams=function(e){var t=""!==e.search?a.parse(e.search):{},n={content:t.tt_content,content_index:t.tt_content_index,medium:t.tt_medium};if(delete t.tt_content,delete t.tt_content_index,delete t.tt_medium,n.medium||n.content){var i="",r=a.stringify(t);r.length>0&&(i="?"+r),this.props.history.replace({pathname:e.pathname,hash:e.hash,search:i})}return n},i}(o.Component);return Object(s.f)(n)}}var r=n(1),a=n(26),o=n(0),s=n(14),c=n(2);n.d(t,"a",function(){return i})},1239:function(e,t,n){"use strict";function i(e){return{trackingSet:e.ads.trackingSet}}var r=n(10),a=n(1),o=n(0),s=n(2),c=n(131),l=n(500),d="#google_ads_iframe_\\/3576121\\/twitch\\/directory_0",u="#google_ads_iframe_\\/3576121\\/twitch\\/directory_1",m=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=s.g.withCategory("ad-slot"),n.createSlot=function(e){return a.b(n,void 0,void 0,function(){var t,n;return a.e(this,function(i){switch(i.label){case 0:if(this.state.slotCreated)return[2];this.setState({slotCreated:!0}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,c.a.createSlot(e.slotID,e.adUnit,e.adSize,e.targeting)];case 2:return t=i.sent(),this.setState({slot:t}),[3,4];case 3:return n=i.sent(),this.logger.warn("Unable to create ad slot",{slotID:e.slotID,adUnit:e.adUnit,adSize:e.adSize,targeting:e.targeting}),[3,4];case 4:return[2]}})})},n.setRef=function(e){return n.slotRef=e},n.onSlotRenderEnd=function(e){var t=e.slot.getSlotElementId();if(n.state.slot&&t===n.props.slotID){if(n.logger.debug("Ad slot render ended",{elementID:t,lineItemID:e.lineItemId,createdID:e.creativeId,isEmpty:e.isEmpty,serviceName:e.serviceName,size:e.size}),e.isEmpty)return;if(!n.slotRef)return;if(n.props.slotID===l.b.anonFront.takeover)return void(document.body.classList.contains("takeover")&&n.setState({shouldDisplay:!0},function(){return n.slotRendered(e.slot)}));if(n.props.slotID===l.b.directoryBanner){var i=n.slotRef.querySelector(d);return void(i&&1!==i.clientWidth&&n.setState({shouldDisplay:!0},function(){return n.slotRendered(e.slot)}))}if(n.props.slotID===l.b.directoryRectangle){var i=n.slotRef.querySelector(u);return void(i&&1!==i.clientWidth&&n.setState({shouldDisplay:!0},function(){return n.slotRendered(e.slot)}))}n.setState({shouldDisplay:!0},function(){return n.slotRendered(e.slot)})}},n.slotRendered=function(e){n.props.slotRendered&&n.props.slotRendered(e)},n.state={shouldDisplay:!1},n}return a.d(t,e),t.prototype.componentDidMount=function(){l.f.addListener(l.e,this.onSlotRenderEnd),this.props.trackingSet?(this.logger.debug("Tracking is set. Creating slot (componentDidMount)",this.props.slotID),this.createSlot(this.props)):this.logger.debug("Tracking is not set. Skipping slot creation (componentDidMount)",this.props.slotID)},t.prototype.componentWillReceiveProps=function(e){this.state.slotCreated||(e.trackingSet?(this.logger.debug("Tracking is set. Creating slot (componentWillReceiveProps)",this.props.slotID),this.createSlot(e)):this.logger.debug("Tracking is not set. Skipping slot creation (componentWillReceiveProps)",this.props.slotID))},t.prototype.componentWillUnmount=function(){l.f.removeListener(l.e,this.onSlotRenderEnd),this.state.slot&&c.a.destroySlot(this.state.slot)},t.prototype.shouldComponentUpdate=function(e,t){return t.shouldDisplay!==this.state.shouldDisplay},t.prototype.render=function(){var e=a.a({},this.props.injectStyles);return this.state.shouldDisplay||(e.display="none"),o.createElement("div",{style:e,id:this.props.slotID,ref:this.setRef})},t}(o.Component),p=m,g=Object(r.connect)(i)(p);n.d(t,"a",function(){return g})},1494:function(e,t,n){"use strict";var i,r=n(0),a=n(2),o=n(327),s=n(3);!function(e){e[e.BrowseGamePage=0]="BrowseGamePage",e[e.BrowseCommunitiesPage=1]="BrowseCommunitiesPage",e[e.BrowsePopularPage=2]="BrowsePopularPage",e[e.BrowseCreativePage=3]="BrowseCreativePage",e[e.BrowseDiscoverPage=4]="BrowseDiscoverPage"}(i||(i={}));var c=function(e){return r.createElement(s.S,{margin:{bottom:2}},r.createElement(s._14,null,r.createElement(s._13,{active:e.activeTab===i.BrowseGamePage,linkTo:"/directory"},Object(a.d)("Games","BrowseHeader")),r.createElement(s._13,{active:e.activeTab===i.BrowseCommunitiesPage,linkTo:"/directory/communities"},Object(a.d)("Communities","BrowseHeader")),r.createElement(s._13,{active:e.activeTab===i.BrowsePopularPage,linkTo:"/directory/all"},Object(a.d)("Popular","BrowseHeader")),r.createElement(s._13,{active:e.activeTab===i.BrowseCreativePage,linkTo:"/directory/creative"},Object(a.d)("Creative","BrowseHeader")),r.createElement(s._13,{active:e.activeTab===i.BrowseDiscoverPage,linkTo:Object(o.a)("/directory/discover"),targetBlank:Object(o.b)()},Object(a.d)("Discover","BrowseHeader"))))};n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c})},1703:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BrowsePage_AllDirectories"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:null},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},defaultValue:null},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"directoryFilters"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DirectoryFilter"}}}},defaultValue:null}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"directories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"filterBySet"},value:{kind:"Variable",name:{kind:"Name",value:"directoryFilters"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"displayName"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"name"},arguments:[],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"avatarURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"285"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"380"}}],directives:[],selectionSet:null},{kind:"Field",alias:null,name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[],selectionSet:null}]}}]}},{kind:"Field",alias:null,name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[],selectionSet:null}]}}]}}]}}],loc:{start:0,end:386}};n.loc.source={body:"query BrowsePage_AllDirectories($limit: Int, $cursor: Cursor, $directoryFilters: [DirectoryFilter!]) {\n  directories(first: $limit, after: $cursor, filterBySet: $directoryFilters) {\n    edges {\n      cursor\n      node {\n        id\n        displayName\n        name\n        avatarURL(width: 285 height: 380)\n        viewersCount\n      }\n    }\n    pageInfo {\n      hasNextPage\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},1704:function(e,t){},1860:function(e,t,n){"use strict";function i(e){return{sideNavExpanded:e.ui.sideNavExpanded}}Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1),o=n(0),s=n(41),c=n(2),l=n(1188),d=n(1187),u=n(18),m=n(6),p=n(10),g=n(76),v=n(38),y=n(8),h=n(327),f=n(25),k=n(497),b=n(1239),w=n(500),D=n(1494);!function(e){e.Games="GAMES",e.Communities="COMMUNITIES",e.Creative="CREATIVE"}(r||(r={}));var C=function(e){switch(e){case"communities":return r.Communities;case"games":return r.Games;case"creative":return r.Creative;default:return r.Games}},S=n(3),P=n(1703),B=(n(1704),"directory-first-item"),N="directory-container",E={games:D.b.BrowseGamePage,communities:D.b.BrowseCommunitiesPage,popular:D.b.BrowsePopularPage,creative:D.b.BrowseCreativePage},R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWindowResize=function(){return requestAnimationFrame(t.updateDisplayAdOrder)},t.updateDisplayAdOrder=function(){var e=document.querySelector('[data-target="'+N+'"]'),t=document.querySelector('[data-target="'+B+'"]'),n=document.querySelector("#"+w.b.directoryRectangle);if(t&&e&&n){var i=Math.round((e.clientWidth-300)/t.clientWidth).toString();n.style.order!==i&&"0"!==i&&(n.style.order=i)}},t}return a.d(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize),this.onRender()},t.prototype.componentDidUpdate=function(){this.onRender()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize)},t.prototype.componentWillReceiveProps=function(e){this.props.sideNavExpanded!==e.sideNavExpanded&&this.onWindowResize()},t.prototype.render=function(){var e=this;if(this.props.data.loading&&!this.props.data.directories)return o.createElement(S.U,{fillContent:!0});if(this.props.data.error)return o.createElement(g.a,{message:Object(c.d)("Error loading data.","BrowseDirectory")});var t=this.props.data.directories.edges.map(function(t,n){var i=t.node;return o.createElement("div",{key:i.id,"data-target":n?"":B,style:{order:n}},o.createElement(S.S,{margin:{bottom:2},"data-target":"directory-page__card-container"},o.createElement(S.s,{linkTo:{pathname:e.getPathURL(i.name),state:{content:u.a.Popular,content_index:n,medium:u.e.Browse}},title:i.displayName,imageAlt:Object(c.d)("{displayName} cover image",{displayName:i.displayName},"BrowseDirectory"),imageSrc:i.avatarURL,info:Object(c.d)("{viewerCount,number} viewers",{viewerCount:i.viewersCount},"BrowseDirectory"),"data-a-target":"card-"+n,"data-a-id":"card-"+i.displayName.replace(/ /g,"")})))}),n=!this.props.data.loading&&!this.props.data.error&&!!this.props.data.directories.pageInfo.hasNextPage;return o.createElement(S.N,{padding:3},o.createElement(v.c,{className:"browse","data-a-target":"browse-scroller"},o.createElement(b.a,{injectStyles:{textAlign:"center",marginBottom:30},adUnit:w.d.directory,slotID:w.b.directoryBanner,adSize:w.c.directoryBanner,targeting:{pagetype:w.a.games}}),o.createElement(D.a,{activeTab:E[this.props.category]}),this.renderCreateCommunityButton(),o.createElement("div",{"data-target":N},o.createElement(S._28,{gutterSize:S._30.Small,childWidth:S._29.Small,placeholderItems:20},o.createElement(b.a,{key:-1,injectStyles:{textAlign:"center",marginBottom:20,order:999,width:300,height:250},adUnit:w.d.directory,slotID:w.b.directoryRectangle,adSize:w.c.directoryRectangle,targeting:{pagetype:w.a.games},slotRendered:this.updateDisplayAdOrder}),t),o.createElement(v.a,{enabled:n,loadMore:this.props.loadMore,pixelThreshold:300}))))},t.prototype.getPathURL=function(e){var t=C(this.props.category);return t===r.Communities||t===r.Creative?Object(k.a)(e):Object(k.b)(e)},t.prototype.onRender=function(){this.props.data.loading||this.props.latencyTracking.reportInteractive(),this.updateDisplayAdOrder()},t.prototype.renderCreateCommunityButton=function(){if("communities"===this.props.category)return o.createElement(S.S,{display:S.G.Flex,justifyContent:S.R.End,margin:{bottom:2}},o.createElement(S.t,{linkTo:Object(h.a)("/communities/create"),"data-test-selector":"create-community-button-test"},Object(c.d)("Create a Community","BrowseDirectory")))},t}(o.Component),O=Object(s.compose)(Object(m.c)("BrowseDirectory"),Object(y.a)(P,{options:function(e){return{fetchPolicy:"network-only",variables:{limit:30,directoryFilters:[C(e.category)]}}},props:function(e){return a.a({},e,{loadMore:function(){return e.data.fetchMore({query:P,variables:a.a({},e.data.variables,{cursor:e.data.directories.edges[e.data.directories.edges.length-5].cursor}),updateQuery:function(e,t){var n=t.fetchMoreResult,i=n;return{directories:a.a({},i.directories,{edges:Object(f.b)(e.directories.edges,i.directories.edges)})}}})}})}}))(R),T=Object(p.connect)(i)(O),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.componentDidMount=function(){c.k.setPageTitle(Object(c.d)("Communities","BrowseCommunitiesPage"))},t.prototype.render=function(){return o.createElement(T,{category:"communities"})},t}(o.Component),j=Object(s.compose)(Object(m.c)("DirectoryPage",{autoReportInteractive:!0,destination:d.a.BrowseCommunities}),Object(l.a)({location:u.d.BrowseCommunities}))(I),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.componentDidMount=function(){c.k.setPageTitle(Object(c.d)("Creative","BrowseCreativePage"))},t.prototype.render=function(){return o.createElement(T,{category:"creative"})},t}(o.Component),M=Object(s.compose)(Object(m.c)("DirectoryPage",{autoReportInteractive:!0,destination:d.a.BrowseCreative}),Object(l.a)({location:u.d.BrowseCreative}))(_),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.d(t,e),t.prototype.componentDidMount=function(){c.k.setPageTitle(Object(c.d)("All Games","BrowseGamePage"))},t.prototype.render=function(){return o.createElement(T,{category:"games"})},t}(o.Component),F=Object(s.compose)(Object(m.c)("DirectoryPage",{autoReportInteractive:!0,destination:d.a.DirectoryGames}),Object(l.a)({location:u.d.Directory}))(x);n.d(t,"BrowseCommunitiesPage",function(){return j}),n.d(t,"BrowseCreativePage",function(){return M}),n.d(t,"BrowseGamePage",function(){return F})}});
//# sourceMappingURL=pages.browse-community-ca00d5d90ee3c28b4d08c19f0517900a.js.map