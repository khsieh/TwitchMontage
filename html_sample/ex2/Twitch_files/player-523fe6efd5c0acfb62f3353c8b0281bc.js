webpackJsonp([55],Array(19).concat([function(e,t){var n=Array.isArray;e.exports=n},,,,,,,,,,,,,,,function(e,t,n){var r=n(442),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},,function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},,,,,,,,,,,,,,,,function(e,t,n){function r(e,t,n,r){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?a(n,c,l):i(n,c,l)}return n}var i=n(156),a=n(157);e.exports=r},function(e,t,n){function r(e){return null!=e&&a(e.length)&&!i(e)}var i=n(158),a=n(298);e.exports=r},,,,,function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?a(e):o(e)}var i=n(97),a=n(999),o=n(1e3),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){function r(e){return o(e)?i(e):a(e)}var i=n(447),a=n(1012),o=n(54);e.exports=r},,,,,,,,,,,function(e,t,n){function r(e,t){var n=a(e,t);return i(n)?n:void 0}var i=n(998),a=n(1003);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){function r(e){return o(e)?i(e,!0):a(e)}var i=n(447),a=n(1044),o=n(54);e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(34),i=r.Symbol;e.exports=i},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e,t){return i(e)?e:a(e,t)?[e]:o(s(e))}var i=n(19),a=n(303),o=n(1021),s=n(306);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var i=n(166),a=1/0;e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?a(e[0],e[1]):i(e):u(e)}var i=n(1050),a=n(1067),o=n(160),s=n(19),u=n(1068);e.exports=r},,,,,function(e,t,n){"use strict";function r(e){var t=y.call(e,g),n=e[g];try{e[g]=void 0;var r=!0}catch(e){}var i=v.call(e);return r&&(t?e[g]=n:delete e[g]),i}function i(e){return w.call(e)}function a(e){return null==e?void 0===e?S:E:P&&P in Object(e)?b(e):k(e)}function o(e,t){return function(n){return e(t(n))}}function s(e){return null!=e&&"object"==typeof e}function u(e){if(!R(e)||C(e)!=I)return!1;var t=x(e);if(null===t)return!0;var n=j.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&N.call(n)==M}var c=n(107),l="object"==typeof self&&self&&self.Object===Object&&self,d=c.a||l||Function("return this")(),f=d,p=f.Symbol,h=p,m=Object.prototype,y=m.hasOwnProperty,v=m.toString,g=h?h.toStringTag:void 0,b=r,_=Object.prototype,w=_.toString,k=i,E="[object Null]",S="[object Undefined]",P=h?h.toStringTag:void 0,C=a,T=o,O=T(Object.getPrototypeOf,Object),x=O,R=s,I="[object Object]",L=Function.prototype,A=Object.prototype,N=L.toString,j=A.hasOwnProperty,M=N.call(Object);t.a=u},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(27))},,,,,,,,,,,,,,,,,function(e,t,n){function r(e,t){return o(a(e,t,i),e+"")}var i=n(160),a=n(444),o=n(446);e.exports=r},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(451);e.exports=r},function(e,t,n){var r=n(1077),i=n(1078),a=i(r);e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(157),a=n(98),o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(441);e.exports=r},function(e,t,n){function r(e){if(!a(e))return!1;var t=i(e);return t==s||t==u||t==o||t==c}var i=n(59),a=n(35),o="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t,n){function r(e){return i(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&a(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,o)}return t})}var i=n(124),a=n(161);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?a(n)&&o(t,n.length):"string"==r&&t in n)&&i(n[t],e)}var i=n(98),a=n(54),o=n(162),s=n(35);e.exports=r},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){var r=n(1008),i=n(37),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(34),i=n(1009),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(132)(e))},function(e,t,n){function r(e){return"symbol"==typeof e||a(e)&&i(e)==o}var i=n(59),a=n(37),o="[object Symbol]";e.exports=r},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}var i=n(99),a=n(100);e.exports=r},function(e,t,n){var r=n(71),i=r(Object,"create");e.exports=i},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(1030),a=n(1031),o=n(1032),s=n(1033),u=n(1034);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(98);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(1036);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(169),a=n(1052),o=n(1053),s=n(1054),u=n(1055),c=n(1056);r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){var r=n(1010),i=n(300),a=n(1011),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function r(e,t,n){return t===t?o(e,t,n):i(e,a,n)}var i=n(449),a=n(1015),o=n(1016);e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return o;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=c.test(e);return n||l.test(e)?d(e.slice(2),n?2:8):u.test(e)?o:+e}var i=n(35),a=n(166),o=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt;e.exports=r},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}var i=n(19),a=n(166),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(1023),a=n(1035),o=n(1037),s=n(1038),u=n(1039);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){var r=n(71),i=n(34),a=r(i,"Map");e.exports=a},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(454);e.exports=r},function(e,t,n){function r(e,t,n,o,s){var u=-1,c=e.length;for(n||(n=a),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,o,s):i(s,l):o||(s[s.length]=l)}return s}var i=n(172),a=n(1041);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(304),a=n(1058),o=n(1059);r.prototype.add=r.prototype.push=a,r.prototype.has=o,e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){var r=n(1062),i=n(467),a=Object.prototype,o=a.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return o.call(e,t)}))}:i;e.exports=u},function(e,t,n){var r=n(1072),i=r();e.exports=i},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(463);e.exports=r},function(e,t,n){var r=n(448),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){return a(e)&&i(e)}var i=n(54),a=n(37);e.exports=r},function(e,t,n){function r(e){if(!o(e)||i(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==f}var i=n(59),a=n(313),o=n(37),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=l.call(Object);e.exports=r},function(e,t){function n(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}e.exports=n},function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}e.exports=n},function(e,t){function n(e){return r.test(e)}var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(71),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(27))},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=a(r.length-t,0),u=Array(s);++o<s;)u[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(u),i(e,this,c)}}var i=n(445),a=Math.max;e.exports=r},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var r=n(1004),i=n(1006),a=i(r);e.exports=a},function(e,t,n){function r(e,t){var n=o(e),r=!n&&a(e),l=!n&&!r&&s(e),f=!n&&!r&&!l&&c(e),p=n||r||l||f,h=p?i(e.length,String):[],m=h.length;for(var y in e)!t&&!d.call(e,y)||p&&("length"==y||l&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,m))||h.push(y);return h}var i=n(1007),a=n(164),o=n(19),s=n(165),u=n(162),c=n(299),l=Object.prototype,d=l.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}e.exports=n},function(e,t,n){function r(e){return"string"==typeof e||!a(e)&&o(e)&&i(e)==s}var i=n(59),a=n(19),o=n(37),s="[object String]";e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=i(e))===a||e===-a){return(e<0?-1:1)*o}return e===e?e:0}var i=n(302),a=1/0,o=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){return null==e?[]:i(e,a(e))}var i=n(1017),a=n(60);e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(r.Cache||i),n}var i=n(304),a="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(o(e))return a(e,r)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(97),a=n(72),o=n(19),s=n(166),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r){if(!s(e))return e;t=a(t,e);for(var c=-1,l=t.length,d=l-1,f=e;null!=f&&++c<l;){var p=u(t[c]),h=n;if(c!=d){var m=f[p];h=r?r(m,p,f):void 0,void 0===h&&(h=s(m)?m:o(t[c+1])?[]:{})}i(f,p,h),f=f[p]}return e}var i=n(156),a=n(99),o=n(162),s=n(35),u=n(100);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,i)}var i=n(1040),a=n(457);e.exports=r},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,l=t.length,d=!1;++r<l;){var f=c(t[r]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++r!=l?d:!!(l=null==e?0:e.length)&&u(l)&&s(f,l)&&(o(e)||a(e))}var i=n(99),a=n(164),o=n(19),s=n(162),u=n(298),c=n(100);e.exports=r},function(e,t,n){function r(e){return o(a(e,void 0,i),e+"")}var i=n(459),a=n(444),o=n(446);e.exports=r},function(e,t,n){function r(e){return(null==e?0:e.length)?i(e,1):[]}var i=n(307);e.exports=r},function(e,t,n){function r(e,t,n,o,s){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!==e&&t!==t:i(e,t,n,o,r,s))}var i=n(1057),a=n(37);e.exports=r},function(e,t,n){function r(e,t,n,r,c,l){var d=n&s,f=e.length,p=t.length;if(f!=p&&!(d&&p>f))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var m=-1,y=!0,v=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++m<f;){var g=e[m],b=t[m];if(r)var _=d?r(b,g,m,t,e,l):r(g,b,m,e,t,l);if(void 0!==_){if(_)continue;y=!1;break}if(v){if(!a(t,function(e,t){if(!o(v,t)&&(g===e||c(g,e,n,r,l)))return v.push(t)})){y=!1;break}}else if(g!==b&&!c(g,b,n,r,l)){y=!1;break}}return l.delete(e),l.delete(t),y}var i=n(308),a=n(462),o=n(309),s=1,u=2;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){var r=n(34),i=r.Uint8Array;e.exports=i},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t,n){function r(e){return i(e,o,a)}var i=n(466),a=n(310),o=n(60);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return a(e)?r:i(r,n(e))}var i=n(172),a=n(19);e.exports=r},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){var r=n(1063),i=n(305),a=n(1064),o=n(469),s=n(1065),u=n(59),c=n(443),l=c(r),d=c(i),f=c(a),p=c(o),h=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||a&&"[object Promise]"!=m(a.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(71),i=n(34),a=r(i,"Set");e.exports=a},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(35);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(167);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=null==n?0:o(n);return u<0&&(u=s(r+u,0)),i(e,a(t,3),u)}var i=n(449),a=n(101),o=n(125),s=Math.max;e.exports=r},function(e,t,n){function r(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||i(e,t,n)}var i=n(157),a=n(98);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}var i=n(34),a="object"==typeof t&&t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(132)(e))},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(312);e.exports=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||o(e)?{}:i(a(e))}var i=n(1074),a=n(313),o=n(163);e.exports=r},function(e,t,n){function r(e,t,n,I,L,A){var N,j=t&E,M=t&S,q=t&P;if(n&&(N=L?n(e,I,L,A):n(e)),void 0!==N)return N;if(!w(e))return e;var D=b(e);if(D){if(N=y(e),!j)return l(e,N)}else{var B=m(e),U=B==T||B==O;if(_(e))return c(e,j);if(B==x||B==C||U&&!L){if(N=M||U?{}:g(e),!j)return M?f(e,u(N,e)):d(e,s(N,e))}else{if(!R[B])return L?e:{};N=v(e,B,r,j)}}A||(A=new i);var F=A.get(e);if(F)return F;A.set(e,N);var V=q?M?h:p:M?keysIn:k,z=D?void 0:V(e);return a(z||e,function(i,a){z&&(a=i,i=e[a]),o(N,a,r(i,t,n,a,e,A))}),N}var i=n(173),a=n(480),o=n(156),s=n(1097),u=n(1098),c=n(476),l=n(175),d=n(1099),f=n(1100),p=n(465),h=n(482),m=n(468),y=n(1101),v=n(1102),g=n(478),b=n(19),_=n(165),w=n(35),k=n(60),E=1,S=2,P=4,C="[object Arguments]",T="[object Function]",O="[object GeneratorFunction]",x="[object Object]",R={};R[C]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object DataView]"]=R["[object Boolean]"]=R["[object Date]"]=R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Map]"]=R["[object Number]"]=R[x]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object Symbol]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Error]"]=R[T]=R["[object WeakMap]"]=!1,e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},function(e,t,n){var r=n(172),i=n(313),a=n(310),o=n(467),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=u},function(e,t,n){function r(e){return i(e,o,a)}var i=n(466),a=n(481),o=n(73);e.exports=r},function(e,t,n){(function(t,r){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function a(e){G=e}function o(e){W=e}function s(){return function(){H(c)}}function u(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<z;e+=2){(0,Z[e])(Z[e+1]),Z[e]=void 0,Z[e+1]=void 0}z=0}function l(e,t){var n=arguments,r=this,i=new this.constructor(f);void 0===i[ee]&&I(i);var a=r._state;return a?function(){var e=n[a-1];W(function(){return O(a,i,e,r._result)})}():S(r,i,e,t),i}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return _(n,e),n}function f(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return ie.error=e,ie}}function y(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function v(e,t,n){W(function(e){var r=!1,i=y(n,t,function(n){r||(r=!0,t!==n?_(e,n):k(e,n))},function(t){r||(r=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,E(e,i))},e)}function g(e,t){t._state===ne?k(e,t._result):t._state===re?E(e,t._result):S(t,void 0,function(t){return _(e,t)},function(t){return E(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===d?g(e,t):n===ie?E(e,ie.error):void 0===n?k(e,t):i(n)?v(e,t,n):k(e,t)}function _(t,n){t===n?E(t,p()):e(n)?b(t,n,m(n)):k(t,n)}function w(e){e._onerror&&e._onerror(e._result),P(e)}function k(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&W(P,e))}function E(e,t){e._state===te&&(e._state=re,e._result=t,W(w,e))}function S(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+ne]=n,i[a+re]=r,0===a&&e._state&&W(P,e)}function P(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?O(n,r,i,a):i(a);e._subscribers.length=0}}function C(){this.error=null}function T(e,t){try{return e(t)}catch(e){return ae.error=e,ae}}function O(e,t,n,r){var a=i(n),o=void 0,s=void 0,u=void 0,c=void 0;if(a){if(o=T(n,r),o===ae?(c=!0,s=o.error,o=null):u=!0,t===o)return void E(t,h())}else o=r,u=!0;t._state!==te||(a&&u?_(t,o):c?E(t,s):e===ne?k(t,o):e===re&&E(t,o))}function x(e,t){try{t(function(t){_(e,t)},function(t){E(e,t)})}catch(t){E(e,t)}}function R(){return oe++}function I(e){e[ee]=oe++,e._state=void 0,e._result=void 0,e._subscribers=[]}function L(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[ee]||I(this.promise),V(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):E(this.promise,A())}function A(){return new Error("Array Methods must be provided an Array")}function N(e){return new L(this,e).promise}function j(e){var t=this;return new t(V(e)?function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function M(e){var t=this,n=new t(f);return E(n,e),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this[ee]=R(),this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&q(),this instanceof B?x(this,e):D())}function U(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=B}var F=void 0;F=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var V=F,z=0,H=void 0,G=void 0,W=function(e,t){Z[z]=e,Z[z+1]=t,2===(z+=2)&&(G?G(c):J())},K="undefined"!=typeof window?window:void 0,Q=K||{},Y=Q.MutationObserver||Q.WebKitMutationObserver,$="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),X="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),J=void 0;J=$?function(){return function(){return t.nextTick(c)}}():Y?function(){var e=0,t=new Y(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():X?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===K?function(){try{var e=n(1114);return H=e.runOnLoop||e.runOnContext,s()}catch(e){return u()}}():u();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ie=new C,ae=new C,oe=0;return L.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===te&&n<e;n++)this._eachEntry(t[n],n)},L.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===d){var i=m(e);if(i===l&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===B){var a=new n(f);b(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},L.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?E(r,n):this._result[t]=n),0===this._remaining&&k(r,this._result)},L.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},B.all=N,B.race=j,B.resolve=d,B.reject=M,B._setScheduler=a,B._setAsap=o,B._asap=W,B.prototype={constructor:B,then:l,catch:function(e){return this.then(null,e)}},U(),B.polyfill=U,B.Promise=B,B})}).call(t,n(46),n(27))},function(e,t,n){function r(e){return"function"==typeof e?e:i}var i=n(160);e.exports=r},function(e,t,n){function r(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}var i=n(301);e.exports=r},function(e,t){function n(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var i=n(1135),a=n(318),o=n(1136);e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(991)},function(e,t,n){(function(e,t){var r=r||{};r.video=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n=window.webpackJsonpTwitch_video;window.webpackJsonpTwitch_video=function(t,r,a){for(var o,s,u=0,c=[];u<t.length;u++)s=t[u],i[s]&&c.push(i[s][0]),i[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);for(n&&n(t,r,a);c.length;)c.shift()()};var r={},i={2:0};return t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(u);var t=i[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),i[e]=void 0)}var r=i[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var a=new Promise(function(t,n){r=i[e]=[t,n]});r[2]=a;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+"js/"+e+".js";var u=setTimeout(n,12e4);return s.onerror=s.onload=n,o.appendChild(s),a},t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e},t(t.s=207)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(12)},function(e,t){e.exports=n(4)},function(e,t){e.exports=n(10)},function(e,t){e.exports=n(992)},function(e,t){e.exports=n(997)},function(e,t,n){"use strict";n.d(t,"v",function(){return f}),n.d(t,"x",function(){return p}),n.d(t,"G",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"j",function(){return v}),n.d(t,"p",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"g",function(){return _}),n.d(t,"D",function(){return w}),n.d(t,"E",function(){return k}),n.d(t,"I",function(){return E}),n.d(t,"F",function(){return S}),n.d(t,"H",function(){return P}),n.d(t,"l",function(){return C}),n.d(t,"w",function(){return T}),n.d(t,"t",function(){return O}),n.d(t,"C",function(){return x}),n.d(t,"A",function(){return R}),n.d(t,"y",function(){return I}),n.d(t,"z",function(){return L}),n.d(t,"e",function(){return j}),n.d(t,"f",function(){return M}),n.d(t,"b",function(){return q}),n.d(t,"u",function(){return D}),n.d(t,"n",function(){return B}),n.d(t,"o",function(){return U}),n.d(t,"m",function(){return F}),n.d(t,"c",function(){return V}),n.d(t,"d",function(){return z}),n.d(t,"B",function(){return H}),n.d(t,"r",function(){return G}),n.d(t,"s",function(){return W}),n.d(t,"q",function(){return K}),n.d(t,"k",function(){return Q});var r=n(424),i=n.n(r),a=n(39),o=n(64),s=n(29),u=n(20),c=n(90),l=n(88),d=n(91),f="https://www.twitch.tv/signup",p="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",h=d.b,m="//www.twitch.tv",y="https://api.twitch.tv",v="https://usher.ttvnw.net",g=y+"/steam/watching",b=function(){var e=document.currentScript,t=document.getElementsByTagName("script");if(!e){var r=Array.prototype.filter.call(t,function(e){return e.src&&e.src.match(/player(?:\.\w+)?\.js$/i)});e=1===r.length?r[0]:t[t.length-1]}var i=n.i(a.a)(e.src);if("testplayer.twitch.tv"===i.authority){var o=i.path.split("/").slice(1,-2).join("/");return i.protocol+"://"+i.authority+"/"+o}return i.protocol+"://"+i.authority}(),_=1e4,w="//api.mixpanel.com",k="809576468572134f909dffa6bd0dcfcf",E=["abs_stream_format_change","minute-buffered","x_untrusted_video_init","x_untrusted_video-play","x_untrusted_minute-watched","x_untrusted_buffer-empty","x_untrusted_buffer-refill","network_profile","video_pause"],S="//spade.twitch.tv",P=[],C="//countess.twitch.tv",T=m+"/directory/game",O={width:853,height:480},x="358E83DC",R=6e3,I=8e3,L=5e3,A=[u.c,u.d,u.b,u.e,u.a,u.f,u.g,u.h,u.i,u.j,u.k,u.l,u.m,u.n,u.o,u.p,u.q,u.r,u.s],N=["usherfail",o.AD_END,o.AD_START,o.COMPANION_RENDERED,o.AD_IMPRESSION,o.AD_IMPRESSION_COMPLETE,c.b,s.b,s.c,s.d,s.e,s.f,s.g,s.h,s.i,s.j,s.k,s.l,s.m,s.n,s.o,s.p,s.q,s.r,s.s,s.t,s.a,s.u],j=i()(A,N),M=[u.o,s.b],q=(l.b,l.c,l.d,l.e,u.b,Object.freeze(["channel","video","collection","muted","autoplay","time","t","debug","debug_ads","html5","flash","quality","controls","playsinline","stream","channelId","tt_content","tt_medium"])),D=.1,B="//pubads.g.doubleclick.net/gampad/ads",U="//pubads.g.doubleclick.net/gampad/live/ads",F="3576121",V={enabled:!1,sinceEnded:45,viewerThreshold:5e4,text:"Don't panicBasket. The broadcast is down, but don't refresh just yet. When the broadcast is back, the player will automatically reload for you.",refreshTimeout:20,warningDuration:45},z="en-US",H=5,G=120,W=30,K=(new Date(2016,3,30),y+"/api/resumewatching/"),Q="https://clips.twitch.tv/api/v2/clips/"},function(e,t,n){"use strict";function i(){try{return window.self!==window.top}catch(e){return!0}}function a(){return r.notScript?i()&&!n.i(o.a)()?c:l:s}n.d(t,"c",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"o",function(){return c}),n.d(t,"n",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"s",function(){return f}),n.d(t,"r",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"k",function(){return m}),n.d(t,"i",function(){return y}),n.d(t,"g",function(){return v}),n.d(t,"l",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return k}),n.d(t,"p",function(){return E}),t.q=i,t.j=a;var o=n(91),s="site",u="site_mini",c="embed",l="popout",d="frontpage",f="dashboard",p="creative",h="curse",m="facebook",y="highlighter",v="twitch_everywhere",g="pulse",b="imdb",_="amazon_live",w="amazon_vse_test",k=["clips-viewing","clips-embed","clips-editing"],E=[s,u,c,l,d,f,p,h,m,y,v,g,b,_,"clips-viewing","clips-embed","clips-editing",w]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y}),n.d(t,"b",function(){return v});var o=n(5),s=n.n(o),u=n(23),c=n.n(u),l=n(6),d=n(148),f=n(78),p=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(24),y="vod",v=function(e){function t(e,n,a,o,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return u._vodId=e,u}return a(t,e),h(t,[{key:"_fetchAccessToken",value:function(e,t,r){return n.i(d.a)(e,t,r)}},{key:"_buildUsherParams",value:function(e){return c()({nauth:e.token,nauthsig:e.sig,allow_source:!0},this._usherParams)}},{key:"contentType",get:function(){return y}},{key:"videoId",get:function(){return this._vodId}},{key:"_baseStreamUrl",get:function(){return l.j+"/vod/"+this._vodId.substring(1)+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams()]).then(function(t){var n=p(t,2),r=n[0],i=n[1],a=e._buildUsherParams(r);return s()(a,i),e._baseStreamUrl+"?"+m.stringify(a)})}}]),t}(f.a)},function(e,t,n){"use strict";function r(e){return function(t){"Enter"===t.key&&e()}}function i(e){var t=e.children,n=e.className,i=e.disabled,a=e.onBlur,s=e.onClick,u=e.onFocus,c=e.onMouseOut,l=e.onMouseOver,d=e.tabIndex;return o.a.createElement("button",{className:n,disabled:i,onBlur:a,onClick:s,onFocus:u,onKeyUp:r(s),onMouseOut:c,onMouseOver:l,tabIndex:d,type:"button"},t)}t.a=i;var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c={className:u.a.string,children:u.a.oneOfType([u.a.arrayOf(u.a.element),u.a.element,u.a.node]),disabled:u.a.bool,onClick:u.a.func,onMouseOver:u.a.func,onMouseOut:u.a.func,onFocus:u.a.func,onBlur:u.a.func,tabIndex:u.a.string},l={className:"",disabled:!1,onClick:function(){},onMouseOver:function(){},onMouseOut:function(){},onFocus:function(){},onBlur:function(){},tabIndex:"0"};i.propTypes=c,i.defaultProps=l},function(e,t,n){"use strict";function r(e){return e.replace(/[^A-Za-z0-9_]/g,"")}function i(e){return $().then(function(e){return e.token},function(e){return null}).then(function(t){var n=Object.assign({},z.headers,e.headers||{});return t&&(n.Authorization="OAuth "+t),"PUT"===e.method&&(n["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),fetch(e.url,{method:e.method||"GET",headers:n,credentials:e.xhrFields&&e.xhrFields.withCredentials?"include":"omit",body:e.data?B.stringify(e.data):void 0}).then(function(e){return e.json()})})}function a(e){return i({url:M.h+"/kraken/"+e,headers:{Accept:F}})}function o(e,t){var n={Accept:V};return t&&t.headers&&(n=x()(n,t.headers)),i(x()({},t,{url:M.h+"/kraken/"+e,headers:n}))}function s(e){return a("streams/"+r(e))}function u(e,t){return o("users/"+e+"/subscriptions/"+t)}function c(e){return i({url:M.h+"/channels/"+r(e)+"/product"})}function l(e,t){return"users/"+r(e.toString())+"/follows/channels/"+r(t.toString())}function d(e,t){return o(l(e,t))}function f(e,t,n){return o(l(e,t),{method:n?"PUT":"DELETE"})}function p(e,t,n){return o(l(e,t),{data:{notifications:n},method:"PUT"})}function h(e){return H(e).then(function(e){var t=e._id;return o("channels/"+t+"/communities").then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject("Bad communities for "+t+": "+e)})})}function m(e){return i({url:M.h+"/v5/channels/"+e+"/collections?limit=1&exclude_empty=true"})}function y(e){var t=i({url:M.h+"/v5/collections/"+e}),n=i({url:M.h+"/v5/collections/"+e+"/items"});return Promise.all([t,n])}function v(e){var t=(e.player,e.oauth_token);if(void 0!==t){var n=t?Promise.resolve({token:t}):Promise.reject();$.cache.set(void 0,n)}}function g(e,t){return null===e.chansub&&!e.is_admin&&A()(t.restrictions,function(e,t){return e||"chansub"===t},!1)}function b(e,t){var n=M.i+"/"+r(e);return t&&(n+="?"+B.stringify(t)),n}function _(e,t,n){var i=b(e),a=t[0],o=t.substring(1);return i+="/"+r(a)+"/"+r(o),n&&(i+="?"+B.stringify(n)),i}function w(e){return H(e).then(function(e){return q.ExtensionCoordinator.ExtensionService.getInstalledExtensions(e._id)}).then(function(e){return e.installed_extensions.reduce(function(t,r){var i=r.extension,a=r.installation_status,o="active"!==a.activation_state,s="video_overlay"!==a.activation_config.anchor,u="hidden"!==a.activation_config.anchor;if(o||s&&u)return t;var c=j()(e.tokens,function(e){return i.id===e.extension_id});if(!c)return t;var l=n.i(D.a)(c.token);return t.concat({token:l,id:i.id,name:i.name,sku:i.sku,summary:i.summary,anchor:i.anchor,vendorCode:i.vendor_code,version:i.version,viewerUrl:i.viewer_url,lastUserIdentityLinkState:l.permissionsState===D.b,supportsIdentityLinking:i.request_identity_link})},[])}).catch(function(){return[]})}function k(e){return fetch("https://www.twitch.tv/user/report",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:B.stringify(e)})}function E(e,t){var n={url:e,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:B.stringify(t)};return $().then(function(e){return e.token},function(e){return null}).then(function(r){var i=Object.assign({},n.headers);return r&&(i.Authorization="OAuth "+r),fetch(e,{method:"POST",headers:i,body:B.stringify(t)})})}t.q=a,t.b=o,n.d(t,"d",function(){return H}),n.d(t,"e",function(){return G}),t.c=s,t.v=u,t.w=c,n.d(t,"f",function(){return W}),n.d(t,"j",function(){return K}),t.n=d,t.o=f,t.p=p,n.d(t,"k",function(){return Q}),n.d(t,"l",function(){return Y}),t.m=h,t.y=m,t.x=y,n.d(t,"h",function(){return $}),t.a=v,t.g=g,t.s=b,t.r=_,t.i=w,t.t=k,t.u=E;var S=n(5),P=n.n(S),C=n(416),T=n.n(C),O=n(54),x=n.n(O),R=n(17),I=n.n(R),L=n(55),A=n.n(L),N=n(37),j=n.n(N),M=n(6),q=(n(7),n(82)),D=(n.n(q),n(36)),B=n(24),U=!!("withCredentials"in new XMLHttpRequest),F="application/vnd.twitchtv.v3+json",V="application/vnd.twitchtv.v5+json",z={dataType:U?"json":"jsonp",headers:{"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"},timeout:M.g},H=T()(function(e){return null===e?Promise.reject(new Error("No channel info available on null channel ID")):a("channels/"+r(e))}),G=T()(function(e){if(null===e||void 0===e)return Promise.reject(new Error("No video info available on null video ID"));var t=a("videos/"+r(e)),n=i({url:M.h+"/api/videos/"+r(e)}).then(function(e){return I()(e,["muted_segments","increment_view_count_url","restrictions","seek_previews_url"])});return Promise.all([t,n]).then(function(e){var t=e[0].channel.name;return H(t).then(function(t){var n=P()({},e[0],e[1]);return n.channel=t,n})})}),W=T()(function(e){return i({url:M.h+"/api/channels/"+r(e)+"/viewer"})}),K=T()(function(){return i({url:M.h+"/api/viewer/info.json",xhrFields:{withCredentials:!0}})}),Q=T()(function(){return a("user")}),Y=T()(function(e){return i({url:M.h+"/api/channels/"+e})}),$=T()(function(){return fetch(M.h+"/api/viewer/token.json",{credentials:"include",headers:z.headers}).then(function(e){return e.json()})})},function(e,t){e.exports=n(1014)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y}),n.d(t,"b",function(){return v});var o=n(5),s=n.n(o),u=n(23),c=n.n(u),l=n(6),d=n(148),f=n(78),p=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(24),y="live",v=function(e){function t(e,n,a,o,s){r(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return u._channelName=e,u}return a(t,e),h(t,[{key:"_fetchAccessToken",value:function(e,t,r){return n.i(d.b)(e,t,r)}},{key:"_buildUsherParams",value:function(e){return c()({token:e.token,sig:e.sig,allow_source:!0},this._usherParams)}},{key:"contentType",get:function(){return y}},{key:"channel",get:function(){return this._channelName}},{key:"_baseStreamUrl",get:function(){return l.j+"/api/channel/hls/"+this._channelName.toLowerCase()+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams()]).then(function(t){var n=p(t,2),r=n[0],i=n[1],a=e._buildUsherParams(r);return s()(a,i),l.j+"/api/channel/hls/"+e._channelName.toLowerCase()+".m3u8?"+m.stringify(a)})}}]),t}(f.a)},function(e,t,n){"use strict";function r(e,t,n){var r=e.getState();return e.subscribe(function(){var i=!1,o=e.getState(),u=t.reduce(function(e,t){return a()(e,t,s()(o,t)),s()(o,t)!==s()(r,t)&&(i=!0),e},{});if(i){var c=r;r=o,n(u,c)}})}t.a=r;var i=n(421),a=n.n(i),o=n(410),s=n.n(o)},function(e,t,n){"use strict";function r(e){return function(t,r){switch(t(n.i(g.a)()),e.contentType){case O:return i(e,t,r);case x:return a(e,t,r);case C:case T:return o(e,t,r)}}}function i(e,t,r){var i=e.customerId,a=e.contentId,o=r(),s=o.playback;t(n.i(k.b)(v.b,{autoplay:s.autoplay,customer_id:i,content_id:a}));var u=new h.a({contentId:a,customerId:i});t({type:P,stream:u})}function a(e,t,r){var i=e.contentId,a=r(),o=a.playback;t(n.i(k.b)(v.b,{autoplay:o.autoplay}));var s=""+S.k+i+"/status";return fetch(s).then(function(e){return e.json()}).then(function(e){t(n.i(E.b)(e.quality_options));var r=new m.a(i);return t({type:P,stream:r}),n.i(y.b)("clips/"+i).then(function(e){t(n.i(_.c)(e))})})}function o(e,t,r){var i=e.contentType,a=e.contentId,o=r(),s=o.accessToken,h=o.analytics,m=o.experiments,y=o.playback,g=o.usher,w=i===C?u(a):null,E=i===T?c(a):null;t(n.i(k.b)(v.b,{autoplay:y.autoplay,channel:w,vod_id:E}));var S=l().then(function(e){return t(n.i(k.b)(v.c,{time_since_load_start:Date.now()-h.playSessionStartTime})),e}),O={adStitchingUS:m.get(d.a),adStitchingUK:m.get(d.b),adStitchingA:m.get(d.c),adStitchingB:m.get(d.d),adStitchingC:m.get(d.e),adStitchingD:m.get(d.f),adStitchingE:m.get(d.g),adStitchingF:m.get(d.h),adStitchingG:m.get(d.i),adStitchingH:m.get(d.j),adStitchingI:m.get(d.k),adStitchingPrerolls:m.get(d.l),realtimeQos:m.get(d.m)},x=void 0;i===C?x=new f.b(w,S,g,s.params,O):i===T&&(x=new p.b(E,S,g,s.params,O)),x.accessToken.then(function(){t(n.i(k.b)(v.d,{time_since_load_start:Date.now()-h.playSessionStartTime}))}),t({type:P,stream:x}),t(n.i(_.d)(x)),t(n.i(b.a)(x.channel)),t(n.i(b.b)(x.channel))}function s(){return{type:P,stream:w.a}}function u(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function c(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function l(){return n.i(y.h)().then(function(e){return e.token},function(){return null})}n.d(t,"g",function(){return P}),n.d(t,"d",function(){return C}),n.d(t,"f",function(){return T}),n.d(t,"c",function(){return O}),n.d(t,"e",function(){return x}),t.b=r,t.a=s;var d=n(27),f=n(12),p=n(8),h=n(99),m=n(132),y=n(10),v=n(57),g=n(61),b=n(62),_=n(43),w=n(52),k=n(21),E=n(48),S=n(6),P="set stream",C="channel",T="video",O="provided",x="clip"},function(e,t,n){"use strict";function r(e){return{type:a,screen:e}}function i(){return{type:o}}n.d(t,"j",function(){return a}),n.d(t,"k",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"g",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"l",function(){return h}),t.i=r,t.c=i;var a="push screen",o="pop screen",s="content",u="advertisement",c="advertisement-bb",l="stormwarning",d="vodrecommendations",f="vodrestrictedscreen",p="collectionemptyscreen",h="error"},function(e,t,n){"use strict";function r(e){return{type:f,video:e}}function i(){return{type:p}}function a(){return{type:h}}function o(){return{type:m}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:y,muted:e,automated:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:v,volume:e}}function c(e){return{type:b,issueType:e}}function l(e){return{type:_,playbackRate:e}}function d(e){return{type:w,seekTime:e}}n.d(t,"j",function(){return f}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return m}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return v}),n.d(t,"q",function(){return g}),n.d(t,"p",function(){return b}),n.d(t,"r",function(){return _}),n.d(t,"s",function(){return w}),t.h=r,t.b=i,t.c=a,t.i=o,t.a=s,t.f=u,t.e=c,t.d=l,t.g=d;var f="load video api",p="video api play content",h="video api pause content",m="automated pause content",y="video api mute player",v="video api change volume",g="video api change backend",b="video api report video issue",_="video api change playback rate",w="video api seek"},function(e,t){e.exports=n(1018)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(a,o){var s=o(),u=s.adsManager;return f(e,t,o(),n,r,i).then(function(e){e.mature&&!b.a.get(S.a,!1)||o().manifestInfo.suppress||u.requestAds(e)})}}function i(e){return h(e)?{type:x,currentMetadata:e}:N}function a(){return i(j)}function o(){return function(e,t){t().adsManager.pause()}}function s(){return function(e,t){t().adsManager.play()}}function u(e){return{type:T,detected:e}}function c(e){return{type:I,isBlacklisted:e}}function l(e){return{type:O,URL:e}}function d(e){return{type:R,imaScriptLoaded:e}}function f(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments[5];return p(r.stream).then(function(e){return Promise.all([n.i(g.j)(),n.i(g.d)(e),n.i(g.l)(e),n.i(g.f)(e),n.i(g.m)(e),r.experiments.get(k.o),r.experiments.get(k.p),r.experiments.get(k.q),r.experiments.get(k.r)])}).then(function(s){var u=P(s,9),c=u[0],l=u[1],d=u[2],f=u[3],p=u[4],h=u[5],y=u[6],v=u[7],g=u[8],_=n.i(E.a)(r.window.location.href),w=_.queryKey,k="digest"===w.referrer,S="true"===w.promo;return new m.a({adType:e,sdk:r.sdk,lastAdDisplay:b.a.get("lastAdDisplay",0),forced:i,state:r,duration:t,requestType:o,userInfo:c,channelAPIInfo:d,channelInfo:l,viewerInfo:f,creativeId:a,padtimeExpGroup:h,skippableExpGroup:y,communitiesInfo:p,bismolExpGroup:v,citadelExpGroup:g,lure:k,embedPromo:S})})}function p(e){return e instanceof y.b?Promise.resolve(e.channel):e instanceof v.b?n.i(g.e)(e.videoId).then(function(e){return e.channel.name}):Promise.reject(new Error("Invalid stream: "+e))}function h(e){return!(!e.hasOwnProperty("contentType")||!e.hasOwnProperty("rollType")||!w()(L,e.contentType)||!w()(A,e.rollType)||e.contentType===L.NONE&&e.rollType!==A.NONE||e.rollType===A.NONE&&e.contentType!==L.NONE)}n.d(t,"e",function(){return C}),n.d(t,"o",function(){return T}),n.d(t,"p",function(){return O}),n.d(t,"n",function(){return x}),n.d(t,"q",function(){return R}),n.d(t,"r",function(){return I}),n.d(t,"c",function(){return L}),n.d(t,"f",function(){return A}),t.d=r,t.h=i,t.i=a,t.k=o,t.j=s,t.b=u,t.m=c,t.g=l,t.a=d,t.l=f;var m=n(181),y=n(12),v=n(8),g=n(10),b=n(22),_=n(11),w=n.n(_),k=n(27),E=n(39),S=n(146),P=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=30,T="set adblock detected",O="set clickthrough url",x="set ad metadata",R="check to see if ima script loaded",I="set vod midroll blacklist",L=Object.freeze({NONE:"none",IMA:"ima",STITCHED:"stitched"}),A=Object.freeze({NONE:"none",PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"}),N={type:"an invalid ad action"},j={contentType:L.NONE,rollType:A.NONE}},function(e,t,n){"use strict";function r(){return function(e,t){var n=t(),r=n.playback;e({type:j,playback:{muted:E.a.get("muted",r.muted),volume:E.a.get("volume",r.volume)}})}}function i(e){return{type:G,playback:{duration:e}}}function a(e){switch(e){case S.i:return{type:q};case S.j:return{type:W};case S.q:return{type:M};case S.m:return{type:N}}}function o(e){return{type:B,playback:{autoplay:e}}}function s(e){return{type:F,muted:e}}function u(e){return{type:V,volume:Math.max(0,Math.min(1,e))}}function c(e){return{type:U,isLoading:e}}function l(e){return{type:H,currentTime:e}}function d(e,t){return{type:z,start:e,end:t}}function f(){return{type:Y}}function p(){return{type:K}}function h(e){return{type:Q,playbackRate:e}}function m(e){var t={type:Z};return Number.isFinite(e)&&e>=0&&(t={type:X,startTime:e}),t}function y(e){return{type:$,currentTime:e}}function v(e){return function(t,r){switch(r().env.playerType){case C.c:t(n.i(I.c)(e));break;case C.n:b(_(e,r),r);break;case C.g:t(n.i(I.c)(e)),t(n.i(P.a)()),t(n.i(R.b)({contentType:R.f,contentId:e}));break;default:t(n.i(P.a)()),t(n.i(R.b)({contentType:R.f,contentId:e}))}}}function g(e,t){return function(r,i){var a=i(),o=a.env,s=a.screenMode;if(o.playerType===C.c)r(s.isFullScreen?n.i(R.b)({contentType:R.f,contentId:e}):n.i(I.d)(t,e));else if(o.playerType===C.n){var u=w(e,i);b(u,i)}else r(n.i(R.b)({contentType:R.f,contentId:e}))}}function b(e,t){t().window.location.search="?"+L.stringify(e)}function _(e,t){var n=t(),r=n.window,i=k(r);return x()({},{video:e},i)}function w(e,t){var n=t(),r=n.window,i=n.collection,a=k(r);return x()({},{video:e,collection:i.pendingRequest.collectionId||i.id},a)}function k(e){var t=n.i(T.a)(e.location.search.slice(1));return delete t.channel,delete t.video,delete t.collection,delete t.time,t}n.d(t,"z",function(){return A}),n.d(t,"v",function(){return N}),n.d(t,"r",function(){return j}),n.d(t,"u",function(){return M}),n.d(t,"s",function(){return q}),n.d(t,"d",function(){return D}),n.d(t,"A",function(){return B}),n.d(t,"B",function(){return U}),n.d(t,"w",function(){return F}),n.d(t,"x",function(){return V}),n.d(t,"D",function(){return z}),n.d(t,"C",function(){return H}),n.d(t,"y",function(){return G}),n.d(t,"t",function(){return W}),n.d(t,"F",function(){return K}),n.d(t,"G",function(){return Q}),n.d(t,"E",function(){return Y}),n.d(t,"I",function(){return $}),n.d(t,"H",function(){return X}),t.e=r,t.i=i,t.j=a,t.a=o,t.q=s,t.p=u,t.g=c,t.m=l,t.l=d,t.k=f,t.c=p,t.n=h,t.b=m,t.o=y,t.f=v,t.h=g;var E=n(22),S=n(20),P=n(31),C=n(7),T=n(69),O=n(23),x=n.n(O),R=n(14),I=n(38),L=n(24),A="clear error quality restricted",N="set player ended",j="initialize playback settings",M="set player pause",q="set player playing",D="error quality restricted",B="set autoplay state",U="set loading state",F="player muted",V="volume changed",z="update buffer values",H="update current time",G="update playback duration",W="set player waiting",K="content is showing",Q="playback rate changed",Y="increment bufferEmpties count",$="player seeked",X="set start time",Z="invalid playback action"},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"j",function(){return c}),n.d(t,"k",function(){return l}),n.d(t,"l",function(){return d}),n.d(t,"m",function(){return f}),n.d(t,"n",function(){return p}),n.d(t,"o",function(){return h}),n.d(t,"p",function(){return m}),n.d(t,"q",function(){return y}),n.d(t,"r",function(){return v}),n.d(t,"s",function(){return g}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return w});var r="loadstart",i="error",a="loadedmetadata",o="canplay",s="canplaythrough",u="playing",c="waiting",l="seeking",d="seeked",f="ended",p="durationchange",h="timeupdate",m="play",y="pause",v="volumechange",g="ratechange",b="loadeddata",_="stalled",w="abort"},function(e,t,n){"use strict";function r(e){return{type:a,tracker:e}}function i(e,t){return{type:o,eventName:e,eventProperties:t}}n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),t.a=r,t.b=i;var a="set analytics tracker",o="track event"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this._storage=t}return i(e,[{key:"get",value:function(e,t){if(this.has(e))try{return JSON.parse(this._storage.getItem(e))}catch(e){}return t}},{key:"has",value:function(e){return null!==this._storage.getItem(e)}},{key:"set",value:function(e,t){this._storage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){this._storage.removeItem(e)}},{key:"clear",value:function(){this._storage.clear()}},{key:"usesCache",value:function(){return!(this._storage instanceof o)}}]),e}(),o=function(){function e(){r(this,e),this._cache={}}return i(e,[{key:"key",value:function(e){return Object.keys(this._cache)[e]}},{key:"getItem",value:function(e){return this._cache.hasOwnProperty(e)?this._cache[e]:null}},{key:"setItem",value:function(e,t){this._cache[e]=String(t)}},{key:"removeItem",value:function(e){delete this._cache[e]}},{key:"clear",value:function(){this._cache={}}}]),e}(),s=new a(function(e){if(e){var t="test_item_"+Date.now();try{if(e.setItem(t,"OK"),"OK"===e.getItem(t))return e.removeItem(t),e}catch(e){}}return new o}(function(){try{return window.localStorage}catch(e){return new o}}()));new a(new o)},function(e,t){e.exports=n(1042)},function(e,t){e.exports=n(1046)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case a.a:return t.online?s:u;case i.g:return c;case o.b:return"live"===t.streamMetadata.type?s:e;default:return e}}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u}),t.c=r;var i=n(14),a=n(73),o=n(43),s="online",u="offline",c="unknown"},function(e,t,n){"use strict";function r(e){return{type:E,showCCModal:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e||m.a.get(y,p.a.enabled);return{type:b,captions:{enabled:t,preset:m.a.get(v,p.a.preset),style:m.a.get(g,p.a.style)}}}function a(e){return{type:_,captions:{data:e}}}function o(e){return m.a.set(y,e),function(t,n){var r=e?"block":"none",i=n().captions.style,a=u(l()({},i,{display:r}));return t({type:k,captions:{enabled:e,style:a}})}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.a.set(v,e),function(n,r){var i=r().captions.style,a=u(l()({},i,t));return m.a.set(g,a),n({type:w,captions:{preset:e,style:a}})}}function u(e){var t=f()(e.fontSize,h.a.min,h.a.max);return l()({},e,{fontSize:t})}n.d(t,"d",function(){return b}),n.d(t,"g",function(){return _}),n.d(t,"e",function(){return w}),n.d(t,"f",function(){return k}),n.d(t,"c",function(){return E}),t.h=r,t.a=i,t.j=a,t.b=o,t.i=s;var c=n(23),l=n.n(c),d=n(405),f=n.n(d),p=n(131),h=n(51),m=n(22),y="captionsEnabled",v="captionsPreset",g="captionsStyle",b="captions settings initialized",_="captions data received",w="captions preset selected",k="captions toggled",E="captions show modal"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return n.i(y.k)().then(function(t){return"staff"===t.type?e:Promise.reject()})}function a(e){return n.i(y.j)().then(function(t){return d()(e,t.geo)?Promise.reject():"no"})}function o(e){var t,n;return new p.a({defaults:(t={},r(t,g,"no"),r(t,b,"no"),r(t,_,"no"),r(t,w,"no"),r(t,k,"no"),r(t,E,"no"),r(t,S,"no"),r(t,P,"no"),r(t,C,"no"),r(t,T,"no"),r(t,O,"no"),r(t,x,"no"),r(t,R,"control"),r(t,L,"1.8.10"),r(t,I,"no"),r(t,A,"no"),r(t,N,"keep"),r(t,j,"pad_control"),r(t,M,"no"),r(t,q,"no"),r(t,D,"control"),r(t,B,"no"),r(t,U,"control"),r(t,F,"control"),r(t,V,"control"),r(t,z,"2.0.0"),r(t,H,"no"),t),deviceID:e.deviceID,overrides:c()((n={},r(n,R,a(["CA","NZ","AU","DE","FR","SE","BE","PL","NO","FI","DK","NL","IT","ES","CH","AT","PT","US","GB"])),r(n,b,a(["US"])),r(n,_,a(["GB"])),r(n,w,a(["DE"])),r(n,k,a(["FR"])),r(n,E,a(["SE"])),r(n,S,a(["DK","FI","NL","NO"])),r(n,P,a(["CA"])),r(n,C,a(["AU","NZ"])),r(n,T,a(["BE"])),r(n,O,a(["PL"])),r(n,x,a(["AT","CH","ES","IT","PT"])),r(n,I,i("vca")),r(n,A,i("yes")),r(n,L,i("1.8.11")),r(n,q,i("yes")),r(n,M,i("yes")),r(n,U,i("show")),r(n,F,i("show")),r(n,z,i("2.0.0")),n),JSON.parse(s.cookie.get("experiment_overrides","{}"))),platform:"web",login:e.login,provider:new m.a(m.a.SERVICE_URL),Promise:Promise})}n.d(t,"n",function(){return g}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return P}),n.d(t,"h",function(){return C}),n.d(t,"i",function(){return T}),n.d(t,"j",function(){return O}),n.d(t,"k",function(){return x}),n.d(t,"l",function(){return R}),n.d(t,"w",function(){return I}),n.d(t,"u",function(){return A}),n.d(t,"v",function(){return N}),n.d(t,"o",function(){return j}),n.d(t,"y",function(){return M}),n.d(t,"x",function(){return q}),n.d(t,"p",function(){return D}),n.d(t,"q",function(){return B}),n.d(t,"t",function(){return F}),n.d(t,"m",function(){return V}),n.d(t,"s",function(){return z}),n.d(t,"r",function(){return H}),t.z=o;var s=n(60),u=(n.n(s),n(5)),c=n.n(u),l=n(11),d=n.n(l),f=n(426),p=n.n(f),h=n(427),m=n.n(h),y=n(10),v=n(70),g=(n.n(v),"5fbb67a0-b4ff-4775-b836-e9a348a87481"),b="84d81180-6faa-4c58-98d7-48bbff5035c7",_="a1ce3d24-076a-4664-be4c-f9046fdce18c",w="f51271fc-b922-43c5-a801-d5b44219b31f",k="17133457-67a2-41f8-8961-235020959018",E="c51b6c01-3155-4314-bd33-a63870349c1f",S="4d081a33-0d0f-4b44-bfde-cf07c358915f",P="cf2033c8-5313-4abe-8142-61b9072c9d26",C="e6a95194-9540-46e0-858f-f47e5d5e3a5d",T="c65ae62f-82dc-4394-ad75-df5f641e22d4",O="51e3d33c-157b-422d-9a15-b0f9e9c055b2",x="ac2acc22-f0ef-4162-b9a3-7357249165ca",R="ed516213-9b6f-49a0-96f7-1706aafc8e2d",I="9e5fffd0-9693-412b-913d-7da332fdeea4",L="45d73059-3cea-436a-b41f-86bb05f845f2",A="1a42d36b-3f3f-4b80-8252-bdd6cc675ec3",N="354aaebd-7643-434f-be37-98fe12c01220",j="b8d1e7be-59f7-4ee3-a0c6-54ce94366d14",M="00683bde-a79d-4b9d-a7cc-b0549f854d36",q="d0518b75-fbba-418a-9445-ff7c517beb32",D="d48fe249-fd73-4c8f-bd17-415b70dc3708",B="0ff4ccc4-fb0f-41c0-b195-db9ccdb712d5",U="74d6faab-1794-458a-a5f6-b92602254e9e",F="6e2f439b-916a-40b7-b1be-e82b284fd0bb",V="6a2630a4-edc7-4f2a-8cfe-e4de75eb0d98",z="ec70bd08-dbc8-4f48-9f60-d035fec3eb20",H="ec57d33c-2d58-4088-9ff6-617418a6cf1b"},function(e,t,n){"use strict";function r(e){return{type:s,isFullScreen:e}}function i(e){return{type:u,canFullScreen:e}}function a(){return{type:c}}function o(e){return{type:l,isTheatreMode:e}}n.d(t,"g",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return d}),t.b=r,t.a=i,t.d=a,t.c=o;var s="set fullscreen",u="set can fullscreen",c="toggle fullscreen",l="set theatre mode",d="toggle theatre mode"},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"i",function(){return i}),n.d(t,"z",function(){return a}),n.d(t,"r",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"v",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"q",function(){return d}),n.d(t,"k",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"n",function(){return v}),n.d(t,"w",function(){return g}),n.d(t,"e",function(){return b}),n.d(t,"o",function(){return _}),n.d(t,"p",function(){return w}),n.d(t,"x",function(){return k}),n.d(t,"y",function(){return E}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return P}),n.d(t,"a",function(){return C}),n.d(t,"j",function(){return T}),n.d(t,"u",function(){return O});var r="init",i="contentShowing",a="playbackStatistics",o="abs_stream_format_change",s="bufferChange",u="segmentchange",c="usherFail",l="captions",d="viewerschange",f="qualitychange",p="online",h="offline",m="restricted",y="castingchange",v="theatrechange",g="midrollrequested",b="manifestExtraInfo",_="transitionToCollectionVod",w="transitionToRecommendedVod",k="stitchedadstart",E="stitchedadend",S="persistentPlayerEnableToggle",P="statsupdate",C="prompt login modal",T="openStream",O="ready"},function(e,t,n){"use strict";function r(e){var t=/^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/,n=t.exec(e);if(!n)return null;for(var r=0,i=1;i<n.length;i++)r=60*r+(parseInt(n[i],10)||0);return r}function i(e,t){var n=[e/3600,e/60%60,e%60];if(t)for(;n.length&&n[0]<1;)n.shift();for(var r=0;r<n.length;r++){var i=Math.floor(n[r]);n[r]=i<10?"0"+i:i}return n}function a(e,t){return!isFinite(e)||e<0?"00:00:00":i(e,t).join(":")}function o(e){var t=i(e,!0),n=["h","m","s"],r="";t=t.reverse(),n=n.reverse();for(var a=0;a<t.length;a++)r=t[a]+n[a]+r;return r}t.a=r,t.b=i,t.d=a,t.c=o},function(e,t,n){"use strict";function r(e){return{type:v,featuredCollection:c(e)}}function i(e){return{type:m,collection:l(e)}}function a(){return{type:y}}function o(){return{type:g}}function s(){return{type:b}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:h,request:{collectionId:e,videoId:t,timestamp:n}}}function c(e){return{id:e._id,owner:{id:e.owner._id,displayName:e.owner.display_name,name:e.owner.name},thumbnails:e.thumbnails,title:e.title,itemsCount:e.items_count}}function l(e){return{id:e._id,owner:{id:e.owner._id,displayName:e.owner.display_name,name:e.owner.name},thumbnails:e.thumbnails,title:e.title,totalDuration:e.total_duration,views:e.views,items:e.items.map(function(e){return d(e)})}}function d(e){return{itemId:e.item_id,title:e.title,owner:{displayName:e.owner.display_name},thumbnails:{small:e.thumbnails?e.thumbnails.small:k}}}function f(){return{type:_}}function p(){return{type:w}}n.d(t,"d",function(){return h}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return y}),n.d(t,"e",function(){return v}),n.d(t,"o",function(){return g}),n.d(t,"n",function(){return b}),n.d(t,"h",function(){return _}),n.d(t,"i",function(){return w}),t.p=r,t.k=i,t.a=a,t.l=o,t.m=s,t.b=u,t.j=f,t.c=p;var h="request collection",m="set collection",y="clear collection",v="fetched featured collection",g="loaded last collection item",b="loaded collection item",_="open collection sidebar",w="close collection sidebar",k="https://static-cdn.jtvnw.net/ttv-playlists-thumbnails-prod/no-thumbnail-sm.png"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.e:return s()({},e,f);case i.f:return s()({},e,{loadingState:i.g,channel:t.channel,activeOverlayExtensions:[]});case i.h:return s()({},e,{loadingState:i.i,channel:t.channel,activeOverlayExtensions:t.extensions});case i.j:return s()({},e,{loadingState:i.k,channel:t.channel});case i.l:return s()({},e,{activeOverlayExtensions:e.activeOverlayExtensions.map(function(e){if(e.id!==t.extensionId)return e;var n=e.token.permissionsState===a.b;return s()({},e,{lastUserIdentityLinkState:!n})})});case i.m:return s()({},e,{activeOverlayExtensions:e.activeOverlayExtensions.map(function(e){return e.id!==t.extensionId?e:c()({},e,{token:{permissionsState:t.isLinked?a.b:a.j}})})});case i.n:return s()({},e,{modalRequest:t.modalRequest});case i.o:return s()({},e,{purchaseIntent:t.purchaseIntent});default:return e}}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return h}),t.c=r;var i=n(62),a=n(36),o=n(5),s=n.n(o),u=n(54),c=n.n(u),l=n(1),d=n.n(l),f={loadingState:i.d,channel:void 0,activeOverlayExtensions:[],modalRequest:void 0,purchaseIntent:null},p=d.a.shape({id:d.a.string.isRequired,name:d.a.string.isRequired,summary:d.a.string.isRequired,anchor:d.a.string.isRequired,version:d.a.string.isRequired,viewerUrl:d.a.string.isRequired,lastUserIdentityLinkState:d.a.bool.isRequired,supportsIdentityLinking:d.a.bool.isRequired,token:d.a.shape({token:d.a.string.isRequired,permissionsState:d.a.string.isRequired,role:d.a.string.isRequired})}).isRequired,h=d.a.shape({message:d.a.shape({action:d.a.string.isRequired,payload:d.a.object.isRequired}),resultCallback:d.a.func.isRequired})},function(e,t,n){"use strict";function r(e){return{type:a,value:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return{type:o,value:e}}n.d(t,"f",function(){return a}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return c}),t.a=r,t.d=i;var a="set miniplayer",o="show settings menu",s="none",u="settings",c="extensions"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.a:return a()({},t.userInfo,{loggedInStatus:u});case o.b:return a()({},l,{loggedInStatus:c});default:return e}}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u}),t.c=r;var i=n(5),a=n.n(i),o=n(96),s="unknown",u="logged in",c="not logged in",l={loggedInStatus:s,id:0,isStaff:!1,name:""}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.labelClass,n=e.label,i=e.iconId,a=e.translate,s=e.iconClass,u=e.svgClass,c=d()(r({"player-tip":!0},t,""!==t));return o.a.createElement("span",null,o.a.createElement("span",{className:c,"data-tip":a(n)}),o.a.createElement("span",{className:s},o.a.createElement("svg",{className:u},o.a.createElement("use",{xlinkHref:i}))))}n.d(t,"a",function(){return h});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(4),l=(n.n(c),n(2)),d=n.n(l),f={labelClass:u.a.string,label:u.a.string.isRequired,iconId:u.a.string.isRequired,translate:u.a.func,iconClass:u.a.string,svgClass:u.a.string},p={labelClass:"",translate:function(e){return e},iconClass:"",svgClass:""};i.propTypes=f,i.defaultProps=p;var h=n.i(c.translate)(null,{translateFuncName:"translate"})(i)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(!e)return v;try{var t=JSON.parse(atob(e.split(".")[1])),n=!(!t||!t.user_id),r=t.role,i=n?l:c;return s()({},v,{token:e,permissionsState:i,role:r})}catch(e){console.error("Error parsing extension token",e)}return s()({},v,{token:e})}n.d(t,"j",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return g}),t.a=i;var a,o=n(5),s=n.n(o),u=n(7),c="none",l="granted",d="broadcaster",f="main menu",p="extension details",h="extension manage access",m="extension report",y="hidden",v={permissionsState:c,role:"viewer"},g=(a={},r(a,u.b,!0),r(a,u.h,!0),r(a,u.k,!0),r(a,u.i,!0),r(a,u.l,!0),r(a,u.g,!0),r(a,u.e,!0),a)},function(e,t){e.exports=n(1048)},function(e,t,n){"use strict";function r(){return{type:v}}function i(e){return{type:f,emitter:e}}function a(){return{type:p}}function o(e,t){return{type:m,collectionId:e,vodId:t}}function s(e){return{type:y,vodId:e}}function u(){return{type:b}}function c(){return{type:_}}function l(){return{type:g}}function d(){return{type:h}}n.d(t,"m",function(){return f}),n.d(t,"n",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return y}),n.d(t,"o",function(){return v}),n.d(t,"r",function(){return g}),n.d(t,"p",function(){return b}),n.d(t,"q",function(){return _}),t.b=r,t.f=i,t.e=a,t.d=o,t.c=s,t.i=u,t.g=c,t.h=l,t.a=d;var f="use event emitter",p="emit open stream",h="emit player ready",m="transition to collection",y="transition to recommended vod",v="emit fullscreen change",g="emit ad pause",b="emit ad play",_="emit ad playing"},function(e,t,n){"use strict";function r(e){for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}t.a=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"twitch.web",n={iu:"/"+d.m+"/"+t+"/client/desktop/live/"+e.channelId,ius_szs:"300x250",sz:"640x480",impl:"s",gdfp_req:"1",env:"vp",output:"xml_vast3",url:e.url,correlator:Date.now(),cust_params:o(e),unviewed_position_start:"1"},r=l()(n,function(e,t,n){return e.push(n+"="+t),e},[]).join("&");return e.contentType===h.a?d.n+"?"+r:d.o+"?"+r}function a(e){return"string"==typeof e?e.toLowerCase().replace(/[^a-z0-9]+/g,"_"):""}function o(e){var t={partner:e.partner,game:e.game,chan:e.channel,chanid:e.channelId,deviceId:e.deviceId,twitchCorrelator:e.twitchCorrelator,embed:e.playerType===f.o,platform:e.platform,playerType:e.playerType,mature:e.mature,pos:_[e.adType],timebreak:e.duration,adblock:void 0===e.adblock?"unknown":e.adblock,sdk:e.sdk,padtime:e.padtime};if("control"!==e.skippableExpGroup&&(t.skip=e.skippableExpGroup),null!==e.communityIds&&(t.community=e.communityIds),null!==e.kruxId&&(t.kuid=e.kruxId),e.contentType===h.a&&(t.vod_id=e.vod.id,t.vod_name=e.vod.name,t.vod_type=e.vod.type),t.embed){var r=n.i(p.a)(e.referrer);t.embed_url=r.host.split(".").slice(-2).join(".")}return t=s(e,t),l()(t,function(e,t,n){var r=String(t);return y()(w,n)||(r=r.toLowerCase()),e.push(n+"="+r),e},[]).join("&").replace(/[=&, ]/g,function(e){switch(e){case"=":return"%3D";case"&":return"%26";case",":return"%2C";case" ":return"_"}})}function s(e,t){var n=t;return e.amznbid&&e.amzniid&&(n.amznbid=e.amznbid,n.amzniid=e.amzniid),n}n.d(t,"b",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return b}),t.e=i,t.a=a;var u,c=n(55),l=n.n(c),d=n(6),f=n(7),p=n(39),h=n(8),m=n(11),y=n.n(m),v="preroll",g="midroll",b="postroll",_=(u={},r(u,v,"1"),r(u,g,"2"),r(u,b,"3"),u),w=["amznbid","amzniid"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"g",function(){return b}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return w}),n.d(t,"e",function(){return k}),n.d(t,"c",function(){return E}),n.d(t,"f",function(){return S}),n.d(t,"a",function(){return P}),n.d(t,"h",function(){return O});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(11),d=n.n(l),f=n(369),p=n(371),h=n(368),m=n(372),y=n(370),v=n(374),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b="main menu",_="quality menu",w="advanced menu",k="report issues menu",E="playback speed menu",S="staff menu",P=85,C=[b,_,w,k,E,S],T={playerHeight:c.a.number.isRequired},O=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentMenu:b},e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return a(t,e),g(t,[{key:"handleMenuTransition",value:function(e){d()(C,e)&&this.setState({currentMenu:e})}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-P+"px"};return s.a.createElement("div",{className:"pl-menu",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.state.currentMenu){case _:return s.a.createElement(p.a,{onMenuTransition:this.handleMenuTransition});case w:return s.a.createElement(h.a,{onMenuTransition:this.handleMenuTransition});case k:return s.a.createElement(m.a,{onMenuTransition:this.handleMenuTransition});case E:return s.a.createElement(y.a,{onMenuTransition:this.handleMenuTransition});case S:return s.a.createElement(v.a,{onMenuTransition:this.handleMenuTransition});case b:default:return s.a.createElement(f.a,{onMenuTransition:this.handleMenuTransition})}}}]),t}(s.a.Component);O.propTypes=T},function(e,t,n){"use strict";function r(e){return{type:b,show:e}}function i(e,t){return e===t.stream}function a(e,t){return function(a,o){var s=o(),u=s.stream;return n.i(y.n)(e,t).then(function(e){var t=e.notifications;i(u,o())&&(d(a,e),a(r(!t)))}).catch(function(e){i(u,o())&&(f(a,e),a(r(!0)))})}}function o(e,t){return function(r){return n.i(y.o)(e,t,!0).then(function(e){return d(r,e)}).catch(function(){})}}function s(e,t){return function(r){return n.i(y.o)(e,t,!1).then(function(){return r(l({following:!1,notificationsEnabled:!1}))}).catch(function(){})}}function u(e,t){return function(r,i){var a=i(),o=a.analyticsTracker;return n.i(y.p)(e,t,!0).then(function(e){return d(r,e)}).then(function(){return h(o)}).catch(function(){})}}function c(e,t){return function(r,i){var a=i(),o=a.analyticsTracker;return n.i(y.p)(e,t,!1).then(function(e){return d(r,e)}).then(function(){return m(o)}).catch(function(){})}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:v,followInfo:e}}function d(e,t){var n=t.channel,r=t.notifications;n._id&&void 0!==r&&e(l({following:!0,notificationsEnabled:r}))}function f(e,t){404===t.status&&e(l({following:!1,notificationsEnabled:!1}))}function p(e){return{type:g,channelName:e}}function h(e){e.trackEvent(w,{src:"player"}),e.trackEvent(S,{notifications:!0})}function m(e){e.trackEvent(S,{notifications:!1})}n.d(t,"o",function(){return v}),n.d(t,"m",function(){return g}),n.d(t,"n",function(){return b}),n.d(t,"g",function(){return _}),n.d(t,"h",function(){return k}),n.d(t,"e",function(){return E}),n.d(t,"i",function(){return P}),n.d(t,"f",function(){return C}),t.a=a,t.j=o,t.k=s,t.b=u,t.c=c,t.l=l,t.d=p;var y=n(10),v="follow info fetched",g="prompt login modal",b="show follow notification",_="follow_on_notif_on",w="follow",k="player_notifbutton_clicks",E="player_notifbutton_views",S="notification_change",P="notif_off",C="notif_on"},function(e,t,n){"use strict";function r(e){return{type:b,streamMetadata:c(e)}}function i(e){return{type:b,streamMetadata:l(e)}}function a(e){return function(t,r){if(r().stream.contentType===h.a&&r().streamMetadata.broadcastID!==e){var a=r().window,o=r().stream.channel,s=0;return new Promise(function(u,c){function l(){if(o!==r().stream.channel)return void c();n.i(p.c)(o).then(function(r){r.stream&&r.stream._id===e?(t(n.i(y.a)(r.stream.viewers)),t(i(r.stream)),u(r)):s<w.length?(a.setTimeout(l,w[s]),s+=1):c()})}l()})}}}function o(e){return function(t,a){e.contentType===h.a?n.i(p.c)(e.channel).then(function(r){r.stream?t(i(r.stream)):n.i(p.d)(e.channel).then(function(e){t({type:b,streamMetadata:d(e)})})}):e.contentType===m.a&&n.i(p.e)(e.videoId).then(function(e){t(r(e))})}}function s(e){return function(t,r){n.i(p.d)(e).then(function(e){t({type:b,streamMetadata:g()({},d(e),{streamType:"dead_ltv"})})})}}function u(e){return{type:b,streamMetadata:g()({},f(e))}}function c(e){return{broadcastID:e.broadcast_id,type:e.broadcast_type,name:e.title,channel:{displayName:e.channel.display_name,name:e.channel.name,id:e.channel._id,partner:e.channel.partner,status:e.status,videoBanner:e.channel.video_banner,logo:e.channel.logo,mature:e.channel.mature},createdAt:e.created_at,game:e.game,preview:{template:e.preview},url:e.url,viewers:_}}function l(e){return{broadcastID:e._id,type:"live",streamType:e.stream_type,name:"",channel:{displayName:e.channel.display_name,name:e.channel.name,id:e.channel._id,partner:e.channel.partner,status:e.channel.status,videoBanner:e.channel.video_banner,logo:e.channel.logo,mature:e.channel.mature},createdAt:e.created_at,game:e.game,preview:{template:e.preview.template},url:e.channel.url,viewers:e.viewers}}function d(e){return{channel:{displayName:e.display_name,name:e.name,id:e._id,partner:e.partner,status:e.status,videoBanner:e.video_banner,logo:e.logo,mature:e.mature},game:e.game,url:e.url}}function f(e){return{channel:{displayName:e.broadcaster.display_name,name:e.broadcaster.name,id:e.broadcaster.id,logo:e.broadcaster.logo},game:e.game,url:e.url}}n.d(t,"b",function(){return b}),n.d(t,"e",function(){return _}),t.f=a,t.d=o,t.a=s,t.c=u;var p=n(10),h=n(12),m=n(8),y=n(97),v=n(5),g=n.n(v),b="set streammetadata",_=0,w=[15e3,3e4,6e4,12e4,3e5,6e5]},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case u.a:return a()({},e,{deviceName:t.deviceName});case u.b:return s()(p,t.castingState)?a()({},e,{castingState:t.castingState}):e;default:return e}}n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return p}),t.f=r;var i=n(5),a=n.n(i),o=n(11),s=n.n(o),u=n(71),c="unavailable",l="available",d="connecting",f="connected",p=Object.freeze([c,l,d,f]),h={deviceName:"",castingState:c}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.d:return s()({},e,{pendingRequest:t.request});case i.e:return s()({},e,{featuredCollection:s()({},d,t.featuredCollection)});case i.f:return s()({},f,t.collection,{pendingRequest:{collectionId:"",videoId:"",timestamp:""},currentView:u});case i.g:return f;case i.h:return s()({},e,{currentView:c});case i.i:return s()({},e,{currentView:u});case a.g:return s()({},e,{pendingRequest:{collectionId:"",videoId:"",timestamp:""},featuredCollection:d});default:return e}}n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),t.d=r;var i=n(31),a=n(14),o=n(54),s=n.n(o),u="collapsed",c="sidebar",l="none",d={id:"",itemsCount:0,owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:""},f={id:"",owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:"",totalDuration:0,views:0,items:[],currentView:l,pendingRequest:{collectionId:"",videoId:"",timestamp:""},featuredCollection:d}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case i.b:return l()({},e,t.streamMetadata);case a.g:return f()({},m,{channelName:t.stream.contentType===o.a?t.stream.channel:null,videoId:t.stream.contentType===s.a?t.stream.videoId:null,contentId:t.stream.contentType===u.b?t.stream.contentId:"",customerId:t.stream.contentType===u.b?t.stream.customerId:""});default:return e}}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h}),t.c=r;var i=n(43),a=n(14),o=n(12),s=n(8),u=n(99),c=n(54),l=n.n(c),d=n(5),f=n.n(d),p="dead_ltv",h="watch_party",m=Object.freeze({broadcastID:0,type:"",channelName:null,videoId:null,contentId:"",customerId:"",channel:{displayName:"",name:"",id:0,partner:!1,status:"",videoBanner:"",logo:"",mature:!1},createdAt:"",game:"",preview:{template:""},streamType:"",url:"",viewers:i.e})},function(e,t,n){var r;(function(){"use strict";function t(){}function i(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}var o=t.prototype,s=this,u=s.EventEmitter;o.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},o.addListener=function(e,t){var n,r=this.getListenersAsObject(e),a="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===i(r[n],t)&&r[n].push(a?t:{listener:t,once:!1});return this},o.on=a("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=a("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,r,a=this.getListenersAsObject(e);for(r in a)a.hasOwnProperty(r)&&-1!==(n=i(a[r],t))&&a[r].splice(n,1);return this},o.off=a("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},o.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=a("removeEvent"),o.emitEvent=function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=n.length;i--;)r=n[i],!0===r.once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},o.trigger=a("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=u,t},void 0!==(r=function(){return t}.call(s,n,s,e))&&(e.exports=r)}).call(this)},function(e,t,n){"use strict";function r(e){return{type:_,absAvailable:e}}function i(){return function(e,t){var n=t(),r=n.quality;e({type:v,quality:h.a.get("quality",r.selected),bitrate:h.a.get("quality-bitrate",r.bitrate)})}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;return function(n,r){var i=r(),a=i.analyticsTracker,o=i.manifestInfo,s=i.quality;if(-1!==i.stream.restrictedBitrates.indexOf(e))return void n({type:p.d});a.trackEvent("quality_change_request",{prev_quality:s.current,new_quality:e,serving_id:o.serving_id}),n({type:v,quality:e,bitrate:t})}}function o(e){return function(){h.a.set("quality",e.group),h.a.set("quality-bitrate",e.bandwidth)}}function s(e){return{type:g,quality:e}}function u(e,t){return y()(t,function(t){return t.group+"2"===e||e+"2"===t.group})}function c(e){return function(t,n){var r=n(),i=r.quality,a=r.stream,o=e.filter(function(e){return!f()(a.restrictedBitrates,e.group)});if(o.length>0&&!o.some(function(e){return e.group===i.selected})&&i.selected!==k){var s=o.sort(function(e,t){return t.bandwidth-e.bandwidth}),c=u(i.selected,s),l=y()(s,function(e){return e.bandwidth<=i.bitrate}),d=c||l||s[s.length-1],p=d.group,h=d.bandwidth;t({type:v,quality:p,bitrate:h})}t({type:b,qualities:e})}}function l(e){var t=e.map(function(e){return{name:e.quality+"p",group:e.quality+"p"+e.frame_rate,bitrate:"",resolution:C[e.quality],source:e.source}});return{type:b,qualities:t}}n.d(t,"m",function(){return v}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return b}),n.d(t,"p",function(){return _}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return k}),n.d(t,"g",function(){return E}),n.d(t,"h",function(){return S}),n.d(t,"i",function(){return P}),t.j=r,t.a=i,t.c=a,t.d=o,t.l=s,t.k=c,t.b=l;var d=n(11),f=n.n(d),p=n(19),h=n(22),m=n(37),y=n.n(m),v="select quality",g="set current quality",b="set qualities",_="abs is availabile",w="auto-quality-forced-v2",k="auto",E=Object.freeze({bitrate:0,resolution:"0x0",group:"auto",name:"Auto"}),S="medium",P=992e3,C=Object.freeze({1080:"1920x1080",720:"1280x720",480:"854x480",360:"640x360"})},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments[1];switch(t.type){case f.d:return s()({},e,{deviceId:t.deviceId});case f.e:var n=y()(h.p,t.playerType)?t.playerType:e.playerType;return s()({},e,{playerType:n});case f.f:return s()({},e,{twitchEverywhere:t.params});case p.b:return s()({},e,{platform:i((t.window.navigator||{}).userAgent),isMobileLocation:a(t.window)});default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=c.a._detect(e);return t.mobile||t.tablet?g:v}function a(e){var t=n.i(l.a)(e.document.referrer),r=void 0;try{r=e!==e.top}catch(e){r=!0}return r&&t.protocol===w&&t.host===_}n.d(t,"a",function(){return g}),t.b=r;var o=n(5),s=n.n(o),u=n(70),c=n.n(u),l=n(39),d=n(7),f=n(86),p=n(67),h=n(7),m=n(11),y=n.n(m),v="web",g="mobile_web",b=Object.freeze({deviceId:"",playerType:d.n,platform:v,isMobileLocation:!1}),_="m.twitch.tv",w="https"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return function(t,n){var r=n().streamMetadata.channel.name;if(n().recommendations.status!==b||""===r)return Promise.resolve();var c=Math.floor(Math.random()*C);return t({type:g,status:_}),new Promise(function(e){n().window.setTimeout(e,c)}).then(function(){return n().experiments.get(d.u)}).then(function(e){return"yes"===e?a(n().stream.videoId):Promise.reject()}).catch(function(){return i(r,k+1)}).then(function(r){var i=n(),a=i.resumeWatch,c=i.streamMetadata,l=r.filter(function(e){return e.broadcast_id!==c.broadcastID}).sort(function(e,t){var n=s(e,a.times),r=s(t,a.times);return!n&&r?-1:n&&!r?1:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}).map(o);t(u(l,e))})}}function i(e,t){var r={limit:t,broadcast_type:"archive"};return n.i(l.q)("channels/"+e+"/videos?"+h.stringify(r)).then(function(e){return e.videos.map(function(e){return p()(e,{recommendationType:O})})})}function a(e){return n.i(l.q)("videos/similar/"+e).then(function(e){var t=e.similar_videos;return 0===t.length?Promise.reject():t.map(function(e){return p()(e,{recommendationType:T})})})}function o(e){return{recommendationType:e.recommendationType,creationDate:e.created_at,thumbnailURL:e.thumbnails.length>0?e.thumbnails[0].url:"",title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}}function s(e,t){if(!t.hasOwnProperty(e._id))return!1;var n=t[e._id];if(0===n)return!0;var r=Math.max(E,P*e.length);return e.length>E&&n>r}function u(e,t){return{type:m,recommendationsType:t,videos:e}}function c(){return{type:y}}n.d(t,"k",function(){return m}),n.d(t,"n",function(){return y}),n.d(t,"m",function(){return v}),n.d(t,"l",function(){return g}),n.d(t,"h",function(){return b}),n.d(t,"j",function(){return w}),n.d(t,"g",function(){return S}),n.d(t,"c",function(){return O}),n.d(t,"a",function(){return x}),n.d(t,"d",function(){return R}),t.i=r,t.f=s,t.e=u,t.b=c;var l=n(10),d=n(27),f=n(5),p=n.n(f),h=n(24),m="set VOD recommendations",y="clear VOD recommendations",v="set number of VOD recommendations visible",g="set fetching recommendations status",b="unfetched",_="fetching",w="fetched",k=32,E=300,S=12e3,P=.1,C=5e3,T="similar",O="channel",x="post vod recommendations",R="offline recommendations"},function(e,t,n){"use strict";function r(e,t){return"transparent"===e?"transparent":"rgba("+e+","+t+")"}n.d(t,"b",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"m",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return h}),n.d(t,"l",function(){return m}),n.d(t,"i",function(){return y}),t.c=r,n.d(t,"d",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"a",function(){return b});var i=n(23),a=n.n(i),o={fontSize:20,font:"prop-sans-serif",fontOpacity:"solid",alignment:"left",edge:"none",verticalPosition:"bottom",backgroundColorName:"black",backgroundOpacity:"solid",windowColorName:"transparent",windowOpacity:"solid",fontUnderline:"none",fontBold:"none",fontItalic:"none"},s=a()({},o,{backgroundColorName:"black",backgroundOpacity:"translucent"}),u={"white-on-black":a()({},o,{fontColorName:"white"}),"cyan-on-black":a()({},o,{fontColorName:"cyan"}),"yellow-on-black":a()({},o,{fontColorName:"yellow"}),"lime-on-black":a()({},o,{fontColorName:"green"}),"magenta-on-black":a()({},o,{fontColorName:"magenta"}),"white-on-trans-black":a()({},s,{fontColorName:"white"}),"cyan-on-trans-black":a()({},s,{fontColorName:"cyan"}),"yellow-on-trans-black":a()({},s,{fontColorName:"yellow"}),"lime-on-trans-black":a()({},s,{fontColorName:"green"}),"magenta-on-trans-black":a()({},s,{fontColorName:"magenta"}),"black-on-white":a()({},o,{backgroundColorName:"white",fontColorName:"black"})},c={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},l={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"},flashing:{opacityValue:1,animation:"blink .75s linear infinite"}},d={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},f={left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"}},p={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},h={italic:{fontStyle:"italic"},none:{fontStyle:"normal"}},m={bold:{fontWeight:"bold"},none:{fontWeight:"normal"}},y={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}},v={black:{fontColorValue:"0,0,0"},white:{fontColorValue:"255,255,255"},red:{fontColorValue:"255,0,0"},green:{fontColorValue:"0,255,0"},blue:{fontColorValue:"0,0,255"},yellow:{fontColorValue:"255,255,0"},magenta:{fontColorValue:"255,0,255"},cyan:{fontColorValue:"0,255,255"}},g={black:{backgroundColorValue:"0,0,0"},white:{backgroundColorValue:"255,255,255"},red:{backgroundColorValue:"255,0,0"},green:{backgroundColorValue:"0,255,0"},blue:{backgroundColorValue:"0,0,255"},yellow:{backgroundColorValue:"255,255,0"},magenta:{backgroundColorValue:"255,0,255"},cyan:{backgroundColorValue:"0,255,255"},lightgray:{backgroundColorValue:"199,199,199"},gray:{backgroundColorValue:"145,145,145"},darkgray:{backgroundColorValue:"91,91,91"},transparent:{backgroundColorValue:"transparent"}},b={increment:5,decrement:-5,max:40,min:10}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=null,o=function(){function e(){r(this,e)}return i(e,[{key:"contentType",get:function(){return a}},{key:"channel",get:function(){return""}},{key:"restrictedBitrates",get:function(){return[]}},{key:"videoId",get:function(){return""}},{key:"slug",get:function(){return""}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),e}(),s=new o},function(e,t,n){"use strict";function r(e,t){return 0===t?0:100*e/t}t.a=r},function(e,t){e.exports=n(1070)},function(e,t){e.exports=n(1076)},function(e,t,n){"use strict";function r(){return{type:E,times:v.a.get(I,{}),watch:v.a.get(L,{}),streamTimes:v.a.get(A,{}),lastTimeStamp:0,userId:null,isSeeked:!1}}function i(e){return{type:R,isSeeked:e}}function a(e,t,n,r,i){var a=fetch(g.q+"user-video?id="+e,{method:"PUT",credentials:"include",body:w.stringify({video_id:t,channel_user_id:n,position:Math.floor(r),type:i}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}});return Promise.resolve(a)}function o(e){return e?fetch(g.q+"user?id="+e,{method:"GET",credentials:"include"}).then(function(e){return e.json()}):Promise.reject()}function s(e){return{type:k,resumeTimes:e}}function u(e,t,n){return t-e>n}function c(e,t,n){return 0===t&&0!==e||Math.abs(e-t)>n}function l(e,t,n){return function(r,i){var o=i(),s=o.resumeWatch,l=o.window,d=o.analytics;s.userId&&u(d.playSessionStartTime,l.Date.now(),s.initUpdateOffset)&&c(n,s.lastTimeStamp,s.updateInterval)&&(a(s.userId,e,t,n,b.a),r({type:O,lastTimeStamp:Math.floor(n)}))}}function d(e,t,n){return function(r,i){var o=i(),s=o.resumeWatch,l=o.window,d=o.analytics;s.userId&&u(d.playSessionStartTime,l.Date.now(),s.initUpdateOffset)&&c(n,s.lastTimeStamp,s.updateInterval)&&(a(s.userId,e,t,n,_.a),r({type:O,lastTimeStamp:Math.floor(n)}))}}function f(e,t,n){return function(r,i){i().resumeWatch.userId?r(l(e,t,n)):(r({type:P,videoID:e,time:n}),y(i()))}}function p(e,t){return function(n,r){r().resumeWatch.userId?n(l(e,t,0)):(n({type:S,videoID:e}),y(r()))}}function h(e,t,n){return function(r,i){i().resumeWatch.userId?r(d(e,t,n)):(r({type:T,broadcastID:e,time:n}),y(i()))}}function m(e,t){return function(n,r){r().resumeWatch.userId?n(d(e,t,0)):(n({type:C,broadcastID:e}),y(r()))}}function y(e){v.a.set(I,e.resumeWatch.times),v.a.set(L,e.resumeWatch.watch),v.a.set(A,e.resumeWatch.streamTimes)}n.d(t,"m",function(){return k}),n.d(t,"k",function(){return E}),n.d(t,"n",function(){return S}),n.d(t,"j",function(){return P}),n.d(t,"o",function(){return C}),n.d(t,"i",function(){return T}),n.d(t,"p",function(){return O}),n.d(t,"l",function(){return x}),n.d(t,"q",function(){return R}),t.a=r,t.b=i,t.d=o,t.e=s,t.g=f,t.h=p,t.f=h,t.c=m;var v=n(22),g=n(6),b=n(8),_=n(12),w=n(24),k="set resume times",E="initialize vod resume",S="cancel vod resume",P="set vod resume time",C="cancel livestream resume",T="set livestream resume time",O="post vod backend time",x="set user",R="set isSeeked",I="vodResumeTimes",L="vodResumeWatcheds",A="livestreamResumeTimes"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=String(e).trim(),n=t.indexOf(" ");return n>0?t.slice(0,n):t}n.d(t,"b",function(){return M}),n.d(t,"c",function(){return q}),n.d(t,"d",function(){return D}),n.d(t,"e",function(){return B}),n.d(t,"f",function(){return U}),n.d(t,"a",function(){return F});var a=n(5),o=n.n(a),s=n(23),u=n.n(s),c=n(17),l=n.n(c),d=n(37),f=n.n(d),p=n(83),h=n.n(p),m=n(396),y=n(186),v=n(189),g=n(185),b=n(6),_=n(10),w=n(93),k=n(18),E=n(193),S=n(27),P=n(13),C=n(7),T=n(61),O=n(118),x=n(29),R=n(20),I=n(127),L=n(8),A=n(99),N=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M="video_play_load_start",q="video_play_oauth",D="video_play_nauth",B="video_play_master_manifest",U="site_mini_player_action",F=function(){function e(t,i,a,o,s){r(this,e),this.player=t,this.tracker=i,this.state=a,this.store=o,this.options=s,this.hasPlayed=!1,this.bufferEmptyStartTime=null,this.bufferEmptyCount=0,this.lastNetworkProfile=-1/0,this.lastSeekTime=null,this.timeStampBeforeSeek=0,this.isSeekInProgress=!1,this.trackNetworkProfile=this.store.getState().experiments.get(S.n),this.countessTracker=new y.a({host:b.l}),this.comscore=new g.a(this,this.player,this.store),this.latencyTracker=new v.a(this,.001,this.player,this.store),this.valveClient=new E.a,this.initProperties(),this.initEvents(),this.unsubscribes=[],this.unsubscribes.push(this._subscribeCaptions(this.store)),this.unsubscribes.push(n.i(P.a)(this.store,["quality.current","quality.selected"],this.onQualityChange.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["collection.id"],this.onCollectionChange.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["ui.isMini"],this.onMiniChange.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["playback.ended"],this.onPlaybackEnded.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["error"],this.onError.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["stream"],this.onStreamChange.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["watchParty.vodId"],this.onWatchPartyVodChange.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["watchParty.watchPartyId"],this.onWatchPartyChange.bind(this))),this.unsubscribes.push(n.i(P.a)(this.store,["chromecast.castingState"],this.onCastingChange.bind(this)))}return j(e,[{key:"_subscribeCaptions",value:function(e){var t=this;return n.i(P.a)(e,["captions"],function(e,n){var r=e.captions,i=n.captions;r.preset!==i.preset&&t.trackEvent("player_caption_preset",{captions_preset:r.preset})})}},{key:"initProperties",value:function(){if(this.tracker.setProperties({content_id:"",customer_id:""}),this.tracker.setProperties(n.i(_.j)().then(function(e){return{login:e.login,turbo:Boolean(e.turbo)}})),this.tracker.setProperties(n.i(_.k)().then(function(e){return{user_id:e._id,staff:"staff"===e.type}})),this.options.channel){var e=n.i(_.l)(this.options.channel);this.valveClient.channelInfo(e);var t=n.i(_.f)(this.options.channel);this.valveClient.viewerInfo(t),this.tracker.setProperties(t.then(function(e){return{subscriber:Boolean(e.chansub)}}))}}},{key:"initMinutesWatchedTimer",value:function(){this.minutesWatchedTimer=new m.a,this.minutesWatchedTimer.on(m.b,this.onMinuteWatched.bind(this))}},{key:"initEvents",value:function(){this.initMinutesWatchedTimer(),this.player.addEventListener(x.h,this.onBackendInit.bind(this)),this.player.addEventListener(R.c,this.onLoadStart.bind(this)),this.player.addEventListener(R.q,this.onPause.bind(this)),this.player.addEventListener(R.j,this.onWaiting.bind(this)),this.player.addEventListener(R.i,this.onPlaying.bind(this)),this.player.addEventListener(R.i,this.onQualityChange.bind(this)),this.player.addEventListener(R.m,this.onEnded.bind(this)),this.player.addEventListener(R.k,this.onSeeking.bind(this)),this.player.addEventListener(R.o,this.onTimeUpdate.bind(this)),this.player.addEventListener(R.g,this.onCanPlay.bind(this)),this.player.addEventListener(x.r,this.onABSStreamFormatChange.bind(this))}},{key:"onABSStreamFormatChange",value:function(e){this.tracker.trackEvent(x.r,o()({},e,{minutes_logged:this.minutesWatchedTimer.totalMinutes}))}},{key:"getNetworkProfileStats",value:function(e){function t(e,t){return e+t}if(0===e.length)return{};var n=e.map(function(e){return e.firstByteLatency}).reduce(t),r=e.map(function(e){return e.segmentDuration}).reduce(t),i=e.map(function(e){return e.downloadDuration}).reduce(t),a=e.map(function(e){return e.bytes}).reduce(t);return{transport_segments:e.length,transport_first_byte_latency:n,transport_segment_duration:r,transport_download_duration:i,transport_download_bytes:a}}},{key:"trackEvent",value:function(e,t){var n=this.player.getVideoInfo(),r=u()({},l()(n,["bandwidth","cluster","current_bitrate","current_fps","dropped_frames","hls_latency_broadcaster","hls_latency_encoder","hls_latency_broadcaster_send_time","hls_latency_ingest_receive_time","hls_latency_ingest_send_time","hls_latency_transcode_receive_time","hls_latency_transcode_send_time","hls_target_duration","manifest_cluster","manifest_node","manifest_node_type","serving_id","node","user_ip","vid_display_height","vid_display_width","vid_height","vid_width","video_buffer_size","vod_cdn_origin","vod_cdn_region"]),{volume:this.player.getVolume(),muted:this.player.getMuted(),is_https:"https"===n.segment_protocol},t);this.tracker.trackEvent(e,r)}},{key:"onMinuteWatched",value:function(){var e=this,t=this.store.getState(),r=t.analytics,i=t.captions,a=t.communities,o=t.streamMetadata,s=t.collection,c=t.stream,l=t.manifestInfo,d=t.lang,f=this.player.getNetworkProfile().filter(function(e){return e.startTime>this.lastNetworkProfile}.bind(this));this.lastNetworkProfile=f.reduce(function(e,t){return Math.max(e,t.startTime)},this.lastNetworkProfile);var p=this.getNetworkProfileStats(f);this.player.video&&u()(p,{vod_timestamp:this.player.getCurrentTime()});var m={seconds_offset:this.minutesWatchedTimer.initialDelay/1e3,minutes_logged:this.minutesWatchedTimer.totalMinutes,captions_enabled:i.enabled,quality_change_count:r.qualityChangeCount,player_size_mode:this._getPlayerDisplayMode(),broadcast_id:o.broadcastID,community_ids:a.ids,transcoder_type:l.transcodestack,autoplayed:this.options.autoplay,streamType:o.streamType,language:d.langCode};c.contentType===L.a&&s.id&&(m.collection_item_position=h()(s.items,{item_id:c.videoId.substr(1)}),m.collection_id=s.id),this.trackEvent(I.a.MINUTE_WATCHED,u()({},p,m)),this.store.dispatch(n.i(T.b)()),this.valveClient.notify(),this.trackNetworkProfile.then(function(t){"yes"===t&&f.length>0&&e.tracker.trackEvents(f.map(function(e){return{event:"network_profile",properties:{bytes:e.bytes,duration:e.segmentDuration,time:e.startTime+e.firstByteLatency+e.downloadDuration,time_to_first_byte:e.firstByteLatency,download_duration:e.downloadDuration,curr_buffer_length:e.currBufferLength,reason_code:e.reasonCode,curr_quality:e.currQuality,rendition:e.rendition}}}))})}},{key:"onBackendInit",value:function(){this.tracker.setProperty("backend",this.player.getBackend()),this.tracker.setProperty("backend_version",this.player.getVersion()),this.tracker.trackEvent("video_init")}},{key:"onLoadStart",value:function(){this.player.getChannel()?this.onLoadChannel():this.player.getVideo()&&this.onLoadVideo(),this.minutesWatchedTimer.destroy(),this.initMinutesWatchedTimer(),this.hasPlayed=!1,this.bufferEmptyCount=0,this.bufferEmptyStartTime=null}},{key:"onLoadChannel",value:function(){var e=this,t=this.player.getChannel(),r=n.i(_.d)(t),i=n.i(_.l)(t);r.then(function(e){this.countessTracker.trackView("channel",e._id)}.bind(this));var a={},o={},s=Promise.all([r,i]).then(function(e){var r=N(e,2),i=r[0],s=r[1];return a=i,o=s,n.i(_.m)(t)}).then(function(t){e.store.dispatch(n.i(O.a)(t));var r=o.broadcaster_software,i=!0,s="live";return"watch_party"===r?s="vodcast":"rebroadcast"===r&&(s="vod",i=!1),{broadcaster_software:r,live:i,channel:a.name,channel_id:a._id,game:a.game,content_mode:s,partner:a.partner,vod_type:void 0}});this.tracker.setProperties(s)}},{key:"onLoadVideo",value:function(){var e=this.player.getVideo(),t=n.i(_.e)(e);this.tracker.setProperties(t.then(function(e){return n.i(_.d)(e.channel.name)}).then(function(e){return l()(e,"partner")}));var r=t.then(function(e){return{channel:e.channel.name,channel_id:e.channel._id,vod:e._id,vod_id:e._id,vod_type:e.broadcast_type,game:e.game,live:!1,content_mode:"vod"}});this.tracker.setProperties(r)}},{key:"onWaiting",value:function(){var e=this.store.getState(),t=e.communities;this.player.getSeeking()||(this.bufferEmptyStartTime=(new Date).getTime(),this.bufferEmptyCount++,this.trackEvent(I.a.BUFFER_EMPTY,{buffer_empty_count:this.bufferEmptyCount,community_ids:t.ids}))}},{key:"onPlaying",value:function(){var e=this,t=this.store.getState(),r=t.analytics,i=t.communities,a=t.stream,o=t.collection;if(null!==this.bufferEmptyStartTime){var s=(new Date).getTime();this.trackEvent(I.a.BUFFER_REFILL,{buffering_time:(s-this.bufferEmptyStartTime)/1e3,community_ids:i.ids}),this.bufferEmptyStartTime=null}if(!this.hasPlayed){var u={time_since_load_start:Date.now()-r.playSessionStartTime,community_ids:i.ids,autoplayed:this.options.autoplay};a.contentType===L.a&&(n.i(_.e)(a.videoId).then(function(t){e.countessTracker.trackVODView(t)}),o.id&&(u.collection_item_position=h()(o.items,{item_id:a.videoId.substr(1)}),u.collection_id=o.id)),this.trackEvent(I.a.VIDEO_PLAY,u),this.hasPlayed=!0,this.valveClient.notify(),this.store.dispatch(w.a()),this.store.dispatch(w.b())}this.minutesWatchedTimer.start()}},{key:"onCanPlay",value:function(){this.isSeekInProgress&&(this.isSeekInProgress=!1,this.trackEvent("vod_seek",{timestamp_departed:this.timeStampBeforeSeek,timestamp_target:this.player.getCurrentTime(),time_spent_seeking:(Date.now()-this.lastSeekTime)/1e3})),this.timeStampBeforeSeek=this.player.getCurrentTime()}},{key:"onSeeking",value:function(){this.hasPlayed&&!this.isSeekInProgress&&(this.isSeekInProgress=!0,this.lastSeekTime=Date.now())}},{key:"onTimeUpdate",value:function(){if(!this.isSeekInProgress){var e=this.player.getCurrentTime();e-this.timeStampBeforeSeek<500&&this.timeStampBeforeSeek<e&&(this.timeStampBeforeSeek=e)}}},{key:"onPause",value:function(){var e=this.store.getState(),t=e.ads,n=e.adsManager,r=e.stream;(t.currentMetadata.contentType!==k.c.IMA||r.contentType!==L.a||n.paused)&&this.minutesWatchedTimer.stop()}},{key:"onPlaybackEnded",value:function(){this.store.getState().playback.ended&&this.trackEvent("video_end",{})}},{key:"onError",value:function(){var e=this.store.getState().error,t=e.hasError,n=e.error;t&&this.trackEvent(I.b,{reason:n.message})}},{key:"onStreamChange",value:function(){var e=this.store.getState(),t=e.stream,n={content_id:"",customer_id:""};t.contentType===A.b&&(n=o()(n,{content_id:t.contentId,customer_id:t.customerId})),this.tracker.setProperties(n)}},{key:"onCollectionChange",value:function(){var e=this.store.getState(),t=e.collection;t.id&&this.countessTracker.trackView("collection",t.id)}},{key:"onWatchPartyVodChange",value:function(){var e=this.store.getState(),t=e.watchParty;t&&t.vodId&&t.incrementViewCountURL&&this.countessTracker.trackVODView({increment_view_count_url:t.incrementViewCountURL}),t&&this.tracker.setProperty("vod_type",t.broadcastType)}},{key:"onWatchPartyChange",value:function(){var e=this.store.getState(),t=e.watchParty;t&&t.watchPartyId&&this.countessTracker.trackView("watch_party",t.watchPartyId)}},{key:"onEnded",value:function(){this.minutesWatchedTimer.reset(),this.bufferEmptyStartTime=null}},{key:"onQualityChange",value:function(){var e=this.store.getState(),t=e.quality;if(0!==t.available.length){var n=f()(t.available,function(e){return e.group===t.selected}),r=n?n.name:t.current;this.tracker.setProperty("quality",i(r)),this.tracker.setProperty("stream_format",t.current)}}},{key:"onCastingChange",value:function(e){var t=e.chromecast,n=t.castingState,r=this.store.getState(),i=r.env;"connected"===n||"connecting"===n?this.tracker.setProperties({player:"chromecast",chromecast_sender:i.platform}):this.tracker.setProperties({player:i.playerType,chromecast_sender:null})}},{key:"onMiniChange",value:function(){var e=this.store.getState(),t=e.env,n=e.ui;t.playerType===C.c&&this.tracker.setProperty("player",n.isMini?C.m:C.c)}},{key:"_getPlayerDisplayMode",value:function(){var e=this.store.getState(),t=e.ui;return e.screenMode.isFullScreen?"fullscreen":this.options.player===C.n?"popout":this.player.getTheatre()?"theatre mode":t.isMini?"mini":""}},{key:"destroy",value:function(){this.minutesWatchedTimer.destroy(),this.comscore.destroy(),this.unsubscribes.map(function(e){e()})}}]),e}()},function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"i",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return m});var r="video_ad_impression",i="video_ad_impression_complete",a="video_ad_request",o="video_ad_request_error",s="video_ad_request_response",u="video_ad_skipped",c="video_ad_error",l="video_ad_loaded",d="playback_error",f="video_ad_auction",p="video_ad_auction_response",h="video_ad_auction_error",m="video_ad_auction_init_error"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return C}),n.d(t,"b",function(){return x});var a=n(29),o=n(57),s=n(58),u=n(20),c=n(402),l=n.n(c),d=n(37),f=n.n(d),p=n(55),h=n.n(p),m=n(420),y=n.n(m),v=n(429),g=n.n(v),b=n(27),_=n(12),w=n(68),k=n(130),E=n(21),S=n(129),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C="mediaplayer",T={group:"auto",name:"Auto"},O={broadcast_id:0,cluster:"",manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",serving_id:0,user_ip:"",vod_cdn_origin:"",vod_cdn_region:"",stream_time_offset:0,segment_protocol:"",bandwidth:0,current_bitrate:0,current_fps:0,current_fps_exact:0,dropped_frames:0,hls_latency_broadcaster:0,hls_latency_encoder:0,hls_target_duration:0,paused:!1,playing:!1,stream_time:0,totalMemoryNumber:0,vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,volume:0},x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];i(this,e),this.store=n,this._options=t,this._mediaPlayer=null,this._eventEmitter=new l.a,this._apiCallQueue=[],this._cache={},this._readyState=w.b,this._networkState=k.a,this._fireLoadedMetadata=!1,this._hasRetried=!1,this._src="",this._currentCaptionData={},this._mediaPlayerLogLevel=t["cvp-log"]||"error",this.initialize()}return P(e,[{key:"initialize",value:function(){var e=this;return this.loadMediaPlayer().then(function(t){e._initMediaPlayer(t),e.setMuted(e._options.muted),e._initMobileAttributes(),e.load()},function(t){e.onCoreAnalytics(t)})}},{key:"_initMediaPlayer",value:function(e){var t=e.mediaPlayerInstance,n=e.mediaPlayerHandle;this._mediaPlayer=t,this._mediaPlayerHandle=n,this._cache={seekStarted:!1,currentQuality:this._mediaPlayer.getQuality()},this._attachInternalListeners(n),this._eventEmitter.emit(a.h),this._apiCallQueue.forEach(function(e){e()}),this._apiCallQueue=[]}},{key:"_initMobileAttributes",value:function(){this._options.playsinline&&(this._mediaPlayer.getHTMLVideoElement().setAttribute("webkit-playsinline",""),this._mediaPlayer.getHTMLVideoElement().setAttribute("playsinline",""))}},{key:"loadMediaPlayer",value:function(){var e=this;return this.store.getState().experiments.get(b.s).then(function(t){return g.a.loadMediaPlayer({value:t,logLevel:e._mediaPlayerLogLevel})})}},{key:"getStats",value:function(){if(this._mediaPlayer){var e=this._mediaPlayer,t=e.getQuality(),n=y()(t.bitrate/1024,2)||0,r=y()(e.getTranscoderLatency()/1e3)||0,i=y()(e.getBroadcasterLatency()/1e3)||0,a=y()(e.getVideoFrameRate())||0,o=e.getVideoWidth()+"x"+e.getVideoHeight(),s=e.getDisplayWidth()+"x"+e.getDisplayHeight();return{playbackRate:n,fps:a,bufferSize:y()(e.getBufferDuration()),skippedFrames:e.getDroppedFrames(),memoryUsage:"64 MB",hlsLatencyEncoder:r,hlsLatencyBroadcaster:i,videoResolution:o,displayResolution:s,backendVersion:e.getVersion()}}return{}}},{key:"getCaption",value:function(){return this._currentCaptionData}},{key:"onCoreAnalytics",value:function(e){var t=e.spadeEventName,r=e.spadeEventData;this.store.dispatch(n.i(E.b)(t,r))}},{key:"addEventListener",value:function(e,t){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.addEventListener.bind(this,e,t));this._eventEmitter.on(e,t)}},{key:"removeEventListener",value:function(e,t){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.removeEventListener.bind(this,e,t));this._eventEmitter.removeListener(e,t)}},{key:"attach",value:function(e,t){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.attach.bind(this,e,t));var n=e.querySelector(t);n?n.insertBefore(this._mediaPlayer.getHTMLVideoElement(),n.firstChild):console.error("MediaPlayback: unable to attach video")}},{key:"detach",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.detach.bind(this,e));e?e.removeChild(this._mediaPlayer.getHTMLVideoElement()):console.error("MediaPlayback: unable to detach video")}},{key:"load",value:function(){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.load.bind(this));if(this._src){var e=this.store.getState(),t=e.playback;this._mediaPlayer.load(this._src),this._eventEmitter.emit(u.c),t.autoplay&&(this._mediaPlayer.play(),this._eventEmitter.emit(u.p))}}},{key:"getSrc",value:function(){return this._src}},{key:"setSrc",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setSrc.bind(this,e));this._src=e,this._src&&this.load()}},{key:"getVolume",value:function(){return this._mediaPlayer?this._mediaPlayer.getVolume():0}},{key:"setVolume",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setVolume.bind(this,e));this._mediaPlayer.setVolume(e),this._eventEmitter.emit(u.r)}},{key:"setMuted",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setMuted.bind(this,e));e?this._mediaPlayer.getHTMLVideoElement().setAttribute("muted",""):this._mediaPlayer.getHTMLVideoElement().removeAttribute("muted"),this._mediaPlayer.setMuted(e)}},{key:"getMuted",value:function(){return this._mediaPlayer&&this._mediaPlayer.isMuted()}},{key:"setChannel",value:function(e,t){var n=this;return t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.channelName&&n.setSrc(t)})}},{key:"setVideo",value:function(e,t){var n=this;t.streamUrl.then(function(t){var r=n.store.getState(),i=r.streamMetadata;e===i.videoId&&n.setSrc(t)})}},{key:"setQuality",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setQuality.bind(this,e));if("auto"===e)this._mediaPlayer.setAutoSwitchQuality(!0);else{var t=this._mediaPlayer.getQualities().find(function(t){return t.group===e});void 0!==t&&this._mediaPlayer.setQuality(t)}}},{key:"getQualities",value:function(){if(null===this._mediaPlayer)return[];var e=function(e){return Object.assign({},e,{bandwidth:e.bitrate})};return[T].concat(r(this._mediaPlayer.getQualities())).map(e)}},{key:"getQuality",value:function(){return null===this._mediaPlayer?null:this._mediaPlayer.getAutoSwitchQuality()?T:this._mediaPlayer.getQuality().group}},{key:"elapsedTime",value:function(){return null===this._mediaPlayer?0:this._mediaPlayer.getStartOffset()+this._mediaPlayer.getPosition()}},{key:"getCurrentTime",value:function(){return this._mediaPlayer?this._mediaPlayer.getPosition():0}},{key:"setCurrentTime",value:function(e){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.setCurrentTime.bind(this,e));this._mediaPlayer.seekTo(e),this._eventEmitter.emit(u.k),this._cache.seekStarted=!0}},{key:"getDuration",value:function(){return this._mediaPlayer?this._mediaPlayer.getDuration():0}},{key:"getNetworkProfile",value:function(){return this._mediaPlayer?this._mediaPlayer.getNetworkProfile():[]}},{key:"getBuffered",value:function(){if(null===this._mediaPlayer)return new R;var e=this._mediaPlayer.getBuffered();return new R(e.start,e.end)}},{key:"getReadyState",value:function(){return this._readyState}},{key:"getNetworkState",value:function(){return this._networkState}},{key:"getEnded",value:function(){return this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.ENDED}},{key:"getError",value:function(){return this._mediaError}},{key:"getVersion",value:function(){return this._mediaPlayer?this._mediaPlayer.getVersion():""}},{key:"getBackend",value:function(){return C}},{key:"play",value:function(){var e=this;if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.play.bind(this));var t=this.store.getState(),n=t.stream;n instanceof _.b?this.setChannel(n.channel,n).then(function(){e._mediaPlayer.play(),e._eventEmitter.emit(u.p)}):(this._mediaPlayer.play(),this._eventEmitter.emit(u.p))}},{key:"pause",value:function(){if(null===this._mediaPlayer)return void this._apiCallQueue.push(this.pause.bind(this));this._mediaPlayer.pause()}},{key:"getPaused",value:function(){return!!this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.IDLE}},{key:"getSeeking",value:function(){return!!this._cache.seekStarted}},{key:"getVideoInfo",value:function(){var e=this.store.getState(),t=e.manifestInfo,n=e.window,r={broadcast_id:parseInt(t.broadcastId,10),cluster:t.cluster,manifest_cluster:t.manifest_cluster,manifest_node:t.manifest_node,manifest_node_type:t.manifest_node_type,node:t.node,serving_id:t.serving_id,user_ip:t.user_ip,vod_cdn_origin:t.origin,vod_cdn_region:t.region,stream_time_offset:parseFloat(t.stream_time),segment_protocol:"https:"===n.location.protocol?"https":"http"},i=this._mediaPlayer,a={};if(i){var o=i.getPlayerState(),s=i.getQuality(),u=y()(s.bitrate/1024,2)||0;a={bandwidth:u,current_bitrate:u,current_fps:i.getVideoFrameRate(),current_fps_exact:i.getVideoFrameRate(),dropped_frames:i.getDroppedFrames(),hls_latency_broadcaster:y()(i.getBroadcasterLatency()),hls_latency_encoder:y()(i.getTranscoderLatency()),hls_target_duration:5,paused:o===this._mediaPlayerHandle.PlayerState.IDLE,playing:o===this._mediaPlayerHandle.PlayerState.PLAYING,stream_time:i.getPosition(),totalMemoryNumber:64,vid_display_height:i.getDisplayHeight(),vid_display_width:i.getDisplayWidth(),vid_height:i.getVideoHeight(),vid_width:i.getVideoWidth(),video_buffer_size:i.getBufferDuration(),volume:i.getVolume()}}return Object.assign({},O,r,a)}},{key:"setPlaybackRate",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setPlaybackRate.bind(this,e)),this._mediaPlayer.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this._mediaPlayer?this._mediaPlayer.getPlaybackRate():1}},{key:"getPlayed",value:function(){return new R}},{key:"getStatsEnabled",value:function(){return!1}},{key:"absAvailable",value:function(){return!0}},{key:"destroy",value:function(){this._mediaPlayer?(this._mediaPlayer.delete(),this._mediaPlayer=null):this._apiCallQueue.push(this.destroy.bind(this))}},{key:"_retryStreamLoad",value:function(){var e=this,t=this.store.getState(),n=t.stream;return this.src="",this.initialize(),n.resetNAuthToken(),n.streamUrl.then(function(t){e.setSrc(t),e.play()})}},{key:"_onAuthError",value:function(){this._hasRetried?(this._eventEmitter.emit(u.b,new Error(S.a)),this.store.dispatch(n.i(E.b)(s.b,{playback_error_code:8003,playback_error_msg:"fatal_auth_error"}))):(this._hasRetried=!0,this._retryStreamLoad(),this.store.dispatch(n.i(E.b)(s.b,{playback_error_code:8004,playback_error_msg:"warn_auth_error"})))}},{key:"_onOfflineError",value:function(){this.store.dispatch(n.i(E.b)(s.b,{playback_error_code:8002,playback_error_msg:"offline_error"})),this._eventEmitter.emit(a.f),this._eventEmitter.emit(u.m)}},{key:"_attachInternalListeners",value:function(e){var t=this,r=this._mediaPlayer;r.addEventListener(e.PlayerEvent.INITIALIZED,function(){t._eventEmitter.emit(a.h)}),r.addEventListener(e.PlayerState.PLAYING,function(){t._readyState<=w.a&&(t._readyState=w.c),t._eventEmitter.emit(u.f),t._eventEmitter.emit(u.i),t._cache.seekStarted&&(t._eventEmitter.emit(u.g),t._eventEmitter.emit(u.l),t._cache.seekStarted=!1)}),r.addEventListener(e.PlayerEvent.QUALITY_CHANGED,function(){var e=t.getQuality();if(t._mediaPlayer.getAutoSwitchQuality()){var n=t._mediaPlayer.getABSStats(),r={stream_format_previous:t._cache.currentQuality,stream_format_current:e},i=Object.assign({},n,r);t._eventEmitter.emit(a.r,i),t._cache.currentQuality=e}else t._cache.currentQuality=e,t._eventEmitter.emit(a.k,e)}),r.addEventListener(e.PlayerEvent.DURATION_CHANGED,function(){t._fireLoadedMetadata&&(t._fireLoadedMetadata=!1,t._eventEmitter.emit(u.a)),t._eventEmitter.emit(u.n)}),r.addEventListener(e.PlayerEvent.PLAYBACK_RATE_CHANGED,function(){t._eventEmitter.emit(u.s,t._mediaPlayer.getPlaybackRate())}),r.addEventListener(e.PlayerEvent.ERROR,function(r){var i=r.type,a=r.source;switch(i){case e.ErrorType.NOT_AVAILABLE:return void t._onOfflineError();case e.ErrorType.AUTHORIZATION:return void t._onAuthError();case e.ErrorType.NOT_SUPPORTED:t._mediaError=new Error(S.b);break;case e.ErrorType.NETWORK:case e.ErrorType.NETWORK_IO:t._mediaError=new Error(S.c);break;default:a===e.ErrorSource.DECODER?t._mediaError=new Error(S.d):(console.error("MediaPlayer failed",i),t._mediaError=new Error(S.e))}t.store.dispatch(n.i(E.b)(s.b,{playback_error_code:8001,playback_error_msg:"fatal_error"})),t._eventEmitter.emit(u.b,t._mediaError)}),r.addEventListener(e.PlayerEvent.REBUFFERING,function(){t._readyState!==w.a&&(t._readyState=w.a),t._eventEmitter.emit(u.j)}),r.addEventListener(e.PlayerEvent.TIME_UPDATE,function(){t._eventEmitter.emit(u.o)}),r.addEventListener(e.PlayerEvent.BUFFER_UPDATE,function(){t._mediaPlayer&&t._eventEmitter.emit(a.b,t._mediaPlayer.getBuffered())}),r.addEventListener(e.PlayerEvent.TRACKING,function(e){var r=e.name,i=e.properties;"video_error"===r&&t.store.dispatch(n.i(E.b)(r,i))}),r.addEventListener(e.PlayerState.BUFFERING,function(){t._readyState=w.a,t._networkState=k.b}),r.addEventListener(e.PlayerState.IDLE,function(){t._readyState=w.b,t._networkState=k.c,t._eventEmitter.emit(u.q)}),r.addEventListener(e.PlayerState.ENDED,function(){t._readyState=w.b,t._networkState=k.d,t._eventEmitter.emit(u.m)}),r.addEventListener(e.PlayerState.READY,function(){t._hasRetried=!1,t._readyState=w.d,t._networkState=k.c;var e=t.store.getState(),i=e.analytics;t.store.dispatch(n.i(E.b)(o.e,{time_since_load_start:Date.now()-i.playSessionStartTime}));var s=h()(t._mediaPlayer.getManifestInfo(),function(e,t,n){return e[n.toLowerCase().replace(/-/g,"_")]=t,e},{});t._eventEmitter.emit(a.e,s),t._eventEmitter.emit(u.g),t._fireLoadedMetadata=!0,t._cache.currentQuality=r.getQuality()}),r.addEventListener(e.MetadataEvent.ID3,function(e){var n=f()(e,function(e){return"TOFN"===e.id}),r=f()(e,function(e){return"TXXX"===e.id});if(n&&t._eventEmitter.emit(a.m,{name:n.info[0]}),r&&"content"!==r.desc){var i=JSON.parse(r.info[0]);"commercial"===i.cmd&&t._eventEmitter.emit(a.w,{duration:i.length})}}),r.addEventListener(e.MetadataEvent.CAPTION,function(e){t._currentCaptionData=e,t._eventEmitter.emit(a.c)}),r.addEventListener(e.MetadataEvent.SPLICE_OUT,function(e){t._eventEmitter.emit(a.x,e)}),r.addEventListener(e.MetadataEvent.SPLICE_IN,function(){t._eventEmitter.emit(a.y)})}}]),e}();x.canPlay=function(){return g.a.canLoadMediaplayer()};var R=function(){function e(t,n){i(this,e),this.length=void 0===t?0:1,this._start=t,this._end=n}return P(e,[{key:"start",value:function(){return this._start}},{key:"end",value:function(){return this._end}}]),e}()},function(e,t){e.exports=n(1080)},function(e,t,n){"use strict";function r(){return{type:u}}function i(){return{type:c}}function a(){return{type:l,playSessionId:n.i(s.a)(),playSessionStartTime:Date.now()}}function o(e){return{type:d,clients:e}}n.d(t,"e",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return d}),t.c=r,t.b=i,t.a=a,t.d=o;var s=n(81),u="set quality change count",c="reset quality change count",l="reset play session",d="set new tracking clients"},function(e,t,n){"use strict";function r(e,t){return{type:m,channel:e,extensions:t}}function i(e){return{type:v,channel:e}}function a(e){return{type:g,channel:e}}function o(e){return{type:w,modalRequest:e}}function s(){return{type:w,modalRequest:null}}function u(e){return{type:b,extensionId:e}}function c(e,t){return{type:_,extensionId:e,isLinked:t}}function l(e){return function(t,a){var o=a(),s=o.extensions;return!e||s.channel===e&&s.loadingState===C?Promise.resolve():(t(i(e)),n.i(h.i)(e).then(function(n){a().stream.channel===e&&t(r(e,n))}))}}function d(e){return function(t,i){var o=i(),s=o.stream;return n.i(h.d)(e).then(function(n){if(i().stream===s){var o=n._id;p.ExtensionCoordinator.ExtensionService.subscribeToExtensionControl(o,{onShouldFetchExtensions:function(){var n=i(),r=n.viewercount,o=n.window,s=r/E*1e3;o.setTimeout(function(){t(a(e)),t(l(e))},Math.random()*s)},onDestroyExtension:function(n){var a=function(e){return e.id!==n},o=i().extensions.activeOverlayExtensions,s=o.filter(a);t(r(e,s))}})}}).catch(function(){return Promise.resolve()})}}function f(e){return{type:k,purchaseIntent:e}}n.d(t,"h",function(){return m}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"j",function(){return g}),n.d(t,"l",function(){return b}),n.d(t,"m",function(){return _}),n.d(t,"n",function(){return w}),n.d(t,"o",function(){return k}),n.d(t,"d",function(){return S}),n.d(t,"i",function(){return P}),n.d(t,"g",function(){return C}),n.d(t,"k",function(){return T}),t.q=o,t.r=s,t.c=u,t.p=c,t.a=l,t.b=d,t.s=f;var p=n(82),h=(n.n(p),n(10)),m="set extensions",y="clear extensions",v="fetching extensions",g="extension activated",b="request toggle extension identity linking",_="set extension identity linking",w="set extension modal",k="purchaseIntent received",E=3e3,S="not loaded",P="loaded",C="loading",T="reloading"},function(e,t,n){"use strict";function r(e){return{type:o,videoStats:e}}function i(e){return{type:a,displayed:e}}n.d(t,"e",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),t.b=r,t.a=i;var a="display stats",o="update stats",s=1e3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AD_START",function(){return r}),n.d(t,"AD_END",function(){return i}),n.d(t,"COMPANION_RENDERED",function(){return a}),n.d(t,"AD_IMPRESSION",function(){return o}),n.d(t,"AD_IMPRESSION_COMPLETE",function(){return s}),n.d(t,"AD_SKIPPED",function(){return u}),n.d(t,"AD_ERROR",function(){return c});var r="adstart",i="adend",a="adcompanionrendered",o="adImpression",s="adImpressionComplete",u="adSkipped",c="adError"},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.currentValue,r=e.onSelect,i=e.options,o=e.t,s=function(e){return r(e.target.value)},u=i.map(function(e){var t=e.value,n=e.text;return a.a.createElement("option",{key:"option."+t+"."+n,value:t},o(n))});return a.a.createElement("select",{className:t,onChange:s,onBlur:s,value:n},u)}n.d(t,"a",function(){return d});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),{className:s.a.string,currentValue:s.a.string.isRequired,options:s.a.arrayOf(s.a.shape({value:s.a.string.isRequired,text:s.a.string.isRequired})).isRequired,onSelect:s.a.func.isRequired,t:s.a.func.isRequired}),l={className:""};r.propTypes=c,r.defaultProps=l;var d=n.i(u.translate)()(r)},function(e,t){e.exports=n(1081)},function(e,t,n){"use strict";function r(e){return{type:i,window:e}}n.d(t,"b",function(){return i}),t.a=r;var i="set window"},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return o});var r=0,i=1,a=2,o=3},function(e,t,n){"use strict";function r(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i=/^(.+?)(?:=(.+))?$/.exec(n[r]);if(i){var o=i[1],s=i[2];if("true"===s)s=!0;else if("false"===s)s=!1;else if(void 0!==s)try{var u=JSON.parse(decodeURIComponent(s));s="object"===(void 0===u?"undefined":a(u))?u:decodeURIComponent(s)}catch(e){s=decodeURIComponent(s)}else"!"===o[0]?(o=o.substring(1),s=!1):s=!0;t[o]=s}}return t}function i(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];n=encodeURIComponent(n),!0===r?t.push(n):!1===r?t.push("!"+n):null!==r&&"object"===(void 0===r?"undefined":a(r))?(r=encodeURIComponent(JSON.stringify(r)),t.push(n+"="+r)):(r=encodeURIComponent(r),t.push(n+"="+r))}return t.join("&")}t.a=r,t.b=i;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t){e.exports=n(1082)},function(e,t,n){"use strict";function r(){return{type:l}}function i(){return{type:c}}function a(e){return{type:s,deviceName:e}}function o(e){return{type:u,castingState:e}}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return l}),t.d=r,t.c=i,t.f=a,t.e=o;var s="set device name",u="set casting state",c="start casting",l="stop casting"},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:s,event:e,data:t}}function i(e){return{type:u,data:{deltaMode:e.deltaMode,deltaX:e.deltaX,deltaY:e.deltaY,shiftKey:e.shiftKey}}}function a(e){return{type:c,event:e.name,data:e.properties}}n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return c}),t.b=r,t.a=i,t.c=a;var o="use embed event emitter",s="ad companion rendered",u="wheel event embedded player",c="first party analytic event"},function(e,t,n){"use strict";function r(e){return{type:i,online:e}}n.d(t,"a",function(){return i}),t.b=r;var i="set online"},function(e,t,n){"use strict";function r(){return{type:u,settings:{persistenceEnabled:o.a.get("persistenceEnabled",!0)}}}function i(){return function(e,t){t().analyticsTracker.trackEvent(s.f,{action:"persistence_enable"}),o.a.set("persistenceEnabled",!0),e({type:c,value:!0})}}function a(){return function(e,t){t().analyticsTracker.trackEvent(s.f,{action:"persistence_disable"}),o.a.set("persistenceEnabled",!1),e({type:c,value:!1})}}n.d(t,"e",function(){return u}),n.d(t,"d",function(){return c}),t.a=r,t.b=i,t.c=a;var o=n(22),s=n(57),u="initialize ui settings",c="set persistence"},function(e,t,n){"use strict";function r(){var e=this,t=new a.a;e.attach=function(e){},e.destroy=function(){},e.getVersion=function(){return""},e.addEventListener=function(e,n){t.on(e,n)},e.removeEventListener=function(e,n){t.off(e,n)},e.getError=function(){return o},e.getSrc=function(){},e.getStats=function(){return{}},e.setSrc=function(e){},e.getNetworkState=function(){},e.getBuffered=function(){},e.load=function(){},e.getReadyState=function(){},e.getSeeking=function(){},e.getCurrentTime=function(){},e.setCurrentTime=function(e){},e.getDuration=function(){},e.getPaused=function(){},e.getPlaybackRate=function(){},e.setPlaybackRate=function(e){},e.getPlayed=function(){},e.getEnded=function(){},e.getAutoplay=function(){},e.setLoop=function(e){},e.play=function(){},e.pause=function(){},e.getControls=function(){},e.setControls=function(e){},e.getVolume=function(){},e.setVolume=function(e){},e.getMuted=function(){},e.setMuted=function(e){},e.getQuality=function(){},e.setQuality=function(e){},e.getQualities=function(){return[]},e.setChannel=function(e,t){},e.elapsedTime=function(){},e.setVideo=function(e,t){},e.getVideoInfo=function(){},e.getCaption=function(){},e.getBackend=function(){return s},e.absAvailable=function(){}}n.d(t,"a",function(){return s}),t.b=r;var i=n(47),a=n.n(i),o="Blank Backend Error",s="blank"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){}function a(e){var t=e.replace(/-[a-zA-Z]{2}$/,function(e){return e.toUpperCase()}),n=e.replace(/-[a-zA-Z]{2}$/,"");return y()(["ar-SA","bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-US","es-MX","es-US","es-ES","es-LA","fi-FI","fr-FR","hi-IN","hu-HU","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","th-TH","tr-TR","vi-VN","zh-TW","zh-CN"],t)||(t=g[n]||n),new Promise(function(e,r){s.a.changeLanguage(t,function(i,a){i?r(i):e(new b(n,t,a))})})}t.a=a,n.d(t,"b",function(){return _}),n.d(t,"c",function(){return w});var o=n(403),s=n.n(o),u=n(404),c=n.n(u),l=n(6),d=n(55),f=n.n(d),p=n(5),h=n.n(p),m=n(11),y=n.n(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=h()(f()(["ar-SA","bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-US","es-MX","es-US","es-ES","es-LA","fi-FI","fr-FR","hi-IN","hu-HU","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","th-TH","tr-TR","vi-VN","zh-TW","zh-CN"],function(e,t){return e[t.replace(/-[a-zA-Z]{2}$/,"")]=t,e},{}),{es:"es-ES",pt:"pt-PT",zh:"zh-CN"});s.a.use(c.a).init({fallbackLng:"en-US",load:"currentOnly",backend:{crossDomain:!0,loadPath:window.Twitch&&window.Twitch.playerI18nPath?""+l.a+window.Twitch.playerI18nPath:l.a+"/localization/{{lng}}/strings.json"},nsSeparator:!1,keySeparator:!1,missingKeyHandler:i,saveMissing:!0}),s.a.addResourceBundle("en-US",s.a.options.ns[0],n(178));var b=function(){function e(t,n,i){r(this,e),this.shortCode=t,this.langCode=n,this._translate=i}return v(e,[{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._translate(e,t);return t.replacements&&Object.keys(t.replacements).map(function(e){n=n.replace(e,t.replacements[e])}),n}}]),e}(),_=s.a,w=new b("en","en-US",s.a.getFixedT("en-US"))},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case u.r:return a()({},e,s()(t.playback,w));case c.g:return t.stream===d.a?a()({},e,_,{paused:!1}):a()({},e,_);case u.s:return a()({},e,m,b);case u.t:return a()({},e,y);case u.u:return a()({},e,v);case u.v:return a()({},e,g);case u.w:return a()({},e,{muted:t.muted});case u.x:return a()({},e,{volume:t.volume});case u.y:return a()({},e,s()(t.playback,w));case u.d:return a()({},e,{restrictedQualityError:!0});case u.z:return a()({},e,{restrictedQualityError:!1});case u.A:return a()({},e,{autoplay:t.playback.autoplay,paused:!t.playback.autoplay});case u.B:return a()({},e,{isLoading:t.isLoading});case u.C:return a()({},e,{currentTime:t.currentTime});case u.D:return a()({},e,{buffer:{start:t.start,end:t.end}});case u.E:return a()({},e,{bufferEmpties:e.bufferEmpties+1});case u.F:return a()({},e,b);case l.n:return a()({},e,{transitionScheme:f});case l.o:return a()({},e,{transitionScheme:p});case l.f:return a()({},e,{transitionScheme:f});case l.g:return a()({},e,{transitionScheme:p});case u.G:return a()({},e,{playbackRate:t.playbackRate});case u.H:return a()({},e,{startTime:t.startTime,startTimeSet:!0});default:return e}}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p}),t.c=r;var i=n(5),a=n.n(i),o=n(17),s=n.n(o),u=n(19),c=n(14),l=n(31),d=n(52),f="transition collection",p="transition recommendations",h={autoplay:!0,buffer:{start:0,end:0},bufferEmpties:0,currentTime:0,startTime:0,startTimeSet:!1,duration:0,ended:!1,hasPlayed:!1,isLoading:!1,muted:!1,paused:!1,playing:!1,playbackRate:1,restrictedQualityError:!1,volume:.5,transitionScheme:p,contentShowing:!1},m={playing:!0,hasPlayed:!0,paused:!1,ended:!1},y={ended:!1},v={playing:!1,paused:!0,ended:!1},g={playing:!1,paused:!0,ended:!0},b={contentShowing:!0},_={playing:!1,hasPlayed:!1,contentShowing:!1,bufferEmpties:0,startTime:0,startTimeSet:!1},w=Object.keys(h)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return p});var i=n(11),a=n.n(i),o=n(423),s=n.n(o),u=n(5),c=n.n(u),l=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(24),p=function(){function e(t,n,i,a,o){r(this,e),this._contentId=t,this._oAuthToken=n,this._usherParams=i,this._accessTokenParams=a,this._experimentSettings=o,this._restrictedBitrates=[]}return d(e,[{key:"_handleInvalidOp",value:function(e){var t=void 0;t="AbstractStream"===this.constructor.name?"AbstractStream should not be instantiated directly":this.constructor.name+"."+e+" is not implemented",console.error("Invalid operation: "+t)}},{key:"_fetchAccessToken",value:function(){return this._handleInvalidOp("_fetchAccessToken"),Promise.resolve({})}},{key:"resetNAuthToken",value:function(){this._nAuthPromise=this._fetchNAuthToken()}},{key:"_fetchNAuthToken",value:function(){var e=this;return this._oAuthToken.then(function(t){return e._fetchAccessToken(e._contentId,t,e._accessTokenParams)}).then(function(t){return e._nAuth=t,t})}},{key:"_buildUsherParams",value:function(e){return this._handleInvalidOp("_buildUsherParams"),{}}},{key:"_commonExperimentParams",value:function(){var e=this;return Promise.all([this.accessToken,this._experimentSettings.adStitchingUS,this._experimentSettings.adStitchingUK,this._experimentSettings.adStitchingA,this._experimentSettings.adStitchingB,this._experimentSettings.adStitchingC,this._experimentSettings.adStitchingD,this._experimentSettings.adStitchingE,this._experimentSettings.adStitchingF,this._experimentSettings.adStitchingG,this._experimentSettings.adStitchingH,this._experimentSettings.adStitchingI,this._experimentSettings.adStitchingPrerolls,this._experimentSettings.realtimeQos]).then(function(t){var n=l(t,14),r=n[0],i=n[1],o=n[2],u=n[3],d=n[4],f=n[5],p=n[6],h=n[7],m=n[8],y=n[9],v=n[10],g=n[11],b=n[12],_=n[13],w={};w.rtqos=_,w.baking_bread=s()([i,o,u,d,f,p,h,m,y,v,g],function(e){return a()(e,"yes")});try{e._restrictedBitrates=JSON.parse(r.token).chansub.restricted_bitrates}catch(e){console.log(e)}return c()({},w,function(e){var t=/^(yes_play|no_play)_(\d+)$/,n=t.exec(e),r=n||[],i=l(r,3),a=i[1],o=i[2];if(a&&!(o<1))return{baking_brownies:"yes_play"===a,baking_brownies_timeout:Number(o)}}(b))})}},{key:"contentType",get:function(){return this._handleInvalidOp("contentType"),""}},{key:"channel",get:function(){return this._handleInvalidOp("channel"),""}},{key:"videoId",get:function(){return this._handleInvalidOp("videoId"),""}},{key:"customerId",get:function(){return this._handleInvalidOp("customerId"),""}},{key:"contentId",get:function(){return this._handleInvalidOp("contentId"),""}},{key:"contentUrl",get:function(){return this._handleInvalidOp("contentUrl"),""}},{key:"restrictedBitrates",get:function(){return this._restrictedBitrates}},{key:"accessToken",get:function(){var e=!1;try{if(this._nAuth){var t=JSON.parse(this._nAuth.token);e=Date.now()>=1e3*t.expires}}catch(e){console.error("Unable to JSON.parse nAuth.token: "+this._nAuth.token)}return this._nAuthPromise&&!e||(this._nAuthPromise=this._fetchNAuthToken()),this._nAuthPromise}},{key:"_baseStreamUrl",get:function(){return this._handleInvalidOp("_baseStreamUrl"),""}},{key:"streamUrl",get:function(){return this._handleInvalidOp("streamUrl"),""}},{key:"castStreamUrl",get:function(){var e=this;return this.accessToken.then(function(t){if(!t.token)return e._handleInvalidOp("castStreamUrl"),"";var n=e._buildUsherParams(t);return delete n.allow_source,e._restrictedBitrates=JSON.parse(t.token).chansub.restricted_bitrates,e._baseStreamUrl+"?"+f.stringify(n)})}}]),e}()},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=n(308),f=n(2),p=n.n(f),h=n(66),m=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={thumbnailURL:l.a.string.isRequired,bread:l.a.string,title:l.a.string,info:l.a.oneOfType([l.a.element,l.a.string]),progressBarPercentage:l.a.number,onSelect:l.a.func,selectItem:l.a.any,className:l.a.string,hasThumbZoom:l.a.bool,hasBorder:l.a.bool},g={thumbnailURL:"",hasThumbZoom:!1,hasBorder:!1},b=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return o(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.thumbnailURL,n=e.title,i=e.bread,a=e.info,o=e.className,s=e.progressBarPercentage,c=e.hasThumbZoom,l=e.hasBorder,f=p()(r({"pl-card":!0,"pl-card--withprogress":this._isPercentage(s),"pl-card--withborder":l,"pl-card--thumbzoom":c},o,!0)),h=this._isPercentage(s)?u.a.createElement(d.a,{percentage:s}):null;return u.a.createElement("div",{className:f,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},u.a.createElement("a",{className:"pl-card__layout",href:"##"},u.a.createElement("figure",{className:"pl-card__img"},u.a.createElement("img",{alt:"Video Thumbnail",src:t})),u.a.createElement("div",{className:"pl-card__overlay"},u.a.createElement("div",{className:"pl-card__body"},u.a.createElement("h4",{className:"pl-card__bread ellipsis"},i),u.a.createElement("h3",{className:"pl-card__title ellipsis"},n),u.a.createElement("div",{className:"pl-card__info ellipsis"},a)),h)))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}},{key:"_isPercentage",value:function(e){return!(void 0===e||!m()(e)||e<0||e>100)}}]),t}(u.a.Component);b.defaultProps=g,b.propTypes=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var i=n(13),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="unsub_"+Date.now(),s=function(){function e(){r(this,e),this[o]=[]}return a(e,[{key:"subscribe",value:function(e,t,r){this[o].push(n.i(i.a)(e,t,r))}},{key:"destroy",value:function(){this[o].forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++){var i=Math.floor(Math.random()*t.length);n+=t.charAt(i)}return n}t.a=r},function(e,t){e.exports=n(325)},function(e,t){e.exports=n(474)},function(e,t){e.exports=n(1084)},function(e,t){e.exports=n(1086)},function(e,t,n){"use strict";function r(e){var t=e.deviceId;return{type:o,deviceId:t}}function i(e){return{type:s,playerType:e}}function a(e){return{type:u,params:e}}n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),t.a=r,t.b=i,t.c=a;var o="set environment",s="set player type",u="set twitch everywhere params"},function(e,t,n){"use strict";function r(e){var t=a()(e,["branding","showInfo","collection","channel","channelId","video","showtheatre","tt_content","tt_medium","force_preroll","force_midroll","force_preroll_id","force_midroll_id"]);return{type:o,playerOptions:t}}n.d(t,"b",function(){return o}),t.a=r;var i=n(17),a=n.n(i),o="set provided options"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"f",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return w}),n.d(t,"e",function(){return k}),n.d(t,"a",function(){return S});var i=n(11),a=n.n(i),o=n(47),s=n.n(o),u=n(248),c=n(6),l=n(10),d=n(20),f=n(29),p=n(8),h=n(12),m=n(52),y=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g="player",b="unavailable",_="available",w="connecting",k="connected",E=["stateupdate",g],S=function(){function e(t,n,i,a){r(this,e),this._options=a,this._backend=t,this._store=n,this._timelineMetadata=new u.a(i),this._eventEmitter=new s.a,this._isVODRestricted=!1,this._hasCurrentStreamPlayed=!1,this._markers=[],c.e.forEach(function(e){t.addEventListener(e,this.handleEvent.bind(this,e))},this)}return v(e,[{key:"getMarkers",value:function(){return this._markers}},{key:"isVODRestricted",value:function(){return this._isVODRestricted}},{key:"getVideoInfo",value:function(e){return l.e(e)}},{key:"handleEvent",value:function(e){switch(this._logStateChange(e),e){case d.a:this._updateIsVODRestricted();break;case d.c:this._hasCurrentStreamPlayed=!1,this._resetTimelineMetadata(),this._updateIsVODRestricted();break;case d.i:!this._hasCurrentStreamPlayed&&this.videoID&&this._retrieveTimelineMetadata(),this._hasCurrentStreamPlayed=!0;break;case f.v:this._updateIsVODRestricted()}this._eventEmitter.emit(g,e),this._eventEmitter.emit("stateupdate",this)}},{key:"_resetTimelineMetadata",value:function(){this._markers=[]}},{key:"_retrieveTimelineMetadata",value:function(){}},{key:"addEventListener",value:function(e,t){a()(E,e)&&this._eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.removeListener(e,t)}},{key:"toJSON",value:function(){var e=this._store.getState(),t=e.stream||n.i(m.a)();return{channelName:t instanceof h.b?t._channelName:"",currentTime:this.currentTime,duration:e.playback.duration,muted:e.playback.muted,playback:this.playback,quality:e.quality.current,qualitiesAvailable:e.quality.available,videoID:t instanceof p.b?t._vodId:"",viewers:e.viewercount,volume:e.playback.volume}}},{key:"_logStateChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._options.debug&&this._options.verbose&&!a()(c.f,e)&&null!==e&&(console.groupCollapsed("state change: %s",e),console.log("partial state: %o",this.toJSON()),console.groupEnd())}},{key:"_updateMarkers",value:function(e){this._markers=e,this._logStateChange("markerschange"),this._eventEmitter.emit("stateupdate",this)}},{key:"_updateIsVODRestricted",value:function(){var e=this;if(this._isVODRestricted=!1,this._eventEmitter.emit("stateupdate",this),this._store.getState().stream instanceof p.b){var t=l.e(this._store.getState().stream._vodId),n=t.then(function(e){return l.f(e.channel.name)});Promise.all([t,n]).then(function(t){var n=y(t,2),r=n[0],i=n[1];e._isVODRestricted=l.g(i,r),e._eventEmitter.emit("stateupdate",e)})}}},{key:"destroy",value:function(){var e=this;E.map(function(t){e._eventEmitter.removeEvent(t)})}},{key:"currentTime",get:function(){return this._backend.getCurrentTime()}},{key:"error",get:function(){return this._backend.error}},{key:"playback",get:function(){return this._backend.getEnded()?"ended":this._backend.getPaused()?"paused":"playing"}},{key:"videoID",get:function(){return this._backend.getVideo()}}]),e}()},function(e,t,n){"use strict";function r(e){var t=e?"session_unique_id":"unique_id",n=i.cookie.get(t);if(n)return n;n=a.a();var r=e?"":3650;return i.cookie.set(t,n,{expires:r,domain:"."+o.G,path:"/",secure:!1}),n}t.a=r;var i=n(60),a=(n.n(i),n(81)),o=n(6)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var i=n(151),a=n.n(i),o=n(28),s=n(13),u=n(38),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="fullscreenchange",d=function(){function e(t,i){var u=this;r(this,e),this._store=i,this._root=t,this._store.dispatch(n.i(o.a)(this.canFullScreen())),n.i(s.a)(this._store,["screenMode.isFullScreen"],function(e){var t=e.screenMode;u.setFullScreen(t.isFullScreen)}),a.a.onchange=this._onFullScreenChange.bind(this)}return c(e,[{key:"canFullScreen",value:function(){return a.a.enabled||this._checkWebkitFullscreen()}},{key:"_checkWebkitFullscreen",value:function(){var e=this._root.getElementsByTagName("video").item(0);return!!e&&(e.webkitSupportsFullscreen||!1)}},{key:"isFullScreen",value:function(){return a.a.element===this._root}},{key:"setFullScreen",value:function(e){if(this.canFullScreen()&&this.isFullScreen()!==e){var t=this._onFullScreenChange.bind(this);a.a.toggle(this._root,t,t)}}},{key:"_onFullScreenChange",value:function(){this._store.dispatch(n.i(u.b)()),this._store.dispatch(n.i(o.b)(this.isFullScreen()))}}]),e}()},function(e,t,n){"use strict";function r(){var e;e=window.self!==window.parent?document.referrer:window.location.href;var t=n.i(i.a)(e),r=t.host.split(".").slice(-2).join(".");return r===a||r===o}n.d(t,"b",function(){return a}),t.a=r;var i=n(39),a="twitch.tv",o="twitch.tech"},function(e,t){e.exports=n(450)},function(e,t,n){"use strict";function r(){return{type:d}}function i(){return function(e,t){o(t().window,u,c,"2246787049647177590","","","")}}function a(){return function(e,t){o(t().window,s,c,"TWITCH","twitch.tv",l,"")}}function o(e,t,n,r,i,a,o){var s={c1:t,c2:n,c3:r,c4:i,c5:a,c6:o};"COMSCORE"in e?e.COMSCORE.beacon(s):(e._comscore||(e._comscore=[]),e._comscore.push(s))}n.d(t,"d",function(){return d}),t.c=r,t.a=i,t.b=a;var s="1",u="7",c="6745306",l="03",d="reset tag"},function(e,t,n){"use strict";function r(e){return{type:a,error:e}}function i(){return{type:o}}n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),t.a=r,t.b=i;var a="set error",o="clear error"},function(e,t,n){"use strict";function r(e){return{type:a,notification:e}}function i(){return{type:o}}n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),t.b=r,t.a=i;var a="add notification to notification array",o="remove notification from notification arrary"},function(e,t,n){"use strict";function r(e){return{type:a,userInfo:e}}function i(){return{type:o}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),t.c=r,t.d=i;var a="user logged in",o="user not logged in"},function(e,t,n){"use strict";function r(e){return{type:i,count:e}}n.d(t,"b",function(){return i}),t.a=r;var i="update viewercount"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return o});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"requestAds",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMuted",value:function(){}},{key:"addEventListener",value:function(){}},{key:"destroy",value:function(){}},{key:"paused",get:function(){return!1}},{key:"muted",get:function(){return!1}},{key:"sdk",get:function(){return""}}]),e}(),o=new a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var o=n(78),s=n(6),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(24),l="provided",d=function(e){function t(e){var n=e.customerId,a=e.contentId;r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a));return o._customerId=n,o._contentId=a,o}return a(t,e),u(t,[{key:"resetNAuthToken",value:function(){}},{key:"_buildUsherParams",value:function(){return{allow_source:!0}}},{key:"_fetchNAuthToken",value:function(){return Promise.reject("Error: Attempted NAuth fetch for ProvidedContentStream")}},{key:"_fetchAccessToken",value:function(){return Promise.reject("Error: Attempted Access Token fetch for ProvidedContentStream")}},{key:"contentType",get:function(){return l}},{key:"channel",get:function(){}},{key:"videoId",get:function(){}},{key:"contentId",get:function(){return this._contentId}},{key:"customerId",get:function(){return this._customerId}},{key:"_baseStreamUrl",get:function(){return s.j+"/api/lvs/hls/lvs."+this._customerId+"."+this._contentId+".m3u8"}},{key:"accessToken",get:function(){return Promise.resolve()}},{key:"streamUrl",get:function(){var e=this._buildUsherParams();return Promise.resolve(this._baseStreamUrl+"?"+c.stringify(e))}},{key:"castStreamUrl",get:function(){var e=this._buildUsherParams();return e.allow_source=void 0,Promise.resolve(this._baseStreamUrl+"?"+c.stringify(e))}}]),t}(o.a)},function(e,t,n){"use strict";function r(e){var t=e.className,n=e.notificationsEnabled,r=e.enable,i=e.disable,o=e.t,s=d()("pl-button","pl-button--icon","pl-button--status",t),c=d()("pl-button",t),l=a.a.createElement(u.a,{className:s,onClick:i},a.a.createElement("span",null,a.a.createElement("figure",null,a.a.createElement("svg",null,a.a.createElement("use",{xlinkHref:"#icon_pl-followcheck"}))),o("Notifications"))),f=a.a.createElement(u.a,{className:c,onClick:r},a.a.createElement("span",null,o("Turn On Notifications")));return n?l:f}n.d(t,"a",function(){return p});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c=n(4),l=(n.n(c),n(2)),d=n.n(l),f={notificationsEnabled:s.a.bool.isRequired,enable:s.a.func.isRequired,disable:s.a.func.isRequired,t:s.a.func.isRequired,className:s.a.string};r.propTypes=f;var p=n.i(c.translate)()(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f={uuid:c.a.string.isRequired,renderValue:c.a.string.isRequired,experiments:c.a.object.isRequired,children:c.a.node.isRequired},p=function(e){return{experiments:e.experiments}},h=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={experimentValue:""},e}return a(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e,t){return""!==t.experimentValue}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.experiments,r=t.uuid;n.get(r).then(function(t){e.setState({experimentValue:t})})}},{key:"render",value:function(){var e=this.state.experimentValue,t=this.props,n=t.renderValue,r=t.children;return n!==e||""===e?null:r}}]),t}(s.a.Component);h.propTypes=f;var m=n.i(l.connect)(p)(h)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.displayName||e.name||"Component"}function s(e){var t=function(t){function n(){r(this,n);var e=i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.enableNotifications=e.enableNotifications.bind(e),e.disableNotifications=e.disableNotifications.bind(e),e.promptUserLogin=e.promptUserLogin.bind(e),e}return a(n,t),w(n,[{key:"componentWillReceiveProps",value:function(e){e.showFollowNotification&&!this.props.showFollowNotification&&this._logInteraction(p.e)}},{key:"_invokeIfLoggedIn",value:function(e){var t=this.props,n=t.user,r=t.channel;n.loggedIn?e(n.id,r.id):this.promptUserLogin()}},{key:"_logInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.analytics,i=n.relationship,a=n.playerType;r.trackEvent(e,y()(t,{follow_state:i.following,notif_state:i.notificationsEnabled,src:a}))}},{key:"enableNotifications",value:function(){var e=this.props,t=e.enableNotifications,n=e.relationship,r=n.following?p.f:p.g;this._invokeIfLoggedIn(t),this._logInteraction(p.h,{action:r})}},{key:"disableNotifications",value:function(){var e=this.props.disableNotifications;this._invokeIfLoggedIn(e),this._logInteraction(p.h,{action:p.i})}},{key:"promptUserLogin",value:function(){var e=this.props,t=e.win,n=e.playerType,r=e.promptLoginModal,i=e.channel;n===g.c?r(i.name):t.open(v.v,"_blank")}},{key:"render",value:function(){var t=this.props,n=t.channel,r=t.showFollowNotification,i=t.relationship,a=t.withInfo;return r?l.a.createElement(e,{channelName:n.name,disable:this.disableNotifications,enable:this.enableNotifications,notificationsEnabled:i.notificationsEnabled,withInfo:a}):null}}]),n}(l.a.Component);return t.propTypes=k,t.defaultProps=E,t.displayName="WrappedFollowPanel("+o(e)+")",n.i(u.connect)(S,P)(t)}t.a=s;var u=n(3),c=(n.n(u),n(0)),l=n.n(c),d=n(1),f=n.n(d),p=n(42),h=n(34),m=n(5),y=n.n(m),v=n(6),g=n(7),b=n(46),_=n(15),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k={analytics:f.a.object,channel:f.a.shape({id:f.a.number,name:f.a.string}).isRequired,disableNotifications:f.a.func,enableNotifications:f.a.func,playerType:f.a.string.isRequired,promptLoginModal:f.a.func,showFollowNotification:f.a.bool.isRequired,relationship:f.a.shape({following:f.a.bool,notificationsEnabled:f.a.bool}).isRequired,user:f.a.shape({id:f.a.number,loggedIn:f.a.bool}).isRequired,win:f.a.object.isRequired,withInfo:f.a.bool.isRequired},E={analytics:{trackEvent:function(){}},enableNotifications:function(){},disableNotifications:function(){},promptLoginModal:function(){}},S=function(e){var t=e.analyticsTracker,n=e.env,r=e.follow,i=e.playback,a=e.playerOptions,o=e.streamMetadata,s=e.user,u=e.screen,c=e.window,l=e.ui;return{analytics:t,channel:{id:o.channel.id,avatarUrl:o.channel.logo,name:o.channel.displayName},playerType:n.playerType,showFollowNotification:r.showFollowNotification&&!l.isMini&&(i.ended||o.streamType===b.b)&&(u[0]===_.b||u[0]===_.d),relationship:{notificationsEnabled:r.notificationsEnabled,following:r.following},win:c,withInfo:a.showInfo,user:{id:s.id,loggedIn:s.loggedInStatus===h.b}}},P=function(e){return{enableNotifications:function(t,r){e(n.i(p.b)(t,r))},disableNotifications:function(t,r){e(n.i(p.c)(t,r))},promptLoginModal:function(t){e(n.i(p.d)(t))}}}},function(e,t){e.exports=n(82)},function(e,t,n){"use strict";function r(e){return{type:i,generator:e}}n.d(t,"b",function(){return i}),t.a=r;var i="clip generator loaded"},function(e,t,n){"use strict";function r(e){return{type:o,experiments:e}}function i(e){return r(n.i(a.z)(e))}n.d(t,"b",function(){return o}),t.a=i;var a=n(27),o="set experiments"},function(e,t,n){"use strict";function r(e){return{type:l,lang:e}}function i(e){return function(t,i){return i().lang.shortCode===e?Promise.resolve():n.i(u.a)(e).then(r).then(t)}}function a(e){return function(t,r){var a=r(),u=a.lang,l=a.navigator,f=s.a.get(d,u.shortCode),p=t(i(f)),h=n.i(c.j)().then(function(e){return s.a.set(d,e.received_language),e.received_language},function(){return o.cookie.get("language",null)||l.languages&&l.languages[0]||l.language||l.userLanguage||e}).then(i).then(t);return Promise.all([p,h])}}n.d(t,"c",function(){return l}),t.b=i,t.a=a;var o=n(60),s=(n.n(o),n(22)),u=n(76),c=n(10),l="set language",d="playerLanguage"},function(e,t,n){"use strict";function r(e){return{type:i,properties:e}}n.d(t,"b",function(){return i}),t.a=r;var i="set tracking properties"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var i=n(13),a=n(22),o=n(95),s=n(296),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=604e6,l="AutoSuggestNotificationTimestamp",d="AutoSuggestNotificationClosedCount",f=function(){function e(t){r(this,e),this._store=t;var o=this._store.getState(),s=o.window;this._unsubs=[],this._unsubs.push(n.i(i.a)(this._store,["playback.bufferEmpties"],this._trackBufferEmpty.bind(this))),this._currentBufferEmptyCount=0,this._previousBufferTimestamp=(new s.Date).getTime(),a.a.get(l)||a.a.set(l,(new s.Date).getTime()-c)}return u(e,[{key:"_trackBufferEmpty",value:function(e){e.playback.bufferEmpties>0&&(this._currentBufferEmptyCount++,this._shouldShowAutoSuggestNotification()&&this._showAutoSuggestNotification())}},{key:"_shouldShowAutoSuggestNotification",value:function(){return"auto"!==this._store.getState().quality.selected&&this._thirdBufferEmptyInTenMinutes()&&this._hasNotSeenAutoSuggestNotificationThisWeek()}},{key:"_showAutoSuggestNotification",value:function(){(!a.a.get(d)||a.a.get(d)<=1)&&(this._store.dispatch(n.i(o.b)(s.a)),a.a.set(l,(new Date).getTime()))}},{key:"_thirdBufferEmptyInTenMinutes",value:function(){var e=this._store.getState(),t=e.window,n=(new t.Date).getTime();return n-this._previousBufferTimestamp>6e5?(this._previousBufferTimestamp=n,this._currentBufferEmptyCount=0,!1):this._currentBufferEmptyCount>=3?(this._previousBufferTimestamp=n,this._currentBufferEmptyCount=0,!0):void 0}},{key:"_hasNotSeenAutoSuggestNotificationThisWeek",value:function(){return(new(this._store.getState().window.Date)).getTime()-a.a.get(l)>c}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return m});var i=n(13),a=n(8),o=n(122),s=n(244),u=n(245),c=n(247),l=n(246),d=n(27),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=c.a,h=l.a,m=function(){function e(t){r(this,e),this._store=t,this._subscribeStream(this._store.getState()),this.unsub=n.i(i.a)(this._store,["stream"],this._subscribeStream.bind(this))}return f(e,[{key:"_subscribeStream",value:function(e){var t=this,r=e.stream,i=this._store.getState(),f=i.experiments;r.contentType===a.a&&(n.i(s.a)(r.videoId).then(function(e){t._store.dispatch(n.i(o.a)(e))}),n.i(u.a)(r.videoId).then(function(e){t._store.dispatch(n.i(o.b)(e))}),f.get(d.w).then(function(e){switch(e){case"vca":return n.i(l.b)(r.videoId);case"vod":return n.i(c.b)(r.videoId)}return[]}).then(function(e){t._store.dispatch(n.i(o.c)(e))}))}},{key:"destroy",value:function(){this.unsub()}}]),e}()},function(e,t,n){"use strict";function r(e,t,r){function i(i){var a=document.createElement("div");a.className="player-video",e.appendChild(a);var o=t.getState(),d=o.env,f=o.ads;t.dispatch(n.i(C.a)({adblock:f.adblock,need_https:!1,platform:d.platform,player_type:d.playerType}));var p=i;t.dispatch(n.i(j.a)(p,r));var h=ie.b[i]||c.b,m=F()({lastAdDisplay:l.a.get("lastAdDisplay",0)},r),y=new h(m,t);t.dispatch(n.i(v.a)(y)),t.dispatch(n.i(g.a)(y.getBackend())),y.addEventListener($.b,V),y.attach(e,".player-video"),Ue=s.a,Ue.init(),Be=new u.a(Ue,y),Me.checkInterval=setInterval(function(){var t=e.querySelector(".player-video");t.querySelectorAll("video").length>0&&(Ce(t,y),clearInterval(Me.checkInterval))},100),y.addEventListener($.a,re),y.addEventListener($.n,H),y.addEventListener(X.b,se),y.addEventListener(X.w,ue),y.addEventListener(X.x,ce),y.addEventListener(X.y,le),y.addEventListener(X.r,D),y.addEventListener(X.f,ve),y.addEventListener($.m,ye),y.addEventListener($.i,de),y.addEventListener($.o,pe),y.addEventListener($.s,he);var b=t.getState().window.navigator.userAgent.toLowerCase(),_=b.indexOf("safari")>-1&&-1===b.indexOf("chrome"),w=b.indexOf("windows")>-1&&b.indexOf("edge")>-1;(_||w)&&y.addEventListener($.o,function(){t.dispatch(n.i(R.g)(!1))}),y.addEventListener(X.z,U),y.addEventListener($.l,me),y.addEventListener($.k,W),y.addEventListener($.j,W),y.addEventListener($.j,Q),y.addEventListener($.p,W),y.addEventListener($.q,fe),y.addEventListener(X.h,Me._loadVideoAPI),y.addEventListener($.c,Me._loadVideoAPI);var k=t.getState(),E=k.playback;y.setVolume(E.volume),y.setMuted(E.muted),Le(),Ie(),Me._propagateBackendMutliEvents()}function D(e){var t=e.stream_format_current;e.stream_format_previous!==t&&qe.emit(X.r,e)}function U(e){t.dispatch(n.i(J.b)(e))}function V(e){t.dispatch(n.i(O.a)(e))}function H(){t.dispatch(n.i(R.i)(t.getState().backend.getDuration()))}function W(){t.dispatch(n.i(R.g)(!0)),t.dispatch(n.i(R.j)($.j))}function Q(){Me.getSeeking()||t.dispatch(n.i(R.k)())}function re(){t.dispatch({type:y.f,captions:{data:null,available:!1}}),t.dispatch(n.i(I.k)(Me.getQualities()));var e=t.getState(),i=e.quality,a=e.stream,o=e.playback,s=i.available.filter(function(e){return!z()(a.restrictedBitrates,e.group)});s.some(function(e){return e.group===i.selected})||t.dispatch(n.i(I.c)(s[0].group,s[0].bandwidth)),t.dispatch(n.i(R.i)(t.getState().backend.getDuration())),a.contentType!==p.a&&a.contentType!==h.b||Me.setCurrentTime(o.startTime),a.contentType===f.a&&t.dispatch(n.i(x.b)(!0)),!r.autoplay||a.contentType!==f.a&&a.contentType!==p.a||be(),a.contentType===f.a&&t.dispatch(n.i(L.f)(Be.getVideoInfo().broadcast_id))}function se(e){t.dispatch(n.i(R.l)(e.start,e.end))}function ue(e){t.dispatch(n.i(b.d)(_.d,e.duration,!1,0,oe))}function ce(e){if(e&&e.hasOwnProperty("URL")&&G()(e.URL)){var r=e.URL;try{t.dispatch(n.i(b.g)(r))}catch(e){console.warn("Failed to decode click-through URL: ",r)}}t.dispatch(n.i(b.h)({contentType:b.c.STITCHED,rollType:b.f.MIDROLL}))}function le(){t.dispatch(n.i(b.i)())}function de(){t.dispatch(n.i(O.b)()),t.dispatch(n.i(R.g)(!1)),t.dispatch(n.i(R.j)($.i))}function fe(){t.getState().ads.currentMetadata.contentType!==b.c.IMA&&t.dispatch(n.i(R.j)($.q))}function pe(){var e=Me.getCurrentTime();t.dispatch(n.i(R.m)(e))}function he(){t.dispatch(n.i(R.n)(Be.getPlaybackRate()))}function me(){t.getState().screen[0]===A.b&&t.dispatch(n.i(A.c)());var e=Me.getCurrentTime();t.dispatch(n.i(R.o)(e))}function ye(){t.dispatch(n.i(R.j)($.m));var e=t.getState(),r=e.stream,i=e.playback;r.contentType!==p.a&&i.hasPlayed&&t.dispatch(n.i(b.d)(_.c,b.e))}function ve(){t.dispatch(n.i(x.b)(!1))}function ge(){var e=t.getState(),r=e.playerOptions;r.force_preroll?Ne(_.b,r.force_preroll):r.force_midroll?Ne(_.d,r.force_midroll):r.force_preroll_id?Ne(_.b,b.e,r.force_preroll_id):r.force_midroll_id?Ne(_.d,b.e,r.force_midroll_id):t.dispatch(n.i(b.d)(_.b,b.e))}function be(){if(t.getState().adsManager!==k.a)ge();else var e=n.i(m.a)(t,["adsManager"],function(t){t.adsManager!==k.a&&(e(),ge())})}function _e(){return n.i(m.a)(t,["stream"],function(e){var t=e.stream;Me._updateStream(t)})}function we(){return n.i(m.a)(t,["viewercount"],function(){qe.emit(X.q)})}function ke(){return n.i(m.a)(t,["onlineStatus"],function(e){e.onlineStatus===te.a?qe.emit(X.g):qe.emit(X.f)})}function Ee(){return n.i(m.a)(t,["playback.contentShowing"],function(e){e.playback.contentShowing&&qe.emit(X.i)})}function Se(){return n.i(m.a)(t,["quality.selected"],function(e){var t=e.quality;Me.setQuality(t.selected)})}function Pe(){return Oe(t.getState()),n.i(m.a)(t,["adsManager"],Oe)}function Ce(e,r){!0===t.getState().ads.imaScriptLoaded?Te(e,r):Fe=n.i(m.a)(t,["ads.imaScriptLoaded"],function(){Te(e,r)})}function Te(e,i){!0===t.getState().ads.imaScriptLoaded&&(t.dispatch(n.i(w.a)(e,i,t,r)),De.push(Pe()),K()(Fe)&&Fe())}function Oe(e){var r=e.adsManager;r.addEventListener(Z.AD_END,function(e){l.a.set("lastAdDisplay",(new Date).getTime()),e.roll_type===_.c&&t.dispatch(n.i(R.j)($.m))}),r.addEventListener(Z.AD_START,function(){t.dispatch(n.i(R.j)($.i))}),r.addEventListener(Z.AD_ERROR,function(e){e.roll_type===_.c&&t.dispatch(n.i(R.j)($.m))}),Y()(Z,function(e){r.addEventListener(e,function(t){qe.emit(e,t)})})}function xe(){var e=Be.getStats();t.dispatch(n.i(J.b)(e)),qe.emit(X.t)}function Re(){var e=t.getState(),n=e.window;Me._statsLoop||(Me._statsLoop=n.setInterval(xe,J.c),De.push(function(){n.clearInterval(Me.statsLoop),Me._statsLoop=null}))}function Ie(){Be.addEventListener(Z.AD_START,function(){t.dispatch(n.i(A.i)(A.g))}),Be.addEventListener(Z.AD_END,function(){l.a.set("lastAdDisplay",(new Date).getTime()),t.dispatch(n.i(A.c)())}),Ue.addEventListener(X.d,function(e){t.dispatch(n.i(T.e)(e));var r=G()(Ue.getDevice())?Ue.getDevice():"Chromecast";t.dispatch(n.i(T.f)(r))}),De.push(_e()),De.push(we()),De.push(ke()),De.push(Ee()),De.push(Se()),Be.addEventListener(X.c,function(){t.dispatch(n.i(y.j)(Be.getCaption()))}),Be.addEventListener(X.k,function(e){t.dispatch(n.i(I.l)(e)),t.dispatch(n.i(E.c)()),t.dispatch(n.i(I.k)(Me.getQualities()))}),Be.addEventListener(X.e,function(e){t.dispatch(n.i(P.a)(e)),t.dispatch(n.i(R.g)(!0)),Me._initQuality()})}function Le(){var e=t.getState(),n=e.quality;Me.setQuality(n.selected)}function Ae(){function e(){function r(){o=!1}function i(){if(o){var e=Date.now()-a,s=t.getState().manifestInfo.serving_id;t.dispatch(n.i(S.b)("quality_change_complete",{time_to_stable_quality:e,serving_id:s})),Be.removeEventListener(X.m,i),Be.removeEventListener(X.k,r)}else o=!0}Be.removeEventListener($.i,e);var a=Date.now(),o=!1;Be.addEventListener(X.m,i),Be.addEventListener(X.k,r)}Be.addEventListener($.i,e)}function Ne(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=parseInt(r,10)||b.e;t.dispatch(n.i(b.d)(e,a,!0,i))}function je(e,t){try{t=B()(t,{enumerable:!0}),Object.defineProperty(Me,e,t)}catch(e){}}var Me=this,qe=new a.a;t.dispatch(n.i(q.f)(qe));var De=[],Be=void 0,Ue=void 0,Fe=void 0;Me._loadVideoAPI=function(){t.dispatch(n.i(M.h)(Me))},Me._propagateBackendMutliEvents=function(){[$.n,X.h,$.c,$.a,$.p,$.q,$.j,$.i,$.m,$.b,$.k,$.o,$.g,X.m,X.b,X.l,$.l].forEach(function(e){Be.addEventListener(e,function(t){qe.emit(e,t)})})},Me._setABS=function(){var e=r.abs,i=!l.a.get(I.f,!1),a=t.getState().quality.selected===I.e;Me.absAvailable()&&(i||e)?(t.dispatch(n.i(I.c)(I.e)),t.dispatch(n.i(I.d)(I.g)),l.a.set(I.f,!0)):!Me.absAvailable()&&a&&t.dispatch(n.i(I.c)(I.h,I.i)),t.dispatch(n.i(I.j)(Me.absAvailable()))},Me.absAvailable=function(){return Be.absAvailable()},Me._initQuality=function(){Me._setABS(),Le()},Me.destroy=function(){Be.destroy(),De.forEach(function(e){return e()}),o.ExtensionCoordinator.ExtensionService.unregisterPlayer(Me),qe.removeAllListeners()},Me._updateStream=function(e){if(e.contentType===f.a)Be.setChannel(e.channel,e),Ae();else if(e.contentType===p.a)Be.setVideo(e.videoId,e),Ae();else if(e.contentType===h.b){var n=t.getState(),r=n.quality;Be.setQuality(r.selected)}else e.streamUrl.then(function(e){Be.setSrc(e)})},Me.addEventListener=function(e,t){z()(d.e,e)||console.error("subscribing to unknown event: ",e),qe.on(e,t)},Me.removeEventListener=function(e,t){qe.off(e,t)},Me.getNetworkProfile=function(){return t.getState().backend.getNetworkProfile()},Me.getError=function(){return Be.getError()},Me.getSrc=function(){},Me.setSrc=function(){},Me.getNetworkState=function(){return Be.getNetworkState()},Me.getBuffered=function(){return Be.getBuffered()},Me.load=function(){Be.load()},Me.getReadyState=function(){return Be.getReadyState()},Me.getSeeking=function(){return Be.getSeeking()},Me.getCurrentTime=function(){return Be.getCurrentTime()},Me.setCurrentTime=function(e){Be.setCurrentTime(e)},Me.getDuration=function(){return Be.getDuration()},Me.getPaused=function(){var e=t.getState(),n=e.ads,r=e.adsManager;return n.currentMetadata.contentType===b.c.IMA?r.paused:Be.getPaused()},Me.isPaused=Me.getPaused,Me.getPlaybackRate=function(){return Be.getPlaybackRate()},Me.setPlaybackRate=function(e){Be.setPlaybackRate(e)},Me.getPlayed=function(){return Be.getPlayed()},Me.getEnded=function(){return Be.getEnded()},Me.getAutoplay=function(){return r.autoplay},Me.setLoop=function(e){Be.setLoop(e)},Me.play=function(){var e=t.getState(),r=e.playback,i=e.ads,a=e.stream;r.hasPlayed||a.contentType!==p.a&&a.contentType!==f.a||be(),t.dispatch(n.i(R.j)($.i)),Be.getNetworkState===Be.NETWORK_EMPTY?Be.load():i.currentMetadata.contentType===b.c.IMA?t.dispatch(n.i(b.j)()):(a.contentType===p.a&&Me.getEnded()&&Me.setCurrentTime(0),Be.play()),t.dispatch(n.i(S.b)("video_pause",{action:"play",in_ad:t.getState().ads.currentMetadata.contentType!==b.c.NONE}))},Me.pause=function(){t.dispatch(n.i(R.j)($.q)),t.getState().ads.currentMetadata.contentType===b.c.IMA?t.dispatch(n.i(b.k)()):Be.pause(),t.dispatch(n.i(S.b)("video_pause",{action:"pause",in_ad:t.getState().ads.currentMetadata.contentType!==b.c.NONE}))},Me.automatedPause=function(){Be.pause()},Me.getControls=function(){return!0},Me.setControls=function(){},Me.getVolume=function(){return t.getState().playback.volume},Me.setVolume=function(e){var r=t.getState(),i=r.ads,a=r.adsManager;(i.currentMetadata.contentType===b.c.IMA?a:Be).setVolume(e),t.dispatch(n.i(R.p)(e)),l.a.set("volume",e)},Me.getMuted=function(){return t.getState().playback.muted},Me.setMuted=function(e,r){var i=t.getState(),a=i.ads,o=i.adsManager;(a.currentMetadata.contentType===b.c.IMA?o:Be).setMuted(e),t.dispatch(n.i(R.q)(e)),r||l.a.set("muted",e)},Me.getTheatre=function(){return t.getState().screenMode.isTheatreMode},Me.setTheatre=function(e){t.dispatch(n.i(N.c)(e))},Me.getQuality=function(){return t.getState().playback.quality},Me.setQuality=function(e){Be.setQuality(e)},Me.getQualities=function(){return Be.getQualities()},Me.getChannel=function(){return t.getState().streamMetadata.channelName},Me.getVideo=function(){return t.getState().streamMetadata.videoId},Me.getSessionInfo=function(){var e=t.getState(),n=e.analytics;return{broadcastId:e.manifestInfo.broadcast_id,playSessionId:n.playSessionId}},Me.startCast=function(){Ue.load()},Me.stopCast=function(){Ue.stop()},Me.getFullscreen=function(){return t.getState().screenMode.isFullScreen},Me.setFullscreen=function(e){t.dispatch(n.i(N.b)(e))},Me.getFullscreenEnabled=function(){return t.getState().screenMode.canFullScreen},Me.getStatsEnabled=function(){return t.getState().stats.enabled},Me.setStatsEnabled=function(){},Me.getStats=function(){return t.getState().stats.videoStats},Me.getPlaybackStats=Me.getStats,Me.getVideoInfo=function(){return Be.getVideoInfo()},Me.getBackend=function(){return Be.getBackend()},Me.submitVideoIssueReport=function(e){var r={issue:e};r=F()(r,Me.getVideoInfo()),t.dispatch(n.i(S.b)("vid_issue_report",r))},Me.setBackend=function(e){l.a.usesCache()&&(l.a.set("backend",e),t.getState().window.document.location.reload())},Me.getVersion=function(){return t.getState().backend.getVersion()},Me.getViewerCount=function(){return t.getState().viewercount},Me.getCaption=function(){return Be.getCaption()},Me.getEventEmitter=function(){return qe},Me.trackMiniPlayerAction=function(e,r){t.dispatch(n.i(S.b)(ee.f,{action:e,reason:r}))},je("error",{get:Me.getError}),je("src",{get:Me.getSrc,set:Me.setSrc}),je("networkState",{get:Me.getNetworkState}),je("buffered",{get:Me.getBuffered}),je("readyState",{get:Me.getReadyState}),je("seeking",{get:Me.getSeeking}),je("currentTime",{get:Me.getCurrentTime,set:Me.setCurrentTime}),je("duration",{get:Me.getDuration}),je("paused",{get:Me.getPaused}),je("playbackRate",{get:Me.getPlaybackRate,set:Me.setPlaybackRate}),je("played",{get:Me.getPlayed}),je("ended",{get:Me.getEnded}),je("autoplay",{get:Me.getAutoplay}),je("loop",{set:Me.setLoop}),je("controls",{get:Me.getControls,set:Me.setControls}),je("volume",{get:Me.getVolume,set:Me.setVolume}),je("muted",{get:Me.getMuted,set:Me.setMuted}),je("quality",{get:Me.getQuality,set:Me.setQuality}),je("qualities",{get:Me.getQualities}),je("channel",{get:Me.getChannel,set:Me.setChannel}),je("video",{get:Me.getVideo,set:Me.setVideo}),je("stats",{get:Me.getStats}),je("statsEnabled",{get:Me.getStatsEnabled,set:Me.setStatsEnabled}),je("fullscreen",{get:Me.getFullscreen,set:Me.setFullscreen}),je("fullscreenEnabled",{get:Me.getFullscreenEnabled}),je("theatre",{get:Me.getTheatre,set:Me.setTheatre}),je("viewers",{get:Me.getViewerCount}),function(){var e=n.i(ie.a)(t.getState().env.playerType),a=c.a;e.length<1?(t.dispatch(n.i(O.a)(new Error(ae.RENDERER_NOT_AVAILABLE))),t.dispatch(n.i(S.b)(ne.b,{playback_error_code:6e3,playback_error_msg:"no_backend_supported"}))):a=z()(e,r.backend)?r.backend:e[0],i(a),o.ExtensionCoordinator.ExtensionService.registerPlayer(Me),Re()}()}n.d(t,"b",function(){return oe}),t.a=r;var i=n(47),a=n.n(i),o=n(82),s=(n.n(o),n(194)),u=n(196),c=n(75),l=n(22),d=n(6),f=n(12),p=n(8),h=n(132),m=n(13),y=n(26),v=n(117),g=n(116),b=n(18),_=n(40),w=n(115),k=n(98),E=n(61),S=n(21),P=n(119),C=n(114),T=n(71),O=n(94),x=n(73),R=n(19),I=n(48),L=n(43),A=n(15),N=n(28),j=n(123),M=n(16),q=n(38),D=n(113),B=n.n(D),U=n(23),F=n.n(U),V=n(11),z=n.n(V),H=n(92),G=n.n(H),W=n(414),K=n.n(W),Q=n(408),Y=n.n(Q),$=n(20),X=n(29),Z=n(64),J=n(63),ee=n(57),te=n(25),ne=n(58),re=n(129),ie=n(198),ae={ABORTED:re.e,NETWORK:re.c,DECODE:re.d,FORMAT_NOT_SUPPORTED:re.b,NOT_AUTHORIZED:re.a,RENDERER_NOT_AVAILABLE:"Renderer not available"},oe="ID3_AD"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var i=n(13),a=n(18),o=n(40),s=n(394),u=n(184),c=n(27),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d="archive",f=function(){function e(t){r(this,e),this._store=t,this._unsubs=[],this._timer=null,this._createTimer()}return l(e,[{key:"_createTimer",value:function(){var e=this;this._store.getState().experiments.get(c.r).then(function(t){"no"!==t&&(e._timer=new s.a(function(){e._store.dispatch(n.i(a.d)(o.d,30,!1,0,"TIMER_AD"))},60*parseInt(t,10)*1e3,window),e._initSubscribes())})}},{key:"_initSubscribes",value:function(){this._unsubs.push(n.i(i.a)(this._store,["ads.currentMetadata.contentType"],this.onContentTypeChange.bind(this))),this._unsubs.push(n.i(i.a)(this._store,["playback.paused","playback.playing"],this.onPlaybackStateChange.bind(this))),this._unsubs.push(n.i(i.a)(this._store,["streamMetadata"],this.onStreamMetadataChange.bind(this))),this.onStreamMetadataChange(this._store.getState())}},{key:"onContentTypeChange",value:function(e){e.ads.currentMetadata.contentType===a.c.NONE?this._store.getState().streamMetadata.type===d&&!1===this._store.getState().ads.vodMidrollBlacklisted&&this._timer.start():this._timer.pause()}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;if(t.playing){var n=this._store.getState().streamMetadata,r=this._store.getState().ads;n.type===d&&r.currentMetadata.contentType===a.c.NONE&&!1===r.vodMidrollBlacklisted&&this._timer.start()}t.paused&&this._timer.pause()}},{key:"onStreamMetadataChange",value:function(e){var t=e.streamMetadata,r=t.channel,i=t.type,o=r.id;this._store.dispatch(n.i(a.m)(o in u.a)),i!==d||o in u.a?this._timer.pause():this._timer.restartTimer()}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t){e.exports=n(1087)},function(e,t){e.exports=n(1088)},function(e,t,n){"use strict";function r(e){var t=a()(e,s);return{type:o,params:t}}n.d(t,"b",function(){return o}),t.a=r;var i=n(17),a=n.n(i),o="set access token params",s=["adblock","need_https","platform","player_type"]},function(e,t,n){"use strict";function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i(e,t,n,r);return{type:c,adsManager:a}}function i(e,t,n,r){switch(t.getBackend()){case o.a:return new s.a(n,new a.a(e,t,n,r));default:return u.a}}n.d(t,"b",function(){return c}),t.a=r;var a=n(183),o=n(59),s=n(126),u=n(98),c="create ads manager"},function(e,t,n){"use strict";function r(e){return{type:i,playerBackendType:e}}n.d(t,"b",function(){return i}),t.a=r;var i="set player backend type"},function(e,t,n){"use strict";function r(e){return{type:i,backend:e}}n.d(t,"b",function(){return i}),t.a=r;var i="set backend"},function(e,t,n){"use strict";function r(e){return e?{type:o,communities:i(e)}:{type:s}}function i(e){var t=e.communities;return t.length<1?{data:[],ids:""}:{data:t,ids:a(t)}}function a(e){return e.map(function(e){return e._id}).join(",")}n.d(t,"b",function(){return o}),t.a=r;var o="set communities data",s="invalid communities data"},function(e,t,n){"use strict";function r(e){var t=o()(e);return t.abs="true"===t.abs,t.suppress="true"===t.suppress,t.broadcast_id=parseInt(t.broadcast_id,10),t}function i(e){return{type:s,info:r(e)}}n.d(t,"b",function(){return s}),t.a=i;var a=n(406),o=n.n(a),s="set manifest info"},function(e,t,n){"use strict";function r(e){return{type:i,playerDimensions:e}}n.d(t,"b",function(){return i}),t.a=r;var i="update player dimensions"},function(e,t,n){"use strict";function r(e,t){return function(r,i){return n.i(a.v)(e,t).then(function(){if(t===i().streamMetadata.channel.id)return r(u({isSubscribed:!0}))}).catch(function(){if(t===i().streamMetadata.channel.id)return r(u({isSubscribed:!1}))})}}function i(e){return function(t,r){return n.i(a.w)(e).then(function(){if(e===r().streamMetadata.channel.name)return t(c({isSubscribable:!0}))}).catch(function(){if(e===r().streamMetadata.channel.name)return t(c({isSubscribable:!1}))})}}n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),t.b=r,t.a=i;var a=n(10),o="action channel subscriptions fetched",s="action subscription products fetched",u=function(e){return{type:o,subscriptions:e}},c=function(e){return{type:s,subscriptions:e}}},function(e,t,n){"use strict";function r(e){return{type:o,mutedSegments:e}}function i(e){return{type:s,previews:e}}function a(e){return{type:u,markers:e}}n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return u}),t.a=r,t.b=i,t.c=a;var o="set muted segments",s="set previews",u="set markers"},function(e,t,n){"use strict";function r(e,t){var n={player_backend:e};return a()(t,function(e,t){if(0===t.indexOf(s)){var r=t.substring(s.length);n[r]=e}}),n.p=Math.floor(9999999*Math.random()),{type:o,params:n}}n.d(t,"b",function(){return o}),t.a=r;var i=n(409),a=n.n(i),o="set usher params",s="usher_"},function(e,t,n){"use strict";function r(e){return function(t){t({type:a,pubsubVodInfo:i(e)})}}function i(e){return{watchPartyId:e.wp_id,vodId:e.vod_id,title:e.title,viewable:e.viewable,broadcastType:e.broadcast_type,incrementViewCountURL:e.increment_url}}n.d(t,"b",function(){return a}),t.a=r;var a="set watchpartyvod"},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={ad_session_id:e.adSessionId,adblock:e.adblock,roll_type:e.adType,time_break:e.duration,twitch_correlator:e.twitchCorrelator};return e.adWhitelist&&(n.ads_opt_in=e.adWhitelist),n=a(n,e),null!==t&&(n.ad_system=t.getAdSystem(),n.ad_id=t.getAdId(),n.creative_id=t.getCreativeId(),n.title=t.getTitle(),n.duration=t.getDuration(),t.getWrapperAdIds().length>0&&(n.wrapper_ad_id=t.getWrapperAdIds()[0],n.wrapper_ad_system=t.getWrapperAdSystems()[0],n.wrapper_creative_id=t.getWrapperCreativeIds()[0])),n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.getState(),a=i.analyticsTracker,o=i.stream,c=i.streamMetadata,l=r;t&&s()(l,{provider:t}),o instanceof u.b&&s()(l,{vod_id:o.videoId,vod_type:c.type}),a.trackEvent(n,l)}function a(e,t){var n=e;return t.amzniid&&(n.amzniid=t.amzniid),t.amznbid&&(n.amznbid=t.amznbid),n}t.b=r,t.a=i;var o=n(5),s=n.n(o),u=n(8)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){e.analyticsTracker.trackEvent("video_ad_request_declined",l()({ad_session_id:t.adSessionId,roll_type:t.adType,time_break:t.duration,provider:"ima",adblock:s(t),twitch_correlator:t.twitchCorrelator},n))}function o(e){return{reason_short_vod:e.adType===p.b&&e.contentType===m.a&&e.vod.duration>=0&&e.vod.duration<w,reason_vod_creator:e.adType===p.b&&e.contentType===m.a&&e.login===e.channel,reason_turbo:Boolean(e.turboToken),reason_ratelimit:e.adType===p.b&&e.requestTime-e.lastAdDisplay<_,reason_channelsub:Boolean(e.chansubToken)&&e.hasAdFreeSubscription,reason_channeladfree:e.adType===p.b&&!e.prerollsEnabled||e.adType===p.c&&!e.postrollsEnabled,reason_frontpage:e.playerType===h.h,reason_creative_player:e.playerType===h.r,reason_facebook:e.playerType===h.k,reason_highlighter:e.playerType===h.i,reason_dashboard:e.playerType===h.s,reason_mobile_web_upsell:Boolean(e.isMobileLocation)&&e.platform===y.a,reason_digest:e.adType===p.b&&e.lure&&"yes"===e.bismol,reason_vod_midroll:e.contentType===m.a&&e.vod.type===v.b&&e.adType===p.d&&e.requestType===g.b&&!1===e.vodMidrollBlacklisted&&"no"!==e.citadelExpGroup,reason_embed_promo:e.contentType===m.a&&e.playerType===h.o&&e.embedPromo}}function s(e){return"unknown"===e.adblock?null:e.adblock}function u(e,t){var n=f()(e,function(e,t){return e||t},!1);return t.forced&&(n=!1),n}n.d(t,"a",function(){return k}),t.b=o,t.c=u;var c=n(5),l=n.n(c),d=n(55),f=n.n(d),p=n(40),h=n(7),m=n(8),y=n(49),v=n(111),g=n(110),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=3e5,w=60,k=function(){function e(t,n){i(this,e),this._store=t,this._adManager=n,this._streamRollTypes={}}return b(e,[{key:"destroy",value:function(){this._adManager.destroy()}},{key:"requestAds",value:function(e){if(!this._streamRollTypes.hasOwnProperty(e.channel)){var t;this._streamRollTypes[e.channel]=(t={},r(t,p.b,!1),r(t,p.d,!1),r(t,p.c,!1),t)}var n=o(e);u(n,e)?a(this._store.getState(),e,n):(this._adManager.requestAds(e),this._streamRollTypes[e.channel][e.adType]=!0)}},{key:"addEventListener",value:function(e,t){this._adManager.addEventListener(e,t)}},{key:"pause",value:function(){this._adManager.pause()}},{key:"play",value:function(){this._adManager.play()}},{key:"setVolume",value:function(e){this._adManager.setVolume(e)}},{key:"setMuted",value:function(e){this._adManager.setMuted(e)}},{key:"paused",get:function(){return this._adManager.paused}},{key:"sdk",get:function(){return this._adManager.sdk}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=Object.freeze({VIDEO_PLAY:"video-play",MINUTE_WATCHED:"minute-watched",BUFFER_EMPTY:"buffer-empty",BUFFER_REFILL:"buffer-refill"}),i="video_playback_error"},function(e,t,n){"use strict";function r(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}t.a=r},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r="Media playback aborted error",i="Network error",a="Media resource decoding error",o="Resource format not supported error",s="Authorization error"},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=0,i=1,a=2,o=3},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.c:return a()({},e,{showCCModal:t.showCCModal});case s.d:case s.e:case s.f:return a()({},e,t.captions);case s.g:return a()({},e,{data:t.captions.data,available:e.available||t.captions.data.data.length>0});case u.g:return a()({},e,{available:c.available,data:c.data});default:return e}}n.d(t,"a",function(){return c}),t.b=r;var i=n(23),a=n.n(i),o=n(51),s=n(26),u=n(14),c={enabled:!1,available:!1,preset:"white-on-black",data:null,style:o.b["white-on-black"],showCCModal:!1}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"b",function(){return u}),n.d(t,"a",function(){return c});var o=n(78),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="clip",c=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._slug=e,n}return a(t,e),s(t,[{key:"contentType",get:function(){return u}},{key:"slug",get:function(){return this._slug}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"castStreamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(9),u=n(2),c=n.n(u),l={onClick:o.a.func.isRequired,className:o.a.string},d=function(e){var t=e.onClick,n=e.className,r=c()("pl-close-button",n);return i.a.createElement(s.a,{className:r,onClick:t},i.a.createElement("figure",null,i.a.createElement("svg",{className:"pl-close-button__svg"},i.a.createElement("use",{xlinkHref:"#pl-icon_close"}))))};d.propTypes=l},function(e,t,n){"use strict";function r(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return a.a.createElement("div",{className:"cc-panel-menu-frame"},a.a.createElement(c.a,{currentOpacity:i,onSelect:r}),a.a.createElement(u.a,{currentColor:t,onSelect:n,colors:d}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(135),c=n(266),l={currentColor:s.a.string.isRequired,currentOpacity:s.a.string.isRequired,selectColor:s.a.func.isRequired,selectOpacity:s.a.func.isRequired},d=Object.freeze(["transparent","white","lightgray","gray","darkgray","black","green","blue","cyan","magenta","yellow","red"]);r.propTypes=l},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.onSelect,n=e.currentColor,i=e.colors,a=e.t,s=i.map(function(e){var i,a=function(){return t(e)},s=function(e){"Enter"===e.key&&a()},u="transparent"===e?o.a.createElement("hr",{className:"cc-no-color"}):null,c=d()((i={"cc-color-palette__square":!0},r(i,"cc-color-palette__square-"+e,!0),r(i,"cc-color-palette__square-selected",e===n),i));return o.a.createElement("div",{className:"cc-color-palette__container",key:"color-palette."+e},u,o.a.createElement("div",{role:"button",className:c,onClick:a,onKeyUp:s,tabIndex:-1}))});return o.a.createElement("div",{className:"cc-customize-field"},o.a.createElement("label",{htmlFor:"colorPalette"},a("Color")),o.a.createElement("div",{className:"cc-color-palette"},s))}n.d(t,"a",function(){return p});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(4),l=(n.n(c),n(2)),d=n.n(l),f={currentColor:u.a.string.isRequired,colors:u.a.array.isRequired,onSelect:u.a.func.isRequired,t:u.a.func.isRequired};i.propTypes=f;var p=n.i(c.translate)()(i)},function(e,t,n){"use strict";function r(e){return function(t){"Enter"===t.key&&e()}}n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),{label:s.a.string.isRequired,onToggle:s.a.func,t:s.a.func.isRequired,toggledOn:s.a.bool}),l={onToggle:function(){},toggledOn:!1},d=function(e){var t=e.label,n=e.onToggle,i=e.t,o=e.toggledOn,s="toggle_button_"+Math.random().toString(36).substr(2,10);return a.a.createElement("div",{className:"pl-player-menu__toggle-item"},a.a.createElement("div",{className:"pl-toggle__label-wrapper"},a.a.createElement("label",{className:"pl-form__label qa-toggle-label",htmlFor:"toggle_button",role:"button",onClick:n,onKeyUp:r(n),tabIndex:0},i(t))),a.a.createElement("div",{className:"pl-toggle"},a.a.createElement("input",{className:"qa-input-checkbox",type:"checkbox",id:s,checked:o,onChange:n}),a.a.createElement("label",{className:"pl-toggle__button",htmlFor:s})))};d.propTypes=c,d.defaultProps=l;var f=n.i(u.translate)()(d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return T});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(133),p=n(37),h=n.n(p),m=n(79),y=n(4),v=(n.n(y),n(50)),g=n(307),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=[{minPlayerWidth:2381,columns:8},{minPlayerWidth:2084,columns:7},{minPlayerWidth:1786,columns:6},{minPlayerWidth:1489,columns:5},{minPlayerWidth:1191,columns:4},{minPlayerWidth:893,columns:3},{minPlayerWidth:596,columns:2},{minPlayerWidth:0,columns:1}],w=[{minPlayerHeight:950,rows:4},{minPlayerHeight:700,rows:3},{minPlayerHeight:520,rows:2},{minPlayerHeight:0,rows:1}],k={height:c.a.number.isRequired,width:c.a.number.isRequired,videos:c.a.arrayOf(c.a.shape({thumbnailURL:c.a.string.isRequired,title:c.a.string.isRequired,channelName:c.a.string.isRequired,creationDate:c.a.string.isRequired,duration:c.a.number.isRequired,id:c.a.string.isRequired,recommendationType:c.a.string.isRequired}).isRequired).isRequired,onSelect:c.a.func.isRequired,trackEvent:c.a.func.isRequired,onClose:c.a.func.isRequired,t:c.a.func.isRequired,i18n:c.a.shape({langCode:c.a.string.isRequired}),windowObj:c.a.object.isRequired},E=d()("pl-rec","pl-flex","pl-flex--stretch","pl-flex--horizontalCenter"),S=d()("pl-rec__title","pl-flex__item"),P=d()("pl-rec__container","pl-flex","pl-flex__item","pl-flex--verticalCenter","pl-flex--horizontalCenter"),C=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return a(t,e),b(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.height,n=e.width,r=e.videos;(0,e.trackEvent)("player_rec_show_others",{recommended_vod_ids:r.slice(0,this._getNumOfCardsVisible(t,n)).map(function(e){return e.id}).join(","),recommended_vod_types:r[0].recommendationType})}},{key:"render",value:function(){var e=this,t=this.props,n=t.videos,r=t.width,i=t.height,a=t.onClose,o=t.t,u=t.i18n,c=t.windowObj,l=this._getNumOfCardsVisible(i,r),p=n.map(function(t,n){var r=d()({"mg-x-05":!0,"pl-rec__item":!0,hidden:n>=l});if(t.recommendationType===v.c)return s.a.createElement(m.a,{key:t.id+"_"+(n>=l),className:r,thumbnailURL:t.thumbnailURL,title:t.title,info:t.game,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0});var i=s.a.createElement(g.a,{length:t.duration,date:new c.Date(t.creationDate),languageCode:u.langCode});return s.a.createElement(m.a,{key:t.id+"_"+(n>=l),className:r,thumbnailURL:t.thumbnailURL,bread:t.channelName,title:t.title,info:i,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0})}),h=null;return h=n[0].recommendationType===v.c?o("More from {{channelName}}",{channelName:n[0].channelName}):o("Watch Now"),s.a.createElement("div",{className:E},s.a.createElement(f.a,{onClick:a}),s.a.createElement("h2",{className:S},h),s.a.createElement("div",{className:P},p))}},{key:"_getNumOfCardsVisible",value:function(e,t){return h()(_,function(e){return t>=e.minPlayerWidth}).columns*h()(w,function(t){return e>=t.minPlayerHeight}).rows}},{key:"handleSelect",value:function(e){this.props.trackEvent("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"other"}),this.props.onSelect(e)}}]),t}(s.a.Component);C.propTypes=k;var T=n.i(y.translate)()(C)},function(e,t,n){"use strict";function r(e,t,n){var r=e-.5*t,i=Math.max(0,Math.min(r,n-t));return isNaN(i)?0:i}n.d(t,"a",function(){return c});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u={popupLeftOffset:s.a.number,popupObject:s.a.object,popupWidth:s.a.number,seekbarWidth:s.a.number},c=function(e){var t=e.popupLeftOffset,n=e.popupObject,i=e.popupWidth,o=e.seekbarWidth;return a.a.createElement("div",null,a.a.createElement("div",{className:"player-slider__popup-container",style:{width:n.width,left:r(t,i,o)}},a.a.createElement("div",{className:"popup-thumb-wrapper",style:{width:n.thumbOver.width,height:n.thumbOver.height,maxHeight:n.thumbOver.height}},a.a.createElement("div",{className:"popup-marker-thumbunder",style:{height:n.thumbUnder.height,width:n.thumbUnder.width,backgroundSize:n.thumbUnder.sheetWidth+"px",backgroundImage:"url("+n.thumbUnder.url+")",backgroundPosition:"-"+n.thumbUnder.x+"px -"+n.thumbUnder.y+"px"}}),a.a.createElement("div",{className:"popup-marker-thumbover",style:{height:n.thumbOver.height,width:n.thumbOver.width,backgroundSize:n.thumbOver.sheetWidth+"px",backgroundImage:"url("+n.thumbOver.url+")",backgroundPosition:"-"+n.thumbOver.x+"px -"+n.thumbOver.y+"px"}})),a.a.createElement("div",{className:"popup-info-wrapper"},a.a.createElement("span",{className:"popup-title"},n.title),a.a.createElement("span",{className:"popup-info",dangerouslySetInnerHTML:{__html:n.info}})),a.a.createElement("span",{className:"popup-timestamp"},n.timestamp)),a.a.createElement("div",{className:"popup-arrow",style:{left:r(t,20,o)}}))};c.propTypes=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return E});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(41)),h=n(320),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={currentSpeed:c.a.number.isRequired,onMenuTransition:c.a.func,onSelectPlaybackSpeed:c.a.func,t:c.a.func.isRequired},v={onMenuTransition:function(){},onSelectPlaybackSpeed:function(){}},g=Object.freeze([.25,.5,.75,1,1.25,1.5,2]),b="Speed",_=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),w=d()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),k=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return a(t,e),m(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(p.g)}},{key:"render",value:function(){var e=this.props.t,t=this._getSpeedSelectionButtons();return s.a.createElement("div",{className:"pl-menu__inner"},s.a.createElement("div",{className:_},s.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e(b))),s.a.createElement("div",{className:w},t))}},{key:"_getSpeedSelectionButtons",value:function(){var e=this.props,t=e.currentSpeed,n=e.onSelectPlaybackSpeed,r=e.t;return g.map(function(e){var i=t===e,a=1===e?"1x ("+r("Normal")+")":e+"x";return s.a.createElement(h.a,{isActive:i,key:e,label:a,onClick:n,speedValue:e})})}}]),t}(s.a.Component);k.propTypes=y,k.defaultProps=v;var E=n.i(f.translate)()(k)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(437),d=n.n(l),f=n(327),p=n(328),h=n(37),m=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={afterSliderChildren:c.a.oneOfType([c.a.arrayOf(c.a.element),c.a.element]),behindSliderChildren:c.a.oneOfType([c.a.arrayOf(c.a.element),c.a.element]),classNames:c.a.shape({slider:c.a.string,sliderLeft:c.a.string,sliderThumb:c.a.string}),dragHandlers:c.a.shape({onStart:c.a.func,onDrag:c.a.func,onStop:c.a.func}),getOptimizedValue:c.a.func,max:c.a.number.isRequired,min:c.a.number.isRequired,onBlur:c.a.func,onClick:c.a.func,onKeyDown:c.a.func,onMouseMove:c.a.func,onMouseOut:c.a.func,sliderTabIndex:c.a.number,windowObj:c.a.object,value:c.a.number,valueOptimizationEnabled:c.a.bool},g={value:0,classNames:{},sliderTabIndex:0,valueOptimizationEnabled:!1,getOptimizedValue:function(){return 0}},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,"data-whatInput":"",currentDragValue:0,touchIdentifier:-1,optimizedValue:0,requestAnimationID:0},e.handleTouchStart=e.handleTouchStart.bind(e),e.handleTouchEnd=e.handleTouchEnd.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleMouseUp=e.handleMouseUp.bind(e),e.handleClick=e.handleClick.bind(e),e.handleFocus=e.handleFocus.bind(e),e._sliderRefHandler=e._sliderRefHandler.bind(e),e.updateOptimizedValue=e.updateOptimizedValue.bind(e),e}return a(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.valueOptimizationEnabled&&this.updateOptimizedValue()}},{key:"componentWillUnmount",value:function(){this.props.valueOptimizationEnabled&&this.props.windowObj.cancelAnimationFrame(this.state.requestAnimationID)}},{key:"updateOptimizedValue",value:function(){this.setState({optimizedValue:this.props.getOptimizedValue(),requestAnimationID:this.props.windowObj.requestAnimationFrame(this.updateOptimizedValue)})}},{key:"render",value:function(){var e=this.props,t=e.afterSliderChildren,n=e.behindSliderChildren,r=e.classNames,i=e.max,a=e.min,o=e.onBlur,u=e.onKeyDown,c=e.onMouseMove,l=e.onMouseOut,d=e.sliderTabIndex,h=e.value,m=e.valueOptimizationEnabled,y=0;y=this.state.isDragging?this.state.currentDragValue:m?this.state.optimizedValue:h;var v=s.a.createElement(f.a,{className:r.sliderLeft,max:i,min:a,value:y}),g=s.a.createElement(p.a,{className:r.sliderThumb,max:i,min:a,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,value:y});return s.a.createElement("div",{"aria-valuemax":i,"aria-valuemin":a,"aria-valuenow":y,className:r.slider,"data-isDragging":this.state.isDragging,"data-whatInput":this.state["data-whatInput"],onBlur:o,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:u,onMouseMove:c,onMouseOut:l,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,ref:this._sliderRefHandler,role:"slider",tabIndex:d},n,v,t,g)}},{key:"_sliderRefHandler",value:function(e){this.$slider=e}},{key:"calculateValueAtPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,n=t.max,r=t.min,i=this.$slider.getBoundingClientRect(),a=i.left,o=i.width;return 0===o?0:Math.min(1,Math.max(0,(e-a)/o))*(n-r)+r}},{key:"handleClick",value:function(e){var t=this.calculateValueAtPosition(e.pageX),n=this.props.onClick;n&&n(t,e)}},{key:"onDragStart",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({isDragging:!0,currentDragValue:t});var n=this.props.dragHandlers.onStart;n&&n(t,e)}},{key:"onDragEvent",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({currentDragValue:t});var n=this.props.dragHandlers.onDrag;n&&n(t,e)}},{key:"onDragEnd",value:function(e){this.setState({isDragging:!1,currentDragValue:0});var t=this.calculateValueAtPosition(e.pageX),n=this.props.dragHandlers.onStop;n&&n(t,e)}},{key:"handleFocus",value:function(){this.setState({"data-whatInput":d.a.ask()})}},{key:"addMoveHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slider){var t=this.$slider.ownerDocument;e?(t.addEventListener("touchmove",this),t.addEventListener("touchend",this),t.addEventListener("touchcancel",this)):(t.addEventListener("mousemove",this),t.addEventListener("mouseup",this))}}},{key:"removeMoveHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slider){var t=this.$slider.ownerDocument;e?(t.removeEventListener("touchmove",this),t.removeEventListener("touchend",this),t.removeEventListener("touchcancel",this)):(t.removeEventListener("mousemove",this),t.removeEventListener("mouseup",this))}}},{key:"handleTouchStart",value:function(e){var t=e.touches[0];this.setState({touchIdentifier:t.identifier}),this.onDragStart(t),this.addMoveHandlers(!0)}},{key:"handleTouchMove",value:function(e){var t=this,n=m()(e.touches,function(e){return e.identifier===t.state.touchIdentifier});n&&this.onDragEvent(n)}},{key:"handleTouchEnd",value:function(e){var t=this,n=m()(e.changedTouches,function(e){return e.identifier===t.state.touchIdentifier});n&&(this.onDragEnd(n),this.removeMoveHandlers(!0),this.setState({touchIdentifier:-1}))}},{key:"handleMouseDown",value:function(e){this.onDragStart(e),this.addMoveHandlers(!1)}},{key:"handleMouseMove",value:function(e){this.onDragEvent(e)}},{key:"handleMouseUp",value:function(e){this.onDragEnd(e),this.removeMoveHandlers(!1)}},{key:"handleEvent",value:function(e){switch(e.type){case"touchmove":return this.handleTouchMove(e);case"touchend":case"touchcancel":return this.handleTouchEnd(e);case"mousemove":return this.handleMouseMove(e);case"mouseup":return this.handleMouseUp(e);default:throw Error("unexpected Slider event type: "+e.type)}}}]),t}(s.a.Component);b.propTypes=v,b.defaultProps=g},function(e,t,n){"use strict";function r(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return a.a.createElement(l.a,{currentColor:t,currentOpacity:i,selectColor:n,selectOpacity:r})}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(26)),l=n(134),d="Background",f={selectColor:s.a.func.isRequired,selectOpacity:s.a.func.isRequired,currentColor:s.a.string.isRequired,currentOpacity:s.a.string.isRequired},p=function(e){var t=e.captions;return{currentColor:t.style.backgroundColorName,currentOpacity:t.style.backgroundOpacity}},h=function(e){return{selectColor:function(t){e(n.i(c.i)("custom",{backgroundColorName:t}))},selectOpacity:function(t){e(n.i(c.i)("custom",{backgroundOpacity:t}))}}};r.propTypes=f;var m=n.i(u.connect)(p,h)(r)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.boldText,n=e.italicText,r=e.underlineText,i=e.currentTextEffect,a=e.selectTextEffect,s=e.selectTextStyle;return o.a.createElement(l.a,{boldText:t,italicText:n,underlineText:r,currentTextEffect:i,selectTextStyle:s,selectTextEffect:a})}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return y});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(3),l=(n.n(c),n(263)),d=n(26),f="Effects",p={boldText:u.a.bool.isRequired,italicText:u.a.bool.isRequired,underlineText:u.a.bool.isRequired,currentTextEffect:u.a.string.isRequired,selectTextEffect:u.a.func.isRequired,selectTextStyle:u.a.func.isRequired},h=function(e){var t=e.captions;return{boldText:"bold"===t.style.fontBold,italicText:"italic"===t.style.fontItalic,underlineText:"underline"===t.style.fontUnderline,currentTextEffect:t.style.edge}},m=function(e){return{selectTextEffect:function(t){e(n.i(d.i)("custom",{edge:t}))},selectTextStyle:function(t,i){e(n.i(d.i)("custom",r({},t,i)))}}};i.propTypes=p;var y=n.i(c.connect)(h,m)(i)},function(e,t,n){"use strict";function r(e){var t=e.onSelect,n=e.selectedValue;return a.a.createElement(c.a,{onSelect:t,selectedValue:n})}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return y});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(268)),l=n(51),d=n(26),f="Presets",p={onSelect:s.a.func.isRequired,selectedValue:s.a.string.isRequired},h=function(e){return{selectedValue:e.captions.preset}},m=function(e){return{onSelect:function(t){e(n.i(d.i)(t,l.b[t]))}}};r.propTypes=p;var y=n.i(u.connect)(h,m)(r)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.currentAlignment,n=e.currentColor,r=e.currentFont,i=e.currentFontSize,a=e.currentPosition,s=e.currentOpacity,u=e.selectFontChange;return o.a.createElement(l.a,{currentAlignment:t,currentColor:n,currentFont:r,currentFontSize:i,currentPosition:a,currentOpacity:s,selectFontChange:u})}n.d(t,"a",function(){return p}),n.d(t,"b",function(){return y});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(3),l=(n.n(c),n(271)),d=n(26),f={currentAlignment:u.a.string.isRequired,currentColor:u.a.string.isRequired,currentFont:u.a.string.isRequired,currentFontSize:u.a.number.isRequired,currentPosition:u.a.string.isRequired,currentOpacity:u.a.string.isRequired,selectFontChange:u.a.func.isRequired},p="Text",h=function(e){var t=e.captions;return{currentAlignment:t.style.alignment,currentColor:t.style.fontColorName,currentFont:t.style.font,currentFontSize:t.style.fontSize,currentPosition:t.style.verticalPosition,currentOpacity:t.style.fontOpacity}},m=function(e){return{selectFontChange:function(t,i){e(n.i(d.i)("custom",r({},t,i)))}}};i.propTypes=f;var y=n.i(c.connect)(h,m)(i)},function(e,t,n){"use strict";function r(e){var t=e.currentColor,n=e.selectColor,r=e.selectOpacity,i=e.currentOpacity;return a.a.createElement(l.a,{currentColor:t,currentOpacity:i,selectColor:n,selectOpacity:r})}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(26)),l=n(134),d="Window",f={selectColor:s.a.func.isRequired,selectOpacity:s.a.func.isRequired,currentColor:s.a.string.isRequired,currentOpacity:s.a.string.isRequired},p=function(e){var t=e.captions;return{currentColor:t.style.windowColorName,currentOpacity:t.style.windowOpacity}},h=function(e){return{selectColor:function(t){e(n.i(c.i)("custom",{windowColorName:t}))},selectOpacity:function(t){e(n.i(c.i)("custom",{windowOpacity:t}))}}};r.propTypes=f;var m=n.i(u.connect)(p,h)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w}),n.d(t,"b",function(){return C});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(303)),f=n(22),p=n(11),h=n.n(p),m=n(16),y=n(19),v=n(18),g=n(40),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=Object.freeze(["budlight"]),w="mature",k={playback:c.a.object,streamMetadata:c.a.object,mutePlayer:c.a.func,contentIsShowing:c.a.func,play:c.a.func,pause:c.a.func,requestAds:c.a.func},E=function(e){return{playback:e.playback,streamMetadata:e.streamMetadata}},S=function(e){return{mutePlayer:function(t,r){e(n.i(m.a)(t,r))},contentIsShowing:function(){e(n.i(y.c)())},play:function(){e(n.i(m.b)())},pause:function(){e(n.i(m.c)())},requestAds:function(t,r){e(n.i(v.d)(t,r))}}},P=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showMatureOverlay:!1},e.handleMatureAccepted=e.handleMatureAccepted.bind(e),e}return a(t,e),b(t,[{key:"componentWillReceiveProps",value:function(){var e=this.props.streamMetadata;!e.channel.mature||this.state.showMatureOverlay||f.a.get(w)||h()(_,e.channel.name)||(this.setState({showMatureOverlay:!0}),this.props.mutePlayer(!0,!0),this.props.pause(),this.props.contentIsShowing())}},{key:"render",value:function(){return this.state.showMatureOverlay?s.a.createElement(d.a,{handleMatureAccepted:this.handleMatureAccepted}):null}},{key:"handleMatureAccepted",value:function(){var e=this.props.playback;f.a.set(w,!0),this.setState({showMatureOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0),e.autoplay&&this.props.requestAds(g.b,v.e)}}]),t}(s.a.Component);P.propTypes=k;var C=n.i(l.connect)(E,S)(P)},function(e,t,n){"use strict";var r={};t.a=r,function(){var e=r;e.key=function(e){try{return sessionStorage.key(e)}catch(e){return void console.warn("Unable to access sessionStorage",e)}},e.getItem=function(e){var t;try{t=sessionStorage.getItem(e)}catch(e){return void console.warn("Unable to access session storage",e)}if(t)try{return JSON.parse(t)}catch(e){return void console.warn("Unable to parse session storage",e)}},e.setItem=function(e,t){var n;try{n=JSON.stringify(t)}catch(e){return void console.warn("Unable to stringify data",e)}try{sessionStorage.setItem(e,n)}catch(e){console.warn("Unable to access session storage",e)}},e.removeItem=function(e){try{sessionStorage.removeItem(e)}catch(e){console.warn("Unable to access session storage",e)}},e.clear=function(){sessionStorage.clear()},Object.defineProperty(e,"length",{get:function(){return sessionStorage.length}})}()},function(e,t,n){"use strict";function r(e,t,n){try{return fetch(e+"?"+u.stringify(Object.assign({},n,{oauth_token:t})),{headers:{"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"},credentials:"include"}).then(function(e){return e.json()})}catch(e){return Project.resolve("")}}function i(e,t,n){return r(s.h+"/api/vods/"+e.substring(1)+"/access_token",t,n)}function a(e,t,n){return r(s.h+"/api/channels/"+e.toLowerCase()+"/access_token",t,n)}t.a=i,t.b=a;var o=n(5),s=(n.n(o),n(6)),u=n(24)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=Array.isArray(t)&&t.length>0;if(!a()(e)||!r)return e;var i=e.indexOf("?"),u=e.slice(0,i),c=i<0?"":e.slice(i+1);if(c.length>0){var l=n.i(o.a)(c);return t.forEach(function(e){return delete l[e]}),u+"?"+n.i(o.b)(l)}return e}t.a=r;var i=n(92),a=n.n(i),o=n(69),s=Object.freeze(["oauth_token"])},function(e,t,n){var r,i;!function(n,a){r=[],void 0!==(i=function(){return n.ns_=a(n.ns_)}.apply(t,r))&&(e.exports=i)}(this,function(e){e=e||{},e.ns_=e;var t={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var r=1;n>r;r++)if(t=arguments[r])for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(parseInt(e));return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},parseBoolean:function(e,t){return t=t||!1,e?"0"!=e&&void 0:t},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,r){t==e&&(n=r)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var r=void 0!==e.__proto__;for(var i in e)e.hasOwnProperty(i)&&(!r||r&&void 0===e.__proto__[i])&&"function"!=typeof e[i]&&t.call(n,e[i],i)}else for(var a=0,o=e.length;o>a;a++)t.call(n,e[a],a)}catch(e){}},regionMatches:function(e,t,n,r,i){if(0>t||0>r||t+i>e.length||r+i>n.length)return!1;for(;--i>=0;)if(e.charAt(t++)!=n.charAt(r++))return!1;return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(void 0!==t&&t&&"undefined"!=typeof console&&console){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){return null==e||"object"!=typeof e?e:function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function r(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function i(e,t){var n=new r;return t&&(n.maxDepth=t),n.deepCopy(e)}function a(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var o=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},r.prototype={constructor:r,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,r=0;n>r;r++)if(t[r][0]===e)return t[r][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<o.length;n++){var r=o[n];if(r.canCopy(e))return this.applyDeepCopier(r,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),++this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},i.DeepCopier=n,i.deepCopiers=o,i.register=function(e){e instanceof n||(e=new n(e)),o.unshift(e)},i.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var r=0;r<t.length;r++)n.push(e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),i.register({canCopy:function(e){return a(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var r=0;r<t.childNodes.length;r++){var i=e(t.childNodes[r]);n.appendChild(i)}}}),{deepCopy:i}}().deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",r=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?r="Opera":-1!=(t=n.indexOf("Android"))?r="Android":-1!=(t=n.indexOf("Chrome"))?r="Chrome":-1!=(t=n.indexOf("Safari"))?r="Safari":-1!=(t=n.indexOf("Firefox"))?r="Firefox":-1!=(t=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(r=n.substring(e,t),r.toLowerCase()==r.toUpperCase()&&(r=navigator.appName)):r="unknown",r},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,r,i=navigator.userAgent||"",a=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(o=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?o=i.substring(t+4):-1!=(t=i.indexOf("Android"))?o=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?o=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(o=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(o=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?o=i.substring(t+8):"Microsoft Internet Explorer"==a?(r=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=r.exec(i)&&(o=parseFloat(RegExp.$1))):"Netscape"==a?(r=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=r.exec(i)&&(o=parseFloat(RegExp.$1))):o=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",o=o.toString(),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion)),o},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;t.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,r){n&&n.setItem(e+t,r)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var r=n.key(t);r.substr(0,e.length)===e&&n.removeItem(r)}}})}}(),r=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},i=function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},a=function(){return{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}}}(),o=function(){return{PLATFORM:"generic",httpGet:r,httpPost:i,Storage:n,IO:a,getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}}}(),s={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};t.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var r=e[n];t[n]=null===r||void 0===r?r:e[n]+""}return t},t.getKeys=function(e,t){var n,r=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(r[r.length]=n);return r},t.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=String(t),t},t.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},t.addNewPlaybackInterval=function(e,n,r,i){var a={};if(!(r>=n))return t.cloneObject(e);if(a.start=n,a.end=r,0==e.length)return e.push(a),t.cloneObject(e);var o;for(o=0;o<e.length;o++)if(a.start>=e[o].start&&a.end<=e[o].end)return t.cloneObject(e);var s,u=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&a.start>=e[s].start||a.start>=e[s].start&&a.start<e[s+1].start){e.splice(s+1,0,a),u=!0;break}u||e.splice(0,0,a);var c=[e[0]];for(o=1;o<e.length;o++)c[c.length-1].end+i<e[o].start?c.push(e[o]):c[c.length-1].end<e[o].end&&(c[c.length-1].end=e[o].end);return t.cloneObject(c)};var u=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),c=function(){return{IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12}}(),l=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),d={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},f=function(){function e(){function e(){var e,t,n=0;for(e=0;e<m.length;e++)n+=Math.abs(m[e].end-m[e].start);B.setUniquePlaybackInterval(n);var r=0;for(e=0;e<m.length;e++)(t=Math.abs(m[e].end-m[e].start))>r&&(r=t);B.setLongestPlaybackInterval(r);var i=0;for(e=0;e<y.length;e++)i+=Math.abs(y[e].end-y[e].start);B.setAssetUniquePlaybackInterval(i);var a=0;for(e=0;e<y.length;e++)(t=Math.abs(y[e].end-y[e].start))>a&&(a=t);B.setAssetLongestPlaybackInterval(a)}var n,r,i,a,o,u,c,l,f,p,h,m,y,v,g,b,_,w,k,E,S,P,C,T,O,x,R,I,L,A,N,j,M,q,D,B=this,U=d.INTERVAL_MERGE_TOLERANCE;t.extend(this,{getHash:function(){return n},setHash:function(e){n=e},setPlaybackIntervalMergeTolerance:function(e){U=e},getPlaybackIntervalMergeTolerance:function(){return U},setLabels:function(e){null!=e&&t.extend(A,e)},getLabels:function(){return A},setLabel:function(e,t){var n={};n[e]=t,B.setLabels(n)},getLabel:function(e){return A[e]},getClipNumber:function(){return parseInt(B.getLabel("ns_st_cn"))},setClipNumber:function(e){B.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(B.getLabel("ns_st_pn"))},createLabels:function(e){var n=e||{};n.ns_st_dbt=String(B.getBufferingTime()-P),P=B.getBufferingTime(),n.ns_st_det=String(B.getElapsedTime()-p),p=B.getElapsedTime(),n.ns_st_dupc=String(B.getUniquePlaybackInterval()-g),g=B.getUniquePlaybackInterval(),parseInt(n.ns_st_dupc)<0&&(n.ns_st_dupc="0");var r;r=t.exists(n.ns_st_upc)?parseInt(n.ns_st_upc):B.getUniquePlaybackInterval(),n.ns_st_iupc=String(r-b),b=r,parseInt(n.ns_st_iupc)<0&&(n.ns_st_iupc="0"),n.ns_st_dupa=String(B.getAssetUniquePlaybackInterval()-_),_=B.getAssetUniquePlaybackInterval(),parseInt(n.ns_st_dupa)<0&&(n.ns_st_dupa="0");var a;a=t.exists(n.ns_st_upa)?parseInt(n.ns_st_upa):B.getAssetUniquePlaybackInterval(),n.ns_st_iupa=String(a-w),w=a,parseInt(n.ns_st_iupa)<0&&(n.ns_st_iupa="0"),n.ns_st_dlpc=String(B.getLongestPlaybackInterval()-k),k=B.getLongestPlaybackInterval(),parseInt(n.ns_st_dlpc)<0&&(n.ns_st_dlpc="0"),n.ns_st_dlpa=String(B.getAssetLongestPlaybackInterval()-E),E=B.getAssetLongestPlaybackInterval(),parseInt(n.ns_st_dlpa)<0&&(n.ns_st_dlpa="0");var o;return o=t.exists(n.ns_st_pt)?parseInt(n.ns_st_pt):B.getPlaybackTime(),n.ns_st_ipt=String(o-c),c=o,n.ns_st_dpt=String(B.getPlaybackTime()-u),u=B.getPlaybackTime(),n.ns_st_dpc=String(B.getPauses()-N),N=B.getPauses(),n.ns_st_dskc=String(B.getSeeks()-j),j=B.getSeeks(),n.ns_st_dbc=String(B.getBuffers()-M),M=B.getBuffers(),n.ns_st_dskt=String(B.getSeekingTime()-O),O=B.getSeekingTime(),n.ns_st_dska=String(B.getSeekingAmount()-I),I=B.getSeekingAmount(),t.extend(n,B.getLabels()),B.setSeekingDirection(0),i&&(n.ns_st_spc=String(q),n.ns_st_apc=String(D)),i||t.parseBoolean(n.ns_st_sc)||(n.ns_st_sc="1"),n},getVideoTrack:function(){return B.getLabel("ns_st_vt")},setVideoTrack:function(e){B.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return B.getLabel("ns_st_at")},setAudioTrack:function(e){B.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return B.getLabel("ns_st_tt")},setSubtitleTrack:function(e){B.setLabel("ns_st_tt",String(e))},getCDN:function(){return B.getLabel("ns_st_cdn")},setCDN:function(e){B.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return m},setClipPlaybackIntervals:function(e){m=e},getAssetPlaybackIntervals:function(){return y},getUniquePlaybackInterval:function(){return parseInt(B.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(B.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){B.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){B.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(B.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){B.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(B.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){B.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){B.setLabel("ns_st_pc",String(B.getPauses()+1))},incrementSeeks:function(){B.setLabel("ns_st_skc",String(B.getSeeks()+1))},incrementPlayCounter:function(){B.setLabel("ns_st_sq",String(B.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(B.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(B.getLabel("ns_st_bt"))},setBufferingTime:function(e){B.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(S)){var t=B.getBufferingTime();t+=e-S,B.setBufferingTime(t),S=NaN}},setPlaybackStartPosition:function(e){v=parseInt(e)},getPlaybackStartPosition:function(){return v},addInterval:function(n){isNaN(v)||isNaN(n)||(m=t.addNewPlaybackInterval(m,v,n,U),y=t.addNewPlaybackInterval(y,v,n,U),e(),v=NaN)},getElapsedTime:function(){return parseInt(B.getLabel("ns_st_et"))},setElapsedTime:function(e){B.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(f)){var t=B.getElapsedTime();t+=e-f,B.setElapsedTime(t),f=NaN}},getElapsedTimestamp:function(){return f},setElapsedTimestamp:function(e){f=e},addPlaybackTime:function(e){if(!isNaN(a)){var t=B.getPlaybackTime();t+=e-a,B.setPlaybackTime(t),a=NaN}},getPlaybackTime:function(){return parseInt(B.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(a)||(l+=e-a),l},setPlaybackTimeOffset:function(e){l=e},getPlaybackTimeOffset:function(){return l},setPlaybackTime:function(e){B.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return a},setPlaybackTimestamp:function(e){a=e},setPreviousPlaybackTime:function(e){u=e},setPreviousPlaybackTimestamp:function(e){o=e},getBufferingTimestamp:function(){return S},setBufferingTimestamp:function(e){S=e},getPauses:function(){return parseInt(B.getLabel("ns_st_pc"))},setPauses:function(e){B.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(B.getLabel("ns_st_skc"))},setSeeks:function(e){B.setLabel("ns_st_skc",String(e))},setSeeking:function(e){C=e},isSeeking:function(){return C},setCollectingSeekingTime:function(e){R=e},isCollectingSeekingTime:function(){return R},setClipStarted:function(e){r=e},isClipStarted:function(){return r},setPlaybackStarted:function(e){i=e},isPlaybackStarted:function(){return i},setSeekingTimestamp:function(e){T=e},getSeekingTimestamp:function(){return T},addSeekingTime:function(e){if(!isNaN(T)){var t=B.getSeekingTime();t+=e-T,B.setSeekingTime(t),T=NaN}},getSeekingTime:function(){return parseInt(B.getLabel("ns_st_skt"))},setSeekingTime:function(e){B.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){L=e},getSeekingTimeBeforeEnd:function(){return L},setSeekStartPosition:function(e){x=e},getSeekStartPosition:function(){return x},setSeekingAmount:function(e){B.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(B.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t=B.getSeekingAmount();t+=Math.abs(e-x),B.setSeekingAmount(t);var n;x==e?n=0:x>e?n=-1:e>x&&(n=1),B.setSeekingDirection(n),x=0},getSeekingDirection:function(){return parseInt(B.getLabel("ns_st_skd"))},setSeekingDirection:function(e){B.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){A.ns_st_pt="0",u=0,c=0,A.ns_st_bt="0",P=0,A.ns_st_bc="0",M=0,A.ns_st_pc="0",N=0,A.ns_st_sq="0",A.ns_st_upa="0",_=0,w=0,A.ns_st_et="0",p=0,A.ns_st_lpa="0",E=0,A.ns_st_skt="0",O=0,A.ns_st_ska="0",I=0,A.ns_st_skc="0",j=0},incrementSegmentPlaybackCounter:function(){q++},incrementClipLoadCounter:function(){B.setLabel("ns_st_sc",String(B.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){D++},setPreviousUniquePlaybackInterval:function(e){g=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){b=e},setPreviousLongestPlaybackInterval:function(e){k=e},resetAssetPlaybackCounters:function(){y=[],B.setAssetUniquePlaybackInterval(0),_=0,w=0,B.setAssetLongestPlaybackInterval(0),E=0},setSegmentPlaybackCounter:function(e){q=e},setClipLoadCounter:function(e){B.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){D=e},setLowestPartNumberPlayed:function(e){h=e},getSegmentPlaybackCounter:function(){return q},getClipLoadCounter:function(){return parseInt(B.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return D},getLowestPartNumberPlayed:function(){return h},getBuffers:function(){return parseInt(B.getLabel("ns_st_bc"))},incrementBufferCount:function(){B.setLabel("ns_st_bc",String(B.getBuffers()+1))},getPreviousBufferingTime:function(){return P}}),function(){A={},A.ns_st_pt="0",A.ns_st_bt="0",A.ns_st_bc="0",A.ns_st_pc="0",A.ns_st_sq="0",A.ns_st_cl="0",A.ns_st_pn="1",A.ns_st_tp="1",A.ns_st_skc="0",A.ns_st_et="0",A.ns_st_cn="1",A.ns_st_sc="0",A.ns_st_ska="0",A.ns_st_skd="0",A.ns_st_skt="0",A.ns_st_upc="0",A.ns_st_lpc="0",A.ns_st_upa="0",A.ns_st_lpa="0",A.ns_st_ub="0",A.ns_st_br="0",i=!1,r=!1,n=s.UNKNOWN_VALUE,a=NaN,l=0,u=0,o=NaN,f=NaN,h=0,p=0,c=0,v=NaN,m=[],y=[],g=0,b=0,_=0,w=0,k=0,E=0,S=NaN,P=0,C=!1,T=NaN,R=!1,x=0,L=0,O=0,I=0,N=0,j=0,M=0,q=0,D=0}()}return e.resetClip=function(e,t,n){for(var r=e.getLabels(),i={},a=0;n&&a<n.length;++a)r.hasOwnProperty(n[a])&&(i[n[a]]=r[n[a]]);t.setLabels(i),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),p=function(){function e(){var e,n,r,i,a,o,s,u,c,l=this;t.extend(this,{resetClip:function(){var t=e;e=new f,f.resetClip(t,e)},hashExists:function(e){return null!=o[e]},storeHash:function(e){o[e]={}},removeHash:function(e){delete o[e]},storeClipPlaybackCounters:function(){for(var n in o)if(o.hasOwnProperty(n)&&o[n].clipNumber===e.getClipNumber()){t.extend(o[n],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return o[e]},getClipNumber:function(e){return o[e].clipNumber},getMaxClipNumber:function(){return s},storeClipNumber:function(e,t){o[e].clipNumber=t,t>s&&(s=t)},setLabels:function(e){null!=e&&t.extend(i,e)},getLabels:function(){return i},setLabel:function(e,t){var n={};n[e]=t,l.setLabels(n)},getLabel:function(e){return i[e]},getClip:function(){return e},createLabels:function(n){var r=n||{};return u||(r.ns_st_pb=null!=r.ns_st_pb?r.ns_st_pb:"1"),t.extend(r,l.getLabels()),e.isPlaybackStarted()&&(r.ns_st_ppc=String(c)),r},incrementPlayCounter:function(){l.setLabel("ns_st_sp",String(parseInt(l.getLabel("ns_st_sp"))+1))},incrementPauses:function(){l.setLabel("ns_st_pp",String(l.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(r)){var t=l.getPlaybackTime();t+=e-r,l.setPlaybackTime(t),r=NaN}},addBufferingTime:function(e){if(!isNaN(n)){var t=l.getBufferingTime();t+=e-n,l.setBufferingTime(t),n=NaN}},getBufferingTime:function(){return parseInt(l.getLabel("ns_st_bp"))},setBufferingTime:function(e){l.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(l.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){l.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){r=e},getPlaybackTimestamp:function(){return r},getPauses:function(){return parseInt(l.getLabel("ns_st_pp"))},setPauses:function(e){l.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return a},setPlaylistStarted:function(e){a=e},getPlaybackCounter:function(){return c},incrementPlaybackCounter:function(){c++},setFirstEventSent:function(e){u=e}}),function(){e=new f,i={},i.ns_st_bp="0",i.ns_st_pa="0",i.ns_st_pp="0",i.ns_st_sp="1",i.ns_st_id=String(+new Date),n=NaN,r=NaN,o={},s=0,a=!1,u=!1,c=0}()}return e.resetPlaylist=function(t,n,r){for(var i=t.getClip(),a=t.getLabels(),o={},s=0;r&&s<r.length;s++)a.hasOwnProperty(r[s])&&(o[r[s]]=a[r[s]]);n=new e,n.setLabels(o),f.resetClip(i,n.getClip(),r)},e}(),h=function(){return function(e){function n(n){i=t.extend({},n);var r=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var a=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher){var o=e.getAppCore().getMeasurementDispatcher();o.send(a.HIDDEN,n,r)}else{var s=e.getSSECore().getExports().am,u=s.newApplicationMeasurement(e.getAppCore(),a.HIDDEN,n,r);e.getAppCore().getQueue().offer(u)}}}else r&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(r,n))}var r,i,a=this;t.extend(this,{newEvent:function(e){n(e.eventLabels),e.eventType!=u.HEARTBEAT&&a.incrementEventCounter()},getEventCounter:function(){return r},incrementEventCounter:function(){r++},setEventCounter:function(e){r=e},getMeasurementSnapshot:function(){return i}}),function(){r=1}()}}(),m=function(){return function(e){function n(){o++;var n={},r=t.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(r-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(r-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(r-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(r-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(r-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(r-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(r-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(r-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(r-e.getPlaylist().getClip().getElapsedTimestamp());var i=t.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),l=t.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());i=t.addNewPlaybackInterval(i,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),l=t.addNewPlaybackInterval(l,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var d,f,p=0;for(d=0;d<i.length;d++)p+=Math.abs(i[d].end-i[d].start);n.ns_st_upc=String(p),n.ns_st_dupc=String(p-e.getPlaylist().getClip().getUniquePlaybackInterval());var h=0;for(d=0;d<i.length;d++)(f=Math.abs(i[d].end-i[d].start))>h&&(h=f);n.ns_st_lpc=String(h),n.ns_st_dlpc=String(h-e.getPlaylist().getClip().getLongestPlaybackInterval());var m=0;for(d=0;d<l.length;d++)m+=Math.abs(l[d].end-l[d].start);n.ns_st_upa=String(m),n.ns_st_dupa=String(m-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var y=0;for(d=0;d<l.length;d++)(f=Math.abs(l[d].end-l[d].start))>y&&(y=f);n.ns_st_lpa=String(y),n.ns_st_dlpa=String(y-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount());var v=e.getSSECore().createLabels(u.HEARTBEAT,n,r);e.getEventManager().newEvent(v),a=0,s.resume()}function r(){null!=i&&(e.getSSECore().getPlatformAPI().clearTimeout(i),i=null)}var i,a,o,s=this,l=d.DEFAULT_HEARTBEAT_INTERVAL;t.extend(this,{getCount:function(){return o},setIntervals:function(e){l=e},getInterval:function(e){var t=0;if(null!=l)for(var n=0;n<l.length;n++){var r=l[n],i=r.playingtime;if(!i||i>e){t=r.interval;break}}return t},resume:function(){r();var t=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(t>0){var o=a>0?a:t;i=e.getSSECore().getPlatformAPI().setTimeout(n,o)}a=0},pause:function(){r();var t=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));a=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t}}),function(){a=0,o=0}()}}(),y=function(){return function(e){function n(){var n={},r=t.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(r)),e.getPlaylist().addPlaybackTime(r),e.getPlaylist().setPlaybackTimestamp(r),e.getPlaylist().getClip().addPlaybackTime(r),e.getPlaylist().getClip().setPlaybackTimestamp(r),e.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(r),e.getPlaylist().setBufferingTimestamp(r),e.getPlaylist().getClip().addBufferingTime(r),e.getPlaylist().getClip().setBufferingTimestamp(r)),e.getPlaylist().getClip().addElapsedTime(r),e.getPlaylist().getClip().setElapsedTimestamp(r),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po));var i=e.getSSECore().createLabels(u.KEEPALIVE,n,r);e.getEventManager().newEvent(i),a.resume()}function r(){null!=i&&(e.getSSECore().getPlatformAPI().clearTimeout(i),i=null)}var i,a=this,o=d.DEFAULT_KEEP_ALIVE_INTERVAL;t.extend(a,{resume:function(){r(),i=e.getSSECore().getPlatformAPI().setTimeout(n,o)},pause:function(){r()},setInterval:function(e){o=e},getInterval:function(){return o}})}}(),v=function(){return function(e){var n,r,i,a=this;t.extend(a,{eventTypeToState:function(e){if(i==c.IDLE){if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(i==c.PLAYBACK_NOT_STARTED){if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK;if(e==u.END||e==u.AD_SKIP)return c.IDLE}else if(i==c.PLAYING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.BUFFER)return c.BUFFERING_DURING_PLAYBACK;if(e==u.PAUSE)return c.PAUSED;if(e==u.SEEK_START)return c.SEEKING_DURING_PLAYBACK}else if(i==c.PAUSED){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.BUFFER)return c.BUFFERING_DURING_PAUSE;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_DURING_PAUSE}else if(i==c.BUFFERING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_BEFORE_PLAYBACK}else if(i==c.BUFFERING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY||e==u.BUFFER_STOP)return c.PLAYING;if(e==u.PAUSE_ON_BUFFERING)return c.PAUSED_DURING_BUFFERING;if(e==u.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return c.PAUSED}else if(i==c.BUFFERING_DURING_SEEKING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.BUFFER_STOP)return c.SEEKING_DURING_PLAYBACK;if(e==u.PAUSE)return c.PAUSED}else if(i==c.BUFFERING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.SEEK_START)return c.SEEKING_DURING_PAUSE;if(e==u.BUFFER_STOP||e==u.PAUSE)return c.PAUSED}else if(i==c.SEEKING_BEFORE_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PAUSE)return c.PLAYBACK_NOT_STARTED;if(e==u.PLAY)return c.PLAYING;if(e==u.BUFFER)return c.BUFFERING_BEFORE_PLAYBACK}else if(i==c.SEEKING_DURING_PLAYBACK){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE)return c.PAUSED;if(e==u.BUFFER)return c.BUFFERING_DURING_SEEKING}else if(i==c.SEEKING_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PAUSED}else if(i==c.SEEKING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.PLAY)return c.PLAYING;if(e==u.PAUSE||e==u.BUFFER_STOP)return c.PAUSED;if(e==u.BUFFER)return c.BUFFERING_DURING_PAUSE}else if(i==c.PAUSED_DURING_BUFFERING){if(e==u.END||e==u.AD_SKIP)return c.IDLE;if(e==u.SEEK_START)return c.SEEKING_DURING_BUFFERING;if(e==u.PAUSE)return c.PAUSED;if(e==u.PLAY||e==u.BUFFER_STOP)return c.PLAYING}return null},getCurrentState:function(){return i},newEvent:function(e,t){var o=a.eventTypeToState(e);i!=o&&(r=i,i=o,n=t)},getPreviousState:function(){return r},getLastStateChangeTimestamp:function(){return n}}),function(){i=c.IDLE,r=null,n=NaN}()}}(),g=function(){return function(e){var n=this;t.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(t,n){e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),b=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),_=function(){return function(e){var n=this;t.extend(n,{onEndAndSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),w=function(){return function(e){var n=this;t.extend(n,{onPauseOnBuffering:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t),e.getPlaylist().getClip().setPlaybackTimeOffset(r)},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onEndOrAdSkip:function(n,r){var i=parseInt(r.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPlay:function(t,n){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)}})}}(),k=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),E=function(){return function(e){var n=this;t.extend(n,{onBuffer:function(t,n){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),S=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),P=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),C=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(t):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),T=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){var i=parseInt(r.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(t,n){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(t,n),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(u.PAUSE,n,t);e.getEventManager().newEvent(i)}})}}(),O=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),x=function(){return function(e){var n=this;t.extend(n,{onPause:function(t,n){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})}}(),R=function(){return function(e){var n=this;t.extend(n,{onEndOrAdSkip:function(n,r){parseInt(r.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(u.END,r,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),r.hasOwnProperty("ns_st_pe")&&t.parseBoolean(r.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(u.PLAY,n,t);e.getEventManager().newEvent(i)}})}}(),I=function(){return function(){function e(e){var t=i.getStateMachine().getCurrentState();if(t==c.IDLE||t==c.PLAYBACK_NOT_STARTED||t==c.BUFFERING_BEFORE_PLAYBACK||t==c.SEEKING_BEFORE_PLAYBACK){if(e==u.PLAY)return!0}else if(t==c.PLAYING){if(e==u.END||e==u.AD_SKIP||e==u.SEEK_START||e==u.PAUSE)return!0}else if(t==c.PAUSED||t==c.BUFFERING_DURING_PAUSE||t==c.SEEKING_DURING_PLAYBACK||t==c.SEEKING_DURING_BUFFERING||t==c.SEEKING_DURING_PAUSE){if(e==u.END||e==u.AD_SKIP||e==u.PLAY)return!0}else if(t==c.BUFFERING_DURING_PLAYBACK){if(e==u.PAUSE_ON_BUFFERING||e==u.END||e==u.AD_SKIP||e==u.SEEK_START||e==u.PAUSE||e==u.PLAY)return!0}else if(t==c.BUFFERING_DURING_SEEKING){if(e==u.END||e==u.AD_SKIP||e==u.PAUSE||e==u.PLAY)return!0}else if(t==c.PAUSED_DURING_BUFFERING&&(e==u.END||e==u.AD_SKIP||e==u.BUFFER_STOP||e==u.PLAY))return!0;return!1}function n(t,n,r){var o=i.getStateMachine().getCurrentState();t==u.AD_SKIP&&!r.hasOwnProperty("ns_st_ui")&&e(t)?r.ns_st_ui="skip":t==u.SEEK_START&&!r.hasOwnProperty("ns_st_ui")&&e(t)&&(r.ns_st_ui="seek"),o==c.IDLE?t==u.BUFFER?a.onBuffer(n,r):t==u.SEEK_START?a.onSeekStart(n,r):t==u.PLAY&&a.onPlay(n,r):o==c.PLAYBACK_NOT_STARTED?t==u.END||t==u.AD_SKIP?I.onEndOrAdSkip(n,r):t==u.SEEK_START?I.onSeekStart(n,r):t==u.PLAY?I.onPlay(n,r):t==u.BUFFER&&V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==c.PLAYING?t==u.END||t==u.AD_SKIP?A.onEndOrAdSkip(n,r):t==u.BUFFER?A.onBuffer(n,r):t==u.SEEK_START?A.onSeekStart(n,r):t==u.PAUSE&&A.onPause(n,r):o==c.PAUSED?t==u.END||t==u.AD_SKIP?f.onEndOrAdSkip(n,r):t==u.PLAY?f.onPlay(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.SEEK_START&&V.onSeekStartWhenPausedOrBufferingDuringPause(n,r):o==c.BUFFERING_BEFORE_PLAYBACK?t==u.END||t==u.AD_SKIP?N.onEndOrAdSkip(n,r):t==u.BUFFER_STOP?N.onBufferStop(n,r):t==u.SEEK_START?N.onSeekStart(n,r):t==u.PAUSE?N.onPause(n,r):t==u.PLAY&&N.onPlay(n,r):o==c.BUFFERING_DURING_PLAYBACK?t==u.PAUSE_ON_BUFFERING?j.onPauseOnBuffering(n,r):t==u.BUFFER_STOP?j.onBufferStop(n,r):t==u.END||t==u.AD_SKIP?j.onEndOrAdSkip(n,r):t==u.SEEK_START?j.onSeekStart(n,r):t==u.PAUSE?j.onPause(n,r):t==u.PLAY&&j.onPlay(n,r):o==c.BUFFERING_DURING_SEEKING?t==u.END||t==u.AD_SKIP?M.onEndOrAdSkip(n,r):t==u.PAUSE?M.onPause(n,r):t==u.PLAY?M.onPlay(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==c.BUFFERING_DURING_PAUSE?t==u.END||t==u.AD_SKIP?q.onEndAndSkip(n,r):t==u.PAUSE?q.onPause(n,r):t==u.PLAY?q.onPlay(n,r):t==u.SEEK_START?V.onSeekStartWhenPausedOrBufferingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==c.SEEKING_BEFORE_PLAYBACK?t==u.END||t==u.AD_SKIP?B.onEndOrAdSkip(n,r):t==u.PAUSE?B.onPause(n,r):t==u.PLAY?B.onPlay(n,r):t==u.BUFFER&&V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==c.SEEKING_DURING_PLAYBACK?t==u.END||t==u.AD_SKIP?F.onEndOrAdSkip(n,r):t==u.PLAY?F.onPlay(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PAUSE&&V.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):o==c.SEEKING_DURING_BUFFERING?t==u.PAUSE?U.onPause(n,r):t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PLAY?V.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.END||t==u.AD_SKIP?V.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):o==c.PAUSED_DURING_BUFFERING?t==u.END||t==u.AD_SKIP?D.onEndOrAdSkip(n,r):t==u.BUFFER_STOP?D.onBufferStop(n,r):t==u.SEEK_START?D.onSeekStart(n,r):t==u.PAUSE?D.onPause(n,r):t==u.PLAY&&D.onPlay(n,r):o==c.SEEKING_DURING_PAUSE&&(t==u.BUFFER?V.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==u.PLAY?V.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.PAUSE?V.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):t==u.END||t==u.AD_SKIP?V.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==u.BUFFER_STOP&&V.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r)),e(t)&&i.getPlaylist().setFirstEventSent(!0)}function r(e,n){for(var r,i=re.encodeURIComponent||escape,a=[],o=d.LABELS_ORDER,s=e.split("?"),u=s[0],c=s[1],l=c.split("&"),f=0,p=l.length;p>f;f++){var h=l[f].split("="),m=unescape(h[0]),y=unescape(h[1]);m&&(n[m]=y)}for(var v={},g=0,b=o.length;b>g;g++){var _=o[g];if(n.hasOwnProperty(_)){var w=n[_];void 0!==w&&null!=w&&(v[_]=!0,a.push(i(_)+"="+i(n[_])))}}for(var k in n)if(n.hasOwnProperty(k)){if(v[k])continue;var E=n[k];void 0!==E&&null!=E&&a.push(i(k)+"="+i(n[k]))}r=u+"?"+a.join("&"),r=r+(r.indexOf("&c8=")<0?"&c8="+i(ie.title):"")+(r.indexOf("&c7=")<0?"&c7="+i(ie.URL):"")+(r.indexOf("&c9=")<0?"&c9="+i(ie.referrer):"");var S=t.browserAcceptsLargeURLs()?d.URL_LENGTH_LIMIT:d.RESTRICTED_URL_LENGTH_LIMIT;if(r.length>S&&r.indexOf("&")>0){var P=r.substr(0,S-8).lastIndexOf("&");r=(r.substring(0,P)+"&ns_cut="+i(r.substring(P+1))).substr(0,S)}return r}var i,a,f,I,A,N,j,M,q,D,B,U,F,V,z,H,G,W,K,Q,Y,$,X,Z,J=this,ee={},te=d.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,ne=d.THROTTLING_DELAY;t.extend(J,{createLabels:function(e,n,r){var a={};if("undefined"!=typeof document){var o=document;a.c7=o.URL,a.c8=o.title,a.c9=o.referrer}return null!=n&&t.extend(a,n),a.ns_ts=null!=a.ns_ts?a.ns_ts:String(+new Date),a.ns_st_ev=null!=a.ns_st_ev?a.ns_st_ev:u.toString(e),a.ns_st_mp=null!=a.ns_st_mp?a.ns_st_mp:d.DEFAULT_PLAYERNAME,a.ns_st_mv=null!=a.ns_st_mv?a.ns_st_mv:d.STREAMSENSE_VERSION,a.ns_st_ub=null!=a.ns_st_ub?a.ns_st_ub:"0",a.ns_st_br=null!=a.ns_st_br?a.ns_st_br:"0",a.ns_st_pn=null!=a.ns_st_pn?a.ns_st_pn:"1",a.ns_st_tp=null!=a.ns_st_tp?a.ns_st_tp:"1",a.ns_st_it=null!=a.ns_st_it?a.ns_st_it:l.toString(l.SINGLE_CLIP),a.ns_st_sv=null!=a.ns_st_sv?a.ns_st_sv:d.STREAMSENSE_VERSION,a.ns_st_smv=null!=a.ns_st_smv?a.ns_st_smv:d.MODEL_VERSION,a.ns_type=null!=a.ns_type?a.ns_type:"hidden",a.ns_st_ec=null!=a.ns_st_ec?a.ns_st_ec:String(i.getEventManager().getEventCounter()),a.ns_st_po=null!=a.ns_st_po?a.ns_st_po:String(i.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(r)),a.ns_st_ki=null!=a.ns_st_ki?a.ns_st_ki:String(i.getKeepAlive().getInterval()),i.getPlaylist().createLabels(a),i.getPlaylist().getClip().createLabels(a),t.extend(a,J.getLabels()),t.extend(a,n),{eventType:e,eventLabels:a}},newEvent:function(e,t,r,a){J.stopDelayedTransitionTimer();var o=i.getStateMachine().getCurrentState(),s=i.getStateMachine().eventTypeToState(e);if(null!=s&&s!=o)if(!J.isThrottlingEnabled()||o!=c.PLAYING&&o!=c.PAUSED||s!=c.PLAYING&&s!=c.PAUSED||a){r.ns_st_po||(i.getStateMachine().getCurrentState()==c.PLAYING&&e==u.BUFFER||i.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK&&e==u.BUFFER_STOP?r.ns_st_po=String(i.getPlaylist().getClip().getPlaybackTimeOffset()+(t-i.getPlaylist().getClip().getPlaybackTimestamp())):r.ns_st_po=String(i.getPlaylist().getClip().getExpectedPlaybackPosition(t))),n(e,t,r);var l=0;isNaN(i.getStateMachine().getLastStateChangeTimestamp())||(l=t-i.getStateMachine().getLastStateChangeTimestamp()),i.getStateMachine().newEvent(e,t);for(var d=0,f=$.length;f>d;d++)$[d](o,s,r,l)}else Y=i.getPlatformAPI().setTimeout(function(e,n,r){return function(){J.newEvent(e,t,r,!0)}}(e,0,r),ne)},newPseudoEvent:function(e,t,n){if(e!=u.LOAD&&e!=u.START||i.getStateMachine().getCurrentState()==c.IDLE){e!=u.ERROR||n.ns_st_er||(n.ns_st_er=s.UNKNOWN_VALUE),i.getStateMachine().getCurrentState()!=c.IDLE&&i.getStateMachine().getCurrentState()!=c.PLAYBACK_NOT_STARTED&&i.getStateMachine().getCurrentState()!=c.SEEKING_BEFORE_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&(i.getPlaylist().getClip().addElapsedTime(t),i.getPlaylist().getClip().setElapsedTimestamp(t));var r,a,o,l=!0,d=!1;switch(e){case u.BIT_RATE:r="ns_st_br",a="ns_st_pbr",d=!0;break;case u.PLAYBACK_RATE:r="ns_st_rt",a="ns_st_prt",d=!0;break;case u.VOLUME:r="ns_st_vo",a="ns_st_pvo",d=!0;break;case u.WINDOW_STATE:r="ns_st_ws",a="ns_st_pws",d=!0;break;case u.AUDIO:r="ns_st_at",a="ns_st_pat",d=!1;break;case u.VIDEO:r="ns_st_vt",a="ns_st_pvt",d=!1;break;case u.SUBS:r="ns_st_tt",a="ns_st_ptt",d=!1;break;case u.CDN:r="ns_st_cdn",a="ns_st_pcdn",d=!1;break;default:l=!1}if(l&&n.hasOwnProperty(r)&&(d?(J.getLabels().hasOwnProperty(r)&&(o=J.getLabels()[r],n[a]=o),J.setLabel(r,n[r])):(i.getPlaylist().getClip().getLabels().hasOwnProperty(r)&&(o=i.getPlaylist().getClip().getLabels()[r],n[a]=o),i.getPlaylist().getClip().setLabel(r,n[r]))),!l||i.getStateMachine().getCurrentState()==c.PLAYING||i.getStateMachine().getCurrentState()==c.BUFFERING_DURING_PLAYBACK){n.ns_st_po||(n.ns_st_po=String(i.getPlaylist().getClip().getExpectedPlaybackPosition(t))),i.getStateMachine().getCurrentState()!=c.PLAYING&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK||(i.getPlaylist().addPlaybackTime(t),i.getPlaylist().setPlaybackTimestamp(t),i.getPlaylist().getClip().addPlaybackTime(t),i.getPlaylist().getClip().setPlaybackTimestamp(t),i.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),i.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po))),i.getStateMachine().getCurrentState()!=c.BUFFERING_BEFORE_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PAUSE&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_PLAYBACK&&i.getStateMachine().getCurrentState()!=c.BUFFERING_DURING_SEEKING||(i.getPlaylist().addBufferingTime(t),i.getPlaylist().setBufferingTimestamp(t),i.getPlaylist().getClip().addBufferingTime(t),i.getPlaylist().getClip().setBufferingTimestamp(t));var f=J.createLabels(e,n,t);i.getEventManager().newEvent(f)}}},getState:function(){return i.getStateMachine().getCurrentState()},addListener:function(e){$.push(e)},removeListener:function(e){$.splice(t.indexOf(e,$),1)},getLabel:function(e){return X[e]},getLabels:function(){return X},setLabel:function(e,t){null==t?delete X[e]:X[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&J.setLabel(t,e[t])},getPlatformAPI:function(){return i.getAppCore()?i.getAppCore().getPlatformAPI():o},getExports:function(){return ee},isProperlyInitialized:function(){var e=i.getAppCore().getAppContext(),t=i.getAppCore().getSalt(),n=i.getAppCore().getPixelURL();return e&&n&&t},setImplementationType:function(e){i.getStateMachine().getCurrentState()!=c.IDLE||e!=l.SINGLE_CLIP&&e!=l.SEGMENTED&&e!=l.REDUCED||i.getPlaylist().setLabel("ns_st_it",l.toString(e))},setThrottlingDelay:function(e){ne=e},getThrottlingDelay:function(){return ne},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(e){Q=e},isLoadingTimeSent:function(){return z},setLoadingTimeSent:function(e){z=e},getLoadTimeOffset:function(){return H},setLoadTimeOffset:function(e){H=e},getInitTimestamp:function(){return G},setPauseOnBufferingInterval:function(e){te=e},getPauseOnBufferingInterval:function(){return te},isPauseOnBufferingEnabled:function(){return W},setPauseOnBufferingEnabled:function(e){W=e},startPausedOnBufferingTimer:function(e,n){J.stopPausedOnBufferingTimer(),K=J.getPlatformAPI().setTimeout(function(){var r={},i=t.fixEventTime(r),a=parseInt(n.ns_st_po);r.ns_st_po=String(a+i-e),J.newEvent(u.PAUSE_ON_BUFFERING,i,r)},te)},stopPausedOnBufferingTimer:function(){null!=K&&(J.getPlatformAPI().clearTimeout(K),K=null)},stopDelayedTransitionTimer:function(){Y&&(J.getPlatformAPI().clearTimeout(Y),Y=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var r=e.substring(n+1).split("&"),i=0,a=r.length;a>i;i++){var o=r[i],s=o.split("=");2==s.length?J.setLabel(s[0],t(s[1])):1==s.length&&J.setLabel(d.PAGE_NAME_LABEL,t(s[0]))}e=e.substring(0,n+1)}}else e+="?";return Z=e},getPixelURL:function(){return Z||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?Z=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?Z=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return i},resetPlaylist:function(e){var t=i.getPlaylist();i.setPlaylist(new p),p.resetPlaylist(t,i.getPlaylist(),e)},resetHeartbeat:function(){i.getHeartbeat().pause(),i.setHeartbeat(new m(i))},resetKeepAlive:function(){i.getKeepAlive().pause(),i.setKeepAlive(new y(i))}});var re,ie;t.isBrowser()?(re=window,ie=document):(re={},ie={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.extend(this,{prepareUrl:r}),function(){i=new L(J),t.getNamespace().comScore?(ee=t.getNamespace().comScore.exports,i.setAppCore(ee.c())):i.setAppCore(null),i.setKeepAlive(new y(i)),i.setHeartbeat(new m(i)),i.setEventManager(new h(i)),i.setStateMachine(new v),i.setPlaylist(new p),X={},a=new E(i),f=new S(i),I=new C(i),A=new T(i),N=new b(i),j=new w(i),M=new k(i),q=new _(i),D=new P(i),B=new O(i),U=new x(i),F=new R(i),V=new g(i),z=!1,H=0,G=+new Date,W=!0,Q=!1,$=[]}()}}(),L=function(){return function(e){var n,r,i,a,o,s,u=this;t.extend(u,{getAppCore:function(){return n},getSSECore:function(){return e},getEventManager:function(){return r},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return o},getPlaylist:function(){return s},setAppCore:function(e){n=e},setKeepAlive:function(e){o=e},setHeartbeat:function(e){a=e},setEventManager:function(e){r=e},setStateMachine:function(e){i=e},setPlaylist:function(e){s=e}})}}(),A=function(){return function(e,n){function r(e,t){s.notify(u.CUSTOM,e,t)}function i(){a&&o.getSseSM().getStateMachine().getCurrentState()!=c.IDLE&&s.end()}var a,o,s=this,l=d.STANDARD_METADATA_LABELS;t.extend(this,{isProperlyInitialized:function(){return o.isProperlyInitialized()},reset:function(e){var t=o;t.getSseSM().getKeepAlive().pause(),t.getSseSM().getHeartbeat().pause(),o=new I,p.resetPlaylist(t.getSseSM().getPlaylist(),o.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){o.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return o.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){o.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return o.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){o.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,t){s.notify(u.PLAY,e,t)},pause:function(e,t){s.notify(u.PAUSE,e,t)},end:function(e,t){s.notify(u.END,e,t)},bufferStart:function(e,t){s.notify(u.BUFFER,e,t)},bufferStop:function(e,t){s.notify(u.BUFFER_STOP,e,t)},load:function(e,t){s.notify(u.LOAD,e,t)},start:function(e,t){s.notify(u.START,e,t)},seekStart:function(e,t){s.notify(u.SEEK_START,e,t)},skipAd:function(e,t){s.notify(u.AD_SKIP,e,t)},callToAction:function(e,t){s.notify(u.CTA,e,t)},error:function(e,t){s.notify(u.ERROR,e,t)},transferPlayback:function(e,t){s.notify(u.TRANSFER,e,t)},drmFail:function(e,t){s.notify(u.DRM_FAILED,e,t)},drmApprove:function(e,t){s.notify(u.DRM_APPROVED,e,t)},drmDeny:function(e,t){s.notify(u.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_br=String(e),s.notify(u.BIT_RATE,r,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_rt=String(e),s.notify(u.PLAYBACK_RATE,r,t)}},changeVolume:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vo=String(e),s.notify(u.VOLUME,r,t)}},changeWindowState:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_ws=String(e),s.notify(u.WINDOW_STATE,r,t)}},changeAudio:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_at=String(e),s.notify(u.AUDIO,r,t)}},changeVideo:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vt=String(e),s.notify(u.VIDEO,r,t)}},changeSubtitle:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_tt=String(e),s.notify(u.SUBS,r,t)}},changeCDN:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_cdn=String(e),s.notify(u.CDN,r,t)}},notify:function(e){var n,r;if(n="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},r="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,u.toString(e)){n=t.jsonObjectToStringDictionary(n);var i=t.fixEventTime(n);n.ns_st_po||isNaN(r)||(n.ns_st_po=t.getInteger(r,0).toString()),n.ns_st_po&&o.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(n.ns_st_po)),e==u.PLAY||e==u.PAUSE||e==u.BUFFER||e==u.END||e==u.SEEK_START||e==u.AD_SKIP||e==u.BUFFER_STOP?o.newEvent(e,i,n):o.newPseudoEvent(e,i,n)}},getLabels:function(){return o.getLabels()},getState:function(){return o.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){o.setLabels(e)},getLabel:function(e){return o.getLabel(e)},setLabel:function(e,t){o.setLabel(e,t)},getLoadTimeOffset:function(){return o.getLoadTimeOffset()},setLoadTimeOffset:function(e){o.setLoadTimeOffset(e)},setPixelURL:function(e){return o.setPixelURL(e)},getPixelURL:function(){return o.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){o.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return o.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){o.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return o.isThrottlingEnabled()},setThrottlingEnabled:function(e){o.setThrottlingEnabled(e)},setThrottlingDelay:function(e){o.setThrottlingDelay(e)},getThrottlingDelay:function(){return o.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){o.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return o.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,r){if(void 0===r&&(r=!0),e=t.jsonObjectToStringDictionary(e),r&&o.getSseSM().getStateMachine().getCurrentState()!==c.IDLE&&s.end(),o.getSseSM().getStateMachine().getCurrentState()==c.IDLE){var i="",a=0;if(null!=e.ns_st_cn)i=String(e.ns_st_cn);else for(var u=0;u<l.length;u++)e[l[u]]&&(i+=l[u]+":"+e[l[u]]+";");var d=o.getSseSM().getPlaylist(),f=d.getClip();f.isClipStarted()?(d.hashExists(f.getHash())||(d.storeHash(f.getHash()),d.storeClipNumber(f.getHash(),f.getClipNumber())),d.storeClipPlaybackCounters(),a=d.hashExists(i)?d.getClipNumber(i):t.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):d.getMaxClipNumber()+1):a=d.hashExists(i)?d.getClipNumber(i):f.getClipNumber(),d.resetClip(),f=d.getClip(),f.setHash(i),f.setClipNumber(a),f.setLabels(e);var p=d.getStoredClipRegisters(i);return p&&(f.setClipStarted(!0),f.setSegmentPlaybackCounter(p.segmentPlaybackCounter),f.setClipLoadCounter(p.clipLoadCounter),f.setAssetPlaybackCounter(p.assetPlaybackCounter),f.setLowestPartNumberPlayed(p.lowestPartNumberPlayed),f.setSeeking(p.seeking),f.setSeekingTimeBeforeEnd(p.seekingTimeBeforeEnd),f.setSeekStartPosition(p.seekingStartPosition),f.setClipPlaybackIntervals(p.clipPlaybackIntervals),f.setUniquePlaybackInterval(p.uniquePlaybackInterval),f.setLongestPlaybackInterval(p.longestPlaybackInterval),f.setVideoTrack(p.videoTrack),f.setAudioTrack(p.audioTrack),f.setSubtitleTrack(p.subtitleTrack),f.setCDN(p.cdn),f.setPreviousUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousEventIndependentUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousLongestPlaybackInterval(p.longestPlaybackInterval)),f.incrementClipLoadCounter(),f.isClipStarted()&&n&&(d.incrementPlayCounter(),d.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,n){return void 0===n&&(n=!0),e=t.jsonObjectToStringDictionary(e),n&&o.getSseSM().getStateMachine().getCurrentState()!==c.IDLE&&s.end(),o.getSseSM().getStateMachine().getCurrentState()==c.IDLE&&(o.getSseSM().getPlaylist().isPlaylistStarted()&&o.resetPlaylist(),o.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return d.STREAMSENSE_VERSION},addListener:function(e){o.addListener(e)},removeListener:function(e){o.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),o.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return o.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(o.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(o.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){a=e},isExitEndEventEnabled:function(){return a},getPlatformAPI:function(){return o.getPlatformAPI()}}),t.extend(this,{customNotify:r,viewNotify:function(e,t){(e=e||s.getPixelURL())&&viewNotify(e,t)}}),t.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",i),window.addEventListener("unload",i)):window.attachEvent&&(window.attachEvent("onbeforeunload",i),window.attachEvent("onunload",i))),function(){o=new I,a=!0,e&&s.setLabels(e),n&&s.setPixelURL(n)}()}}();return function(n){function r(e,t){return E[P]||a(e,t)}function i(){P=-1;for(var t=0;S>=t;t++)if(E.hasOwnProperty(String(t))){P=t;break}return e.StreamSense.activeIndex=P,P}function a(t,n){return t=t||null,n=n||null,t&&"object"==typeof t&&(n=t,t=null),E[++S]=new e.StreamSense(n,t),i(),E[S]}function o(){var t=!1,n=P;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var r in E)if(E.hasOwnProperty(r)&&E[r]===arguments[0]){n=r;break}return E.hasOwnProperty(String(n))&&(t=E[n],delete E[n],t.reset(),i()),t}function s(e){return e=e||{},r().setPlaylist(e),r().getPlaylist()}function u(e,t,n){return e=e||{},"number"==typeof t&&(e.ns_st_cn=String(t)),r().setClip(e,n),r().getClip()}function c(e,t,n){return void 0!==e&&(n=n||null,t=t||{},r().notify(e,t,n))}function l(e){void 0!==e&&r().setLabels(e)}function d(){return r().getLabels()}function f(e){void 0!==e&&r().getPlaylist().setLabels(e)}function p(){return r().getPlaylist().getLabels()}function h(e){void 0!==e&&r().getClip().setLabels(e)}function m(){return r().getClip().getLabels()}function y(e){return r().reset(e||{})}function v(e){return r().getPlaylist().reset(e||{})}function g(e){return r().getClip().reset(e||{})}function b(e){return e=e||{},r().viewNotify(null,e)}function _(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=String(t)),r().customNotify(e,t)}function w(){return r().exportState()}function k(e){r().importState(e)}var E={},S=-1,P=-1;t.extend(n,{activeIndex:P,newInstance:a,new:a,destroyInstance:o,destroy:o,newPlaylist:s,newClip:u,notify:c,setLabels:l,getLabels:d,setPlaylistLabels:f,getPlaylistLabels:p,setClipLabels:h,getClipLabels:m,resetInstance:y,resetPlaylist:v,resetClip:g,viewEvent:b,customEvent:_,exportState:w,importState:k})}(A),A.PlayerEvents=u,A.InternalStates=c,A.ImplementationType=l,A}(),e.StreamingTag=e.StreamingTag||function(){var n=e.StreamSense,r=(e.StreamSense.PlayerEvents,e.StreamSense.InternalStates||null),i=e.StreamSense.ImplementationType||null,a=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType;return function(){var e={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},o={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function o(e){t.exists(e)||(e={});for(var n in g)g.hasOwnProperty(n)&&!t.exists(e[g[n]])&&("ns_st_ci"==g[n]?e.ns_st_ci="0":e[g[n]]="*null");return e}function s(e){for(var t in g)if(g.hasOwnProperty(t)&&!u(g[t],p,e))return!1;return!0}function u(e,n,r){if(t.exists(e)&&t.exists(n)&&t.exists(r)){var i=n[e],a=r[e];return t.exists(i)&&t.exists(a)&&i===a}return!1}function c(e){f++;var n={ns_st_cn:String(f),ns_st_pn:"1",ns_st_tp:"0"};t.extend(n,e),m.setClip(n),p=e,m.play()}function l(e){f++,e=o(e);var n={ns_st_cn:String(f),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};t.extend(n,e),m.setClip(n),m.play(),h=!1}function d(e,t){e=o(e),b==v.None&&(b=t),h&&b==t&&s(e)?(m.getClip().setLabels(e),m.getState()!=r.PLAYING&&m.play()):c(e),h=!0,b=t}var f=0,p=null,h=!1,m=null,y=!1,v={None:0,AudioContent:1,VideoContent:2},g=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],b=v.None;t.extend(this,{playAdvertisement:function(){m&&(y&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),l({ns_st_ct:"va"}))},playVideoAdvertisement:function(e,n){if(m){var r={ns_st_ct:"va"};n?r.ns_st_ct="va"+n:y&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(r,e),l(r)}},playAudioAdvertisement:function(e,n){if(m){var r={ns_st_ct:"aa"};n?r.ns_st_ct="aa"+n:y&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&t.extend(r,e),l(r)}},playContentPart:function(e){if(m){y&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&t.extend(n,e),d(n,v.VideoContent)}},playVideoContentPart:function(e,n){if(m){var r={ns_st_ct:"vc"};n?r.ns_st_ct="vc"+n:y&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&t.extend(r,e),d(r,v.VideoContent)}},playAudioContentPart:function(e,n){if(m){var r={ns_st_ct:"ac"};n?r.ns_st_ct="ac"+n:y&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&t.extend(r,e),d(r,v.AudioContent)}},stop:function(){m&&m.pause()}}),function(){if(a)if(t.getNamespace().comScore)m=new n,m.setImplementationType(i.REDUCED);else if(t.exists(e))if(y=t.isTrue(e.debug),t.exists(e.customerC2)&&e.customerC2.length>0){var r=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");m=new n,m.setPixelURL(r+".scorecardresearch.com/p?c1=2"),m.setLabel("c2",e.customerC2),m.setImplementationType(i.REDUCED)}else y&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}()};return s.ContentType=e,s.AdType=o,s}()}(),e})},function(e,t){e.exports=n(1091)},function(e,t){e.exports=n(459)},function(e,t){e.exports=n(1092)},function(e,t){e.exports=n(1096)},function(e,t,n){"use strict";function r(){window.sp_cid=i;var e={detect:{}},t=void 0,n=void 0;return new Promise(function(e,r){new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onload=e,n.onerror=t,n.async=!0,n.src=a}).then(null,r),t=function(){return e(!0)},n=function(){return e(!1)},document.addEventListener("sp.blocking",t),document.addEventListener("sp.not_blocking",n)}).then(null,function(){return"unknown"}).then(function(r){return e.detect._result=r,window.Twitch.sentinel=e,document.removeEventListener("sp.blocking",t),document.removeEventListener("sp.not_blocking",n),r})}t.a=r;var i="qFEaZsFQnwEdUIs",a="//d1xfq2052q7thw.cloudfront.net/1.7.461.js"},function(e,t,n){"use strict";function r(e,t){function r(e){return e.split(".").slice(-2).join(".")}function i(){var e=void 0;try{document.domain=f.G,e=window.parent.location,e.host||(e=window.location)}catch(t){e=window.location}return e}function o(){try{return document.domain=f.G,window.parent.document.referrer}catch(e){return window.document.referrer}}function k(){var e=g.a(),t=e.major+","+e.minor+","+e.release,i=o(),a=n.i(h.a)(i),s=y.a(!1),u=y.a(!0),c=b.j()===b.o?null:_;return{app_version:"2017.10.18-020416+DEV",flash_version:t,referrer_url:i,referrer_host:a.host,referrer_domain:r(a.host),browser:navigator.appVersion||"",user_agent:navigator.userAgent||"",device_id:s,distinct_id:s,session_device_id:u,client_app:c}}var E=this,S=[],P=void 0;E.trackEvents=function(o){var s=e.getState(),u=s.window,c=u.Date.now()/1e3,l=s.tracking.referrer?n.i(h.a)(s.tracking.referrer).host:"";Promise.all(S).then(function(e){var u=a.a.apply(null,e),d=i(),f=s.env,p=f.platform,h=f.playerType,y=o.map(function(e){var t=a()({},P,u,e.properties,s.tracking,{platform:h===b.b?h:p,play_session_id:s.analytics.playSessionId,url:n.i(m.a)(d.href),host:d.host,domain:r(d.host),referrer_host:l,referrer_domain:l?r(l):""});return t.time||(t.time=c),{event:e.event,properties:t}});t.debug&&y.forEach(function(e){var t=e.event,n=e.properties;console.log("track event:",t,n)}),s.analytics.trackingClients.forEach(function(e){e.trackEvents(y)})})},E.trackEvent=function(e,t){E.trackEvents([{event:e,properties:t}])},E.setProperty=function(e,t){var n={};n[e]=t,E.setProperties(n)},E.setProperties=function(e){var t=Promise.resolve(e).then(null,function(e){return console.warn("failed to resolve properties promise",e),{}});S.push(t)},function(){var r=[];r.push(new u.a({host:f.D,token:f.E})),r.push(new c.a({trustedURI:p.a,untrustedHost:f.F}));var i=e.getState().env.playerType;s()(w,i)&&r.push(new l.a(e)),e.dispatch(n.i(d.d)(r)),P=k(),E.setProperties(t.tracking),E.setProperties({channel:t.channel,vod:t.video,vod_id:t.video}),E.setProperty("benchmark_session_id",t.benchmarkId||v.a()),E.setProperty("mse_support","undefined"!=typeof MediaSource)}()}t.a=r;var i=n(23),a=n.n(i),o=n(11),s=n.n(o),u=n(190),c=n(192),l=n(187),d=n(61),f=n(6),p=n(202),h=n(39),m=n(149),y=n(89),v=n(81),g=n(393),b=n(7),_="ember",w=[b.e,b.d]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return/\/\/(www|player|go|canary|rc|.*\.rc|.*\.canary)\.twitch\.tv/.test(e)?d:/\/\/betaplayer\.twitch\.tv/.test(e)?p:s.cookie.get(h)||f}n.d(t,"a",function(){return m});var a=n(12),o=n(8),s=n(60),u=(n.n(s),n(7)),c=n(10),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d="https://clips.twitch.tv",f="https://clips-staging.twitch.tv",p="https://clips-alpha.twitch.tv",h="clips-staging",m=function(){function e(t,n){r(this,e),this._state=t,this._store=n;var a=this._store.getState().window.location.origin;this._clipsUrl=i(a)}return l(e,[{key:"hookUpForm",value:function(e){this._$createClipPlayerBackendType=e.querySelector(".js-create-clip-player-backend-type"),this._$createClipChannel=e.querySelector(".js-create-clip-channel"),this._$createClipSegment=e.querySelector(".js-create-clip-segment"),this._$createClipOffset=e.querySelector(".js-create-clip-offset"),this._$createClipBroadcastId=e.querySelector(".js-create-clip-broadcast_id"),this._$createClipVodId=e.querySelector(".js-create-clip-vod_id"),this._$createClipPlaySessionId=e.querySelector(".js-create-clip-play_session_id"),this._$createClipForm=e.querySelector(".js-create-clip-form"),this._$createClipForm&&this._$createClipForm.setAttribute("action",this._clipsUrl+"/clips")}},{key:"recordClip",value:function(){var e=this._store.getState(),t=e.stream,n=e.streamMetadata,r=t.contentType,i=n.channel.name;r===o.a?this._recordVodClip(i):r===a.a&&this._recordLiveClip(i)}},{key:"_recordVodClip",value:function(e){var t=this._store.getState(),n=t.stream,r=t.analytics,i=t.backend,a=n.videoId,o=r.playSessionId,s={playerBackendType:i.getBackend(),channelName:e,offset:Math.round(this._state.currentTime),broadcastId:"",vodId:a.slice(1),playSessionId:o};this._store.getState().env.playerType===u.b?this._createWithAPI(s):this._submitFormWithValues(s)}},{key:"_recordLiveClip",value:function(e){var t=this._store.getState(),n=t.backendInfo,r=t.manifestInfo,i=t.streamMetadata,a=t.analytics,o=t.backend,s=n.playerBackendType,c=i.broadcastID,l=a.playSessionId,d=(r.stream_time,o.elapsedTime()),f={playerBackendType:s,channelName:e,offset:Math.round(Math.max(d,0)),broadcastId:c,vodId:"",playSessionId:l};this._store.getState().env.playerType===u.b?this._createWithAPI(f):this._submitFormWithValues(f)}},{key:"_submitFormWithValues",value:function(e){var t=e.playerBackendType,n=e.channelName,r=e.offset,i=e.broadcastId,a=e.vodId,o=e.playSessionId,s="twitch_clips_"+Date.now().toString();this._$createClipPlayerBackendType.setAttribute("value",t),this._$createClipChannel.setAttribute("value",n),this._$createClipOffset.setAttribute("value",r),this._$createClipBroadcastId.setAttribute("value",i),this._$createClipVodId.setAttribute("value",a),this._$createClipPlaySessionId.setAttribute("value",o),this._$createClipForm.setAttribute("target",s),this._store.getState().window.open("",s),this._$createClipForm.submit()}},{key:"_createWithAPI",value:function(e){var t=e.playerBackendType,r=e.channelName,i=e.offset,a=e.broadcastId,o=e.vodId,s=e.playSessionId,u={player_backend_type:t,channel:r,offset:i,broadcast_id:a,vod_id:o,play_session_id:s};n.i(c.u)(this._clipsUrl+"/api/v2/clips",u).then(function(e){window.open(e.url+"/edit","_blank")})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return b});var i=n(5),a=n.n(i),o=n(10),s=n(77),u=n(8),c=n(13),l=n(83),d=n.n(l),f=n(31),p=n(19),h=n(15),m=n(16),y=n(14),v=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(){function e(t){r(this,e),this._store=t,this.unsubs=[],this.unsubs.push(n.i(c.a)(this._store,["playerOptions.channel","playerOptions.collection","playerOptions.video"],this.onOptionsChange.bind(this))),this.unsubs.push(n.i(c.a)(this._store,["collection.pendingRequest"],this.onPendingRequestChange.bind(this))),this.unsubs.push(n.i(c.a)(this._store,["collection.id","stream"],this.onStreamChange.bind(this))),this.unsubs.push(n.i(c.a)(this._store,["playback.ended"],this._streamEnded.bind(this)))}return g(e,[{key:"_fetchCollectionInfo",value:function(e){return n.i(o.x)(e).then(function(e){var t=v(e,2),n=t[0],r=t[1];return a()({},n,{items:r.items})})}},{key:"_collectionHasVideo",value:function(e,t){return e.some(function(e){return t==="v"+e.item_id})}},{key:"onOptionsChange",value:function(){var e=this,t=this._store.getState(),r=t.playerOptions;r.collection&&!r.channel&&this._fetchCollectionInfo(r.collection).then(function(t){if(0===t.items.length)return e._store.dispatch(n.i(f.k)(t)),void e._showEmptyCollectionOverlay(t);if(r.video)e._collectionHasVideo(t.items,r.video)&&e._store.dispatch(n.i(f.k)(t));else{var i="v"+t.items[0].item_id;e._store.dispatch(n.i(y.b)({contentType:y.f,contentId:i})),e._store.dispatch(n.i(f.k)(t))}})}},{key:"onPendingRequestChange",value:function(){var e=this,t=this._store.getState().collection.pendingRequest,r=t.collectionId,i=t.videoId,a=t.timestamp;r&&this._fetchCollectionInfo(r).then(function(t){if(0===t.items.length)return e._store.dispatch(n.i(f.k)(t)),void e._showEmptyCollectionOverlay(t);if(i&&e._collectionHasVideo(t.items,i))e._store.dispatch(n.i(y.b)({contentType:y.f,contentId:i})),e._store.dispatch(n.i(p.b)(a));else{var o="v"+t.items[0].item_id;e._store.dispatch(n.i(p.h)(o,r))}e._store.dispatch(n.i(f.k)(t))})}},{key:"onStreamChange",value:function(){var e=this._store.getState(),t=e.stream,r=e.collection;if(r.id&&0!==r.items.length){var i=r.items[r.items.length-1];t.contentType===u.a&&t.videoId==="v"+i.itemId?this._store.dispatch(n.i(f.l)()):this._store.dispatch(n.i(f.m)())}}},{key:"_showEmptyCollectionOverlay",value:function(){this._store.dispatch(n.i(h.i)(h.e)),this._store.dispatch(n.i(m.c)())}},{key:"_streamEnded",value:function(){var e=this._store.getState(),t=e.playback,n=e.stream;!e.ui.isMini&&t.ended&&t.transitionScheme===s.a&&n.contentType===u.a&&this._playNextVideo()}},{key:"_playNextVideo",value:function(){var e=this,t=this._store.getState(),r=t.stream,i=t.collection,a=t.window;if(0!==i.items.length){var o=r.videoId,s=d()(i.items,function(e){return"v"+e.itemId===o});if(s+1!==i.items.length){var u=i.items[s+1];a.setTimeout(function(){e._store.dispatch(n.i(p.h)("v"+u.itemId,i.id))},0)}}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"string"!=typeof e?"":e.trim().toLowerCase()}n.d(t,"a",function(){return h});var a=n(13),o=n(42),s=n(49),u=n(25),c=n(34),l=n(11),d=n.n(l),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=["amazon_livestream"],h=function(){function e(t){r(this,e),this.store=t,this.unsubs=[],this._initSubscribes()}return f(e,[{key:"_initSubscribes",value:function(){this.unsubs.push(n.i(a.a)(this.store,["onlineStatus"],this.onOnlineStatusChange.bind(this))),this.unsubs.push(n.i(a.a)(this.store,["playback.ended","playback.hasPlayed"],this.onPlaybackStateChange.bind(this)))}},{key:"onOnlineStatusChange",value:function(e){e.onlineStatus===u.b&&(this.store.getState().playback.hasPlayed||this._fetchFollowInfo())}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;t.ended&&this.store.getState().onlineStatus===u.b&&t.hasPlayed&&this._fetchFollowInfo()}},{key:"_getIDs",value:function(){var e=this.store.getState(),t=e.streamMetadata,n=e.user;return{userId:n.id,channelId:t.channel.id,loggedIn:n.loggedInStatus===c.b}}},{key:"_checkChannelBlackList",value:function(){var e=this.store.getState(),t=e.streamMetadata;return!!t.channelName&&d()(p,i(t.channelName))}},{key:"_fetchFollowInfo",value:function(){var e=this.store.getState(),t=e.env,r=this._getIDs(),i=r.userId,a=r.channelId,u=r.loggedIn,c=i===a,l=this._checkChannelBlackList(),d=t.platform===s.a;if(!c&&a&&!l&&!d)return!u&&a?void this.store.dispatch(n.i(o.l)({following:!1,notificationsEnabled:!1})):void this.store.dispatch(n.i(o.a)(i,a))}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e){var t=e.which||e.keyCode||e.charCode;return e.key?e.key:I[t]}function i(e,t,i,a){function I(t){var n=e.getChannel(),r=i.getState().playback.duration,a=e.getCurrentTime();if(!n&&o()(r)&&!e.getPaused()){var s=L(a,t,S,r,e.getEnded());s&&e.setCurrentTime(s)}}function L(e,t,n,r,i){var a=i?r+t:e+t;return a<n?n:a>r?null:a}var A=!1;t.setAttribute("tabindex",a.tabindex||-1),t.addEventListener("keydown",function(a){var o=a.target||a.srcElement,S="INPUT"===o.tagName&&"text"===t.querySelector(o).getAttribute("type"),L="TEXTAREA"===o.tagName,N="true"===o.contentEditable,j=i.getState().ui.isMini;if(!(S||L||N||j)){var M=r(a),q=void 0,D=void 0;switch(M){case p:A=!0;break;case h:case P:i.getState().playback.paused?i.dispatch(n.i(d.b)()):i.dispatch(n.i(d.c)());break;case m:e.setMuted(!1);break;case y:e.setMuted(!0);break;case g:case T:q=i.getState().playback.volume,D=Math.round(100*Math.min(q+u.u,1))/100,i.dispatch(n.i(d.f)(D));break;case b:case O:q=Math.round(100*i.getState().playback.volume)/100,D=Math.round(100*Math.max(q-u.u,0))/100,i.dispatch(n.i(d.f)(D));break;case v:case C:i.getState().collection.currentView===f.a?i.dispatch(n.i(c.c)()):s.q()&&i.getState().screenMode.isTheatreMode&&i.dispatch(n.i(l.c)(!1));break;case k:case E:if(!A)return;i.dispatch(n.i(l.d)());break;case w:case R:I(u.B);break;case _:case x:I(-u.B);break;default:return}a.preventDefault()}}),t.addEventListener("keyup",function(e){r(e)===p&&(A=!1)})}t.a=i;var a=n(66),o=n.n(a),s=n(7),u=n(6),c=n(31),l=n(28),d=n(16),f=n(45),p="Control",h=" ",m="PageUp",y="PageDown",v="Escape",g="ArrowUp",b="ArrowDown",_="ArrowLeft",w="ArrowRight",k="f",E="F",S=.01,P="Spacebar",C="Esc",T="Up",O="Down",x="Left",R="Right",I=Object.freeze({17:p,32:h,33:m,34:y,27:v,38:g,40:b,37:_,39:w,70:k})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return k});var i=n(15),a=n(25),o=n(7),s=n(12),u=n(77),c=n(13),l=n(11),d=n.n(l),f=n(50),p=n(31),h=n(10),m=n(27),y=n(56),v=n(18),g=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=[o.s,o.h,o.r,o.i],w=[26610234,10817445,152325025],k=function(){function e(t){r(this,e),this._store=t,this._unsubs=[],this._unsubs.push(n.i(c.a)(this._store,["onlineStatus","streamMetadata"],this.tryFetchOfflineRecs.bind(this))),this._unsubs.push(n.i(c.a)(this._store,["ads","recommendations","playback.ended"],this.tryShowOfflineRecs.bind(this))),this._unsubs.push(n.i(c.a)(this._store,["playerDimensions"],this.onDimensionsChange.bind(this)))}return b(e,[{key:"tryFetchOfflineRecs",value:function(){var e=this;if(!this._shouldFetchOfflineRecs())return Promise.resolve();var t=this._store.getState(),r=t.stream,i=t.window,a=t.playback,o=a.hasPlayed?Math.floor(5e3*Math.random())+1:0;return function(e){return new Promise(function(t){return i.setTimeout(t,e)})}(o).then(function(){return Promise.all([e._getChannelVideos(),e._getFeaturedCollection()])}).then(function(e){return 0!==e[0].length?e:Promise.reject("Offline Recommendations: No channel videos")}).then(function(t){return e._checkExperimentGroup(t)}).then(function(t){var i=g(t,2),a=i[0],o=i[1];if(e._store.getState().stream!==r)return Promise.reject("Offline Recommendations: Stream changed while fetching");a.length>0&&e._store.dispatch(n.i(f.e)(a,f.d)),o.length>0&&e._store.dispatch(n.i(p.p)(o[0]))}).catch(function(e){return console.warn(e)})}},{key:"tryShowOfflineRecs",value:function(){this._shouldShowOfflineRecs()&&this._store.dispatch(n.i(i.i)(i.b))}},{key:"onDimensionsChange",value:function(){var e=this._store.getState(),t=e.screen,r=e.playerDimensions,a=r.height,o=r.width,s=t[0]===i.b;if((a<300||o<560)&&s)return void this._store.dispatch(n.i(i.c)());this._shouldShowOfflineRecs()&&this._store.dispatch(n.i(i.i)(i.b))}},{key:"_shouldShowOfflineRecs",value:function(){var e=this._store.getState(),t=e.screen,n=e.recommendations,r=e.playerDimensions,o=e.stream,u=e.playback,c=e.onlineStatus,l=e.ads,p=r.height,h=r.width,m=p>=300&&h>=560,y=!d()(t,i.b),g=l.currentMetadata.contentType===v.c.NONE,b=n.type===f.d,_=o.contentType===s.a&&c===a.b,w=!u.hasPlayed,k=u.ended;return m&&y&&g&&b&&_&&(w||k)}},{key:"_shouldFetchOfflineRecs",value:function(){var e=this._store.getState(),t=e.onlineStatus,n=e.playback,r=e.stream,i=e.streamMetadata,o=e.env,c=r.contentType===s.a,l=0!==i.channel.id,f=!d()(w,i.channel.id),p=t===a.b,h=n.transitionScheme===u.b,m=!d()(_,o.playerType);return c&&l&&f&&p&&h&&m}},{key:"_getFeaturedCollection",value:function(){var e=this._store.getState(),t=e.streamMetadata;return n.i(h.y)(t.channel.id).then(function(e){return e.collections}).catch(function(e){return console.warn(e),[]})}},{key:"_getChannelVideos",value:function(){var e=this;return this._fetchChannelVideos().then(function(t){return e._filterOutWatchedVideos(t)}).then(function(t){return e._normalizeChannelVideos(t)}).catch(function(e){return console.warn(e),[]})}},{key:"_fetchChannelVideos",value:function(){var e=this._store.getState(),t=e.streamMetadata;return n.i(h.b)("channels/"+t.channel.id+"/videos?limit=30").then(function(e){var t=e.videos;return t.length>0?t:Promise.reject("Offline Recommendations: No channel videos")})}},{key:"_filterOutWatchedVideos",value:function(e){var t=this._store.getState(),r=t.user;return r.id?n.i(y.d)(r.id).then(function(e){return e.json()}).then(function(t){var r=e.filter(function(e){return!n.i(f.f)(t,e)});return r.length>0?r:Promise.reject("Offline Recommendations: All channel videos watched")}).catch(function(){return[]}):e}},{key:"_normalizeChannelVideos",value:function(e){return e.map(function(e){var t="";return e.thumbnails.medium.length>0&&(t=e.thumbnails.medium[0].url),{recommendationType:f.c,creationDate:e.created_at,thumbnailURL:t,title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}})}},{key:"_checkExperimentGroup",value:function(e){var t=this._store.getState(),n=t.experiments;return n.get(m.t).then(function(e){return"show"===e?n.get(m.y):Promise.reject("Offline Experience: In control group")}).then(function(t){return"yes"===t?e:Promise.reject("Offline Recommendations: In control group")})}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return l});var i=n(435),a=n.n(i),o=n(120),s=n(413),u=n.n(s),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){r(this,e),this._store=t,this.resizeObserver=this._createResizeObserver()}return c(e,[{key:"_createResizeObserver",value:function(){var e=this;return new a.a(function(t){var r=t[0],i=r.contentRect,a=i.left,s=i.top,u=i.width,c=i.height;e._store.dispatch(n.i(o.a)({left:a,top:s,width:u,height:c}))})}},{key:"observe",value:function(e){this.observeElement=e,this._store.dispatch(n.i(o.a)({left:this.observeElement.getBoundingClientRect().left,top:this.observeElement.getBoundingClientRect().top,width:this.observeElement.getBoundingClientRect().width,height:this.observeElement.getBoundingClientRect().height})),this.resizeObserver.observe(this.observeElement)}},{key:"destroy",value:function(){u()(this.observeElement)&&(this.resizeObserver.unobserve(this.observeElement),this.resizeObserver.disconnect())}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return h});var i=n(50),a=n(15),o=n(7),s=n(8),u=n(77),c=n(13),l=n(11),d=n.n(l),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=[o.s,o.h,o.r,o.i],h=function(){function e(t){r(this,e),this._store=t,this._unsubs=[],this._unsubs.push(n.i(c.a)(this._store,["recommendations.videos"],this.onRecommendationsChange.bind(this))),this._unsubs.push(n.i(c.a)(this._store,["playback.ended"],this.onEnded.bind(this))),this._unsubs.push(n.i(c.a)(this._store,["playback.currentTime"],this.onCurrentTime.bind(this)))}return f(e,[{key:"onCurrentTime",value:function(){var e=this._store.getState(),t=e.playback,r=e.stream,a=e.recommendations;t.transitionScheme===u.b&&r.contentType===s.a&&1e3*(t.duration-t.currentTime)<i.g&&a.status===i.h&&this._store.dispatch(n.i(i.i)(i.a))}},{key:"onEnded",value:function(){this._shouldPushRecScreen()&&this._store.dispatch(n.i(a.i)(a.b))}},{key:"onRecommendationsChange",value:function(){this._shouldPushRecScreen()&&this._store.dispatch(n.i(a.i)(a.b))}},{key:"_shouldPushRecScreen",value:function(){var e=this._store.getState(),t=e.env,n=e.recommendations,r=e.ui,o=e.playback,c=e.stream;return!(e.screen[0]===a.b||c.contentType!==s.a||!o.ended||r.isMini||d()(p,t.playerType)||n.status!==i.j||o.transitionScheme!==u.b)}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"video-playback-by-id."+e}n.d(t,"a",function(){return v});var a=n(418),o=n.n(a),s=n(430),u=n.n(s),c=n(13),l=n(97),d=n(73),f=n(14),p=n(124),h=n(12),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y="production",v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this._store=t,this._debugMode=n.debug,this._pubSub=u.a.getInstance(y),this._topics=[],this._onMessage=this._onPubSubMessage.bind(this),this._unsubscribe=this._subscribe()}return m(e,[{key:"destroy",value:function(){var e=this;this._unsubscribe(),this._topics.forEach(function(t){return e._unlisten(t)})}},{key:"_onPubSubMessage",value:function(e){var t=void 0;try{t=JSON.parse(e)}catch(e){return void console.error("Pubsub: %o",e)}switch(this._debugMode&&console.info("PubSub: %o",t),t.type){case"stream-up":this._store.dispatch(n.i(f.b)({contentType:f.d,contentId:this._store.getState().stream.channel}));break;case"stream-down":this._store.dispatch(n.i(d.b)(!1));break;case"viewcount":this._store.dispatch(n.i(l.a)(t.viewers));break;case"tos-strike":this._store.getState().window.document.location.reload();break;case"watchparty-vod":this._store.dispatch(n.i(p.a)(t.vod));break;default:this._debugMode&&console.warn("PubSub: Unrecognized message %o",t)}}},{key:"_subscribe",value:function(){var e=this;return n.i(c.a)(this._store,["streamMetadata.channel.id"],function(t,n){var r=n.streamMetadata.channel.id,a=n.streamMetadata.channelName,o=t.streamMetadata.channel.id,s=e._store.getState().stream;r&&a&&e._unlisten(i(r)),s.contentType===h.a&&o&&e._listen(i(o))})}},{key:"_listen",value:function(e){var t=this;this._topics.push(e),this._pubSub.Listen({topic:e,success:function(){t._debugMode&&console.info("PubSub: successfully listened to %s",e)},failure:function(n){t._topics=o()(t._topics,e),console.error("PubSub: error listening: %o",n)},message:this._onMessage})}},{key:"_unlisten",value:function(e){var t=this;this._topics=o()(this._topics,e),this._pubSub.Unlisten({topic:e,success:function(){t._debugMode&&console.info("PubSub: successfully unlistened to %s",e)},failure:function(n){t._topics.push(e),console.error("PubSub: error unlistening: %o",n)},message:this._onMessage})}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var o=n(415),s=n.n(o),u=n(6),c=n(88),l=n(20),d=n(56),f=n(25),p=n(10),h=n(12),m=n(8),y=n(80),v=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(e,n,a,o){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s._state=n,s._store=a,s._player=e,s._options=o,s._streamTimeOffset=0,s._state.addEventListener(c.f,s.handleEvent.bind(s)),s.subscribe(s._store,["playback.currentTime"],s._onTimeUpdate.bind(s)),s}return a(t,e),g(t,[{key:"handleEvent",value:function(e){switch(e){case l.a:this._onLoadedMetadata()}}},{key:"_seekToResumeTime",value:function(e,t){var r=this._store.getState(),i=r.stream,a=r.playback,o=t.filter(function(t){return t.video_id===i.videoId||t.video_id===""+e.broadcast_id});if(this._store.dispatch(n.i(d.b)(!0)),0!==o.length){var s=o[0],c=s.position,l=s.type;if(c<a.duration-u.r)if(l===h.a){var f=Math.max(0,c-u.s);this._player.setCurrentTime(f)}else this._player.setCurrentTime(c);o.filter(function(e){return e.type===h.a}).length>0&&this._store.dispatch(n.i(d.c)(e.broadcast_id))}}},{key:"_seekToResumeTimeLocal",value:function(e){var t=this._store.getState(),r=t.resumeWatch,i=t.stream,a=t.playback,o=r.times[i.videoId],c=r.streamTimes[e.broadcast_id],l=a.duration;if(this._store.dispatch(n.i(d.b)(!0)),s()(o)&&o<l-u.r)this._player.setCurrentTime(o);else if(s()(c)&&c<l-u.r){var f=Math.max(0,c-u.s);this._player.setCurrentTime(f)}this._store.dispatch(n.i(d.c)(e.broadcast_id))}},{key:"_onLoadedMetadata",value:function(){var e=this,t=this._store.getState(),r=t.stream,i=t.resumeWatch,a=t.collection,o=t.playback;if(r.contentType===h.a)return void(this._streamTimeOffset=this._player.getVideoInfo().stream_time_offset);if(!(a.id||r.contentType!==m.a||i.isSeeked||o.startTimeSet)){var s=n.i(p.e)(r.videoId);if(!i.userId)return s.then(function(t){e._seekToResumeTimeLocal(t)});var u=n.i(d.d)(i.userId);return Promise.all([s,u]).then(function(t){var r=v(t,2),i=r[0],a=r[1],o=a.videos;e._store.dispatch(n.i(d.e)(o)),e._seekToResumeTime(i,o)})}}},{key:"_onTimeUpdate",value:function(){var e=void 0,t=this._store.getState(),r=t.stream,i=t.streamMetadata,a=t.onlineStatus,o=t.playback;if(!o.isLoading){var s=i.channel.id;if(r.contentType===h.a){var c=i.broadcastID;e=a===f.a?n.i(d.f)(c,s,this._streamTimeOffset+o.currentTime):n.i(d.c)(c,s)}else if(r.contentType===m.a){if(0===o.duration)return;e=o.duration-o.currentTime>u.r?n.i(d.g)(r.videoId,s,o.currentTime):n.i(d.h)(r.videoId,s)}e&&this._store.dispatch(e)}}}]),t}(y.a)},function(e,t,n){"use strict";function r(){return n.i(i.createStore)(ne,n.i(i.compose)(n.i(i.applyMiddleware)(o.a,n.i(Z.a)()),n.i(i.applyMiddleware)(o.a,n.i(J.a)()),n.i(i.applyMiddleware)(o.a,n.i(ee.a)()),n.i(i.applyMiddleware)(o.a,n.i(te.a)()),(window.devToolsExtension,function(e){return e})))}t.a=r;var i=n(433),a=(n.n(i),n(434)),o=n.n(a),s=n(208),u=n(210),c=n(209),l=n(212),d=n(211),f=n(214),p=n(213),h=n(131),m=n(215),y=n(216),v=n(217),g=n(44),b=n(49),_=n(219),w=n(32),k=n(221),E=n(222),S=n(223),P=n(224),C=n(225),T=n(45),O=n(226),x=n(227),R=n(218),I=n(220),L=n(77),A=n(228),N=n(229),j=n(230),M=n(232),q=n(231),D=n(234),B=n(235),U=n(46),F=n(236),V=n(237),z=n(238),H=n(239),G=n(34),W=n(240),K=n(241),Q=n(242),Y=n(243),$=n(233),X=n(25),Z=(n(67),n(56),n(206)),J=n(205),ee=n(204),te=n(203),ne=n.i(i.combineReducers)({accessToken:s.a,ads:u.a,adsManager:c.a,analytics:l.a,analyticsTracker:d.a,backend:f.a,backendInfo:p.a,captions:h.b,chromecast:g.f,clips:m.a,collection:T.d,communities:y.a,comscore:v.a,env:b.b,error:R.a,experiments:_.a,extensions:w.c,follow:I.a,lang:k.a,manifestInfo:E.a,navigator:S.a,notifications:P.a,online:C.a,onlineStatus:X.c,playback:L.c,playerDimensions:O.a,playerOptions:x.a,quality:A.a,recommendations:N.a,resumeWatch:j.a,screen:M.a,screenMode:q.a,settings:$.a,stats:D.a,stream:B.a,streamMetadata:U.c,subscriptions:F.a,timelineMetadata:V.a,tracking:z.a,ui:H.a,user:G.c,usher:W.a,viewercount:K.a,watchParty:Q.a,window:Y.a})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return l});var i=n(8),a=n(13),o=n(10),s=n(15),u=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){r(this,e),this._store=t,n.i(a.a)(this._store,["stream"],this.onStream.bind(this))}return c(e,[{key:"onStream",value:function(){var e=this,t=this._store.getState(),r=t.stream;if(r.contentType===i.a){var a=n.i(o.e)(r.videoId),c=a.then(function(e){return n.i(o.f)(e.channel.name)});Promise.all([a,c]).then(function(t){var r=u(t,2),i=r[0],a=r[1];n.i(o.g)(a,i)&&e._store.dispatch(n.i(s.i)(s.a))})}}},{key:"destroy",value:function(){}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return c});var i=n(13),a=n(121),o=n(42),s=n(34),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t){r(this,e),this.store=t,this.unsubs=[],this.unsubs.push(n.i(i.a)(this.store,["streamMetadata.channel"],this.onChannelChange.bind(this)))}return u(e,[{key:"onChannelChange",value:function(){var e=this.store.getState(),t=e.user,r=e.streamMetadata,i=r.channel.name;if(this.store.dispatch(n.i(a.a)(i)),t.loggedInStatus===s.b){var u=t.id,c=r.channel.id;this.store.dispatch(n.i(o.a)(u,c)),this.store.dispatch(n.i(a.b)(u,c))}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=document.createElement("div");return o.classList.add("player-ui"),t.appendChild(o),s()(y,i.player)?(c.a.render(a.a.createElement(l.Provider,{store:n},a.a.createElement(d.I18nextProvider,{i18n:f.b},a.a.createElement(h.a,null))),o),v):new p.a(e,t,n,r,i)}t.a=r;var i=n(0),a=n.n(i),o=n(11),s=n.n(o),u=n(103),c=n.n(u),l=n(3),d=(n.n(l),n(4)),f=(n.n(d),n(76)),p=n(386),h=n(387),m=n(7),y=Object.freeze([m.d]),v=Object.freeze({destroy:function(){}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return s});var i=n(96),a=n(10),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){r(this,e),this._store=t,this.updateUserInfo()}return o(e,[{key:"updateUserInfo",value:function(){var e=this;n.i(a.h)().then(a.k).then(this._normalizeUserInfo).then(function(t){return e._store.dispatch(n.i(i.c)(t))}).catch(function(){return e._store.dispatch(n.i(i.d)())})}},{key:"_normalizeUserInfo",value:function(e){return{id:e._id,name:e.name,isStaff:"staff"===e.type}}},{key:"destroy",value:function(){}}]),e}()},function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var n in t){var r=Object.getOwnPropertyDescriptor(t,n);r.get&&(r.get=r.get.bind(t)),r.set&&(r.set=r.set.bind(t)),"function"==typeof r.value&&(r.value=r.value.bind(t)),Object.defineProperty(e,n,r)}}),e}t.a=r},function(e,t,n){"use strict";function r(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onload=e,n.onerror=t,n.async=!0,n.src="//imasdk.googleapis.com/js/sdkloader/ima3.js"})}t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return u});var i=n(151),a=n.n(i),o=n(28),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,i){r(this,e),this._store=i,this._root=t,this._store.dispatch(n.i(o.a)(this.canFullScreen()))}return s(e,[{key:"canFullScreen",value:function(){return!1}},{key:"isFullScreen",value:function(){return a.a.element===this._root}}]),e}()},function(e,t){},function(e,t){e.exports=n(483)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return w});var a=n(23),o=n.n(a),s=n(154),u=n.n(s),c=n(17),l=n.n(c),d=n(26),f=n(51),p=n(13),h=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=["top","bottom","textAlign","lineHeight","display"],v=/\r?\n|\r/g,g=["font","fontOpacity","alignment","verticalPosition","backgroundOpacity","windowOpacity"],b=["fontColorName","edge","backgroundColorName","windowColorName"],_=["fontUnderline","fontBold","fontItalic"],w=function(){function e(t,n){i(this,e),this._store=t,this._root=n,this._initDefaults(),this._initHandlers(),this.unsubscribe=this._subscribe(),this._initCustomCaptionsForm()}return m(e,[{key:"_initDefaults",value:function(){this.applyCCStyle()}},{key:"_initHandlers",value:function(){var e=this;this.selectPreset=this.selectPreset.bind(this),this.guardedQuerySelectorAll(".js-cc-preset",function(t){return t.addEventListener("click",e.selectPreset)}),this.onClickModalContainer=this.onClickModalContainer.bind(this),this.guardedQuerySelector(".js-cc-modal-container",function(t){return t.addEventListener("click",e.onClickModalContainer)}),this.onClickModalDismiss=this.onClickModalDismiss.bind(this),this.guardedQuerySelector(".js-cc-custom-modal-dismiss",function(t){return t.addEventListener("click",e.onClickModalDismiss)}),this.onClickTabsItem=this.onClickTabsItem.bind(this),this.guardedQuerySelectorAll(".player-tabs__item",function(t){return t.addEventListener("click",e.onClickTabsItem)}),this.setCurrentPreset()}},{key:"_subscribe",value:function(){var e=this;return n.i(p.a)(this._store,["captions"],function(t,n){var r=t.captions,i=n.captions;r.enabled!==i.enabled&&e.showCaption(r),r.data!==i.data&&e.showCaption(r),r.preset!==i.preset&&(e.setCurrentPreset(),e.setCurrentStyles()),r.preset===i.preset&&r.style===i.style||e.applyCCStyle()})}},{key:"_captionsState",value:function(){return this._store.getState().captions}},{key:"_initCustomCaptionsForm",value:function(){var e=this,t=this._store.getState().captions.style;b.forEach(function(n){e._setRadioAttribute(n,t)}),g.forEach(function(n){e._setDropdownAttribute(n,t)}),_.forEach(function(n){e._setCheckboxAttribute(n,t)}),this.onChangeModalDropdown=this.onChangeModalDropdown.bind(this),this.guardedQuerySelector(".js-cc-modal",function(t){return t.addEventListener("change",e.onChangeModalDropdown)}),this.onClickRadioButton=this.onClickRadioButton.bind(this),this.guardedQuerySelector(".js-cc-modal",function(t){return t.addEventListener("click",e.onClickRadioButton)}),this.onClickCheckbox=this.onClickCheckbox.bind(this),this.guardedQuerySelector(".js-cc-modal",function(t){return t.addEventListener("click",e.onClickCheckbox)}),this.onClickFontSize=this.onClickFontSize.bind(this),this.guardedQuerySelectorAll(".js-cc-font-size",function(t){return t.addEventListener("click",e.onClickFontSize)})}},{key:"_setDropdownAttribute",value:function(e,t){var n=this._root.querySelectorAll(".js-cc-dropdown");if(n)for(var r=0;r<n.length;r++){var i=n[r];i.name===e&&(i.value=t[e])}}},{key:"_setRadioAttribute",value:function(e,t){var n=this._root.querySelectorAll(".js-cc-radio");if(n)for(var r=0;r<n.length;r++){var i=n[r];i.name===e&&i.value===t[e]&&(i.checked=!0)}}},{key:"_setCheckboxAttribute",value:function(e,t){var n=null,r=this._root.querySelectorAll(".js-cc-checkbox");if(r){for(var i=0;i<r.length;i++){var a=r[i];if(a.name===e){n=a;break}}if(n){var o=t[e]===n.value;n.checked=o}}}},{key:"onClickFontSize",value:function(e){var t=f.a[e.target.value],r=this._store.getState().captions.style.fontSize,i=r+parseInt(t,10);this._store.dispatch(n.i(d.i)("custom",{fontSize:i}))}},{key:"onClickCheckbox",value:function(e){var t=f.b["white-on-black"];this._store.dispatch(n.i(d.i)("custom",r({},e.target.getAttribute("name"),e.target.checked?e.target.value:t[e.target.getAttribute("name")])))}},{key:"onClickRadioButton",value:function(e){this._store.dispatch(n.i(d.i)("custom",r({},e.target.getAttribute("name"),e.target.value)))}},{key:"onChangeModalDropdown",value:function(e){this._store.dispatch(n.i(d.i)("custom",r({},e.target.getAttribute("name"),e.target.value)))}},{key:"onClickModalContainer",value:function(e){e.target===this&&this.setAttribute("data-state","closed")}},{key:"onClickModalDismiss",value:function(e){var t=e.target.closest(".js-cc-modal-container");t&&t.setAttribute("data-state","closed")}},{key:"onClickTabsItem",value:function(e){this.guardedQuerySelector(".player-tabs__item--active",function(e){return e.classList.remove("player-tabs__item--active")});var t=e.target.closest(".player-tabs__item");if(t){t.classList.add("player-tabs__item--active");var n=t.getAttribute("data-tab");t.closest(".js-cc-modal").setAttribute("data-tab-selected",n)}}},{key:"selectPreset",value:function(e){var t=e.target.closest(".js-cc-preset");if(t){var r=t.getAttribute("data-preset");this._store.dispatch(n.i(d.i)(r,f.b[r]))}}},{key:"setCurrentPreset",value:function(){for(var e=this._store.getState().captions.preset,t=this._root.querySelectorAll(".js-cc-preset"),n=0;n<t.length;n++){var r=t[n],i=r.getAttribute("data-preset")===e;r.classList.toggle(".js-cc-preset-selected",i)}}},{key:"setCurrentStyles",value:function(){var e=this,t=this._store.getState().captions.style;g.forEach(function(n){e._setDropdownAttribute(n,t)}),b.forEach(function(n){e._setRadioAttribute(n,t)}),_.forEach(function(n){e._setCheckboxAttribute(n,t)})}},{key:"appendToDocumentFragment",value:function(e,t){if(t&&!(t.length<1)){var n=document.createElement("div");return n.innerText=t,n.className="player-captions-row",e.appendChild(n),e}}},{key:"applyCCStyle",value:function(){var e=this._store.getState().captions.style,t=e.fontColorName||"white",n=e.fontOpacity||"solid",r=e.backgroundColorName||"black",i=e.backgroundOpacity||"solid",a=f.c(f.d[t].fontColorValue,f.e[n].opacityValue),s={color:a,animation:f.e[n].animation},c=f.c(f.f[r].backgroundColorValue,f.e[i].opacityValue),d=o()({},e,s,f.g[e.font],f.h[e.edge],f.i[e.verticalPosition],f.j[e.fontUnderline],f.k[e.fontItalic],f.l[e.fontBold],f.m[e.alignment],{backgroundColor:c}),p=u()(d,y),h=l()(d,y);p.fontSize&&(p.fontSize=p.fontSize+"px"),this.changeStyles(".js-player-captions",p),this.changeStyles(".js-player-captions-container",h);var m=f.c(f.f[e.windowColorName].backgroundColorValue,f.e[e.windowOpacity].opacityValue);this.guardedQuerySelector(".js-player-captions-window",function(e){return e.style["background-color"]=m}),this.setFontSizeStatus(e.fontSize)}},{key:"changeStyles",value:function(e,t){this.guardedQuerySelector(e,function(e){var n=Object.assign({},e.style,t);Object.keys(n).forEach(function(t){e.style[t]=n[t]})})}},{key:"clearCaptions",value:function(){this._root.querySelector(".js-player-captions").innerHTML=""}},{key:"findCaptions",value:function(e){var t=e.data,n=e.text;return(n&&n.length>0?n.trim():null)||(Array.isArray(t)&&t.length>0?t:null)}},{key:"getCaptionsFromData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=document.createDocumentFragment(),r=function(e,t){var n=t.char;0===t.col&&e.push("");var r=h(n,1),i=r[0];return e[e.length-1]+=i||"",e};return t.reduce(r,[]).forEach(function(t){return e.appendToDocumentFragment(n,t)}),n}},{key:"getCaptionsFromText",value:function(e){var t=this,n=document.createDocumentFragment();return String(e).split(v).forEach(function(e){return t.appendToDocumentFragment(n,e)}),n}},{key:"setFontSizeStatus",value:function(e){for(var t=this._root.querySelectorAll(".js-cc-font-size"),n=0;n<t.length;n++){var r=t[n];"increment"===r.value&&(r.disabled=e===f.a.max),"decrement"===r.value&&(r.disabled=e===f.a.min)}}},{key:"showCaption",value:function(e){var t=e.available,n=e.enabled,r=e.data,i=r?this.findCaptions(r):null,a=t&&n&&i&&i.length>0;if(this.clearCaptions(),a)for(var o=this._root.querySelectorAll(".js-player-captions"),s=Array.isArray(i)?this.getCaptionsFromData(i):this.getCaptionsFromText(i),u=0;u<s.children.length;u++)o[0].appendChild(s.children[u])}},{key:"guardedQuerySelector",value:function(e,t){var n=this._root.querySelector(e);n&&t(n)}},{key:"guardedQuerySelectorAll",value:function(e,t){var n=this._root.querySelectorAll(e);if(n)for(var r=0;r<n.length;r++)t(n[r])}},{key:"destroy",value:function(){var e=this;this.guardedQuerySelectorAll(".js-cc-preset",function(t){return t.removeEventListener("click",e.selectPreset)}),this.guardedQuerySelector(".js-cc-open-modal",function(t){return t.removeEventListener("click",e.openCCModal)}),this.guardedQuerySelector(".js-cc-modal-container",function(t){return t.removeEventListener("click",e.onClickModalContainer)}),this.guardedQuerySelectorAll(".player-tabs__item",function(t){return t.removeEventListener("click",e.onClickTabsItem)}),this.guardedQuerySelector(".js-cc-custom-modal-dismiss",function(t){return t.removeEventListener("click",e.onClickModalDismiss)}),this.guardedQuerySelector(".js-cc-modal",function(t){return t.removeEventListener("change",e.onChangeModalDropdown)}),this.guardedQuerySelector(".js-cc-modal",function(t){return t.removeEventListener("click",e.onClickRadioButton)}),this.guardedQuerySelector(".js-cc-modal",function(t){return t.removeEventListener("click",e.onClickCheckbox)}),this.guardedQuerySelectorAll(".js-cc-font-size",function(t){return t.removeEventListener("click",e.onClickFontSize)}),this.unsubscribe()}}]),e}()},function(e,t,n){"use strict";function r(e){var t=e.isCasting,n=e.isPaused,r=e.isLoading,i=e.isAdvertisementScreen;return!r||n||t||i?null:a.a.createElement(c.a,null)}n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(302)),l=n(15),d=n(44),f={isCasting:s.a.bool.isRequired,isPaused:s.a.bool.isRequired,isLoading:s.a.bool.isRequired,isAdvertisementScreen:s.a.bool.isRequired},p=function(e){var t=e.chromecast,n=e.playback,r=e.screen;return{isCasting:t.castingState===d.a||t.castingState===d.e,isPaused:n.paused,isLoading:n.isLoading,isAdvertisementScreen:r[0]===l.g}};r.propTypes=f;var h=n.i(u.connect)(p)(r)},function(e,t){e.exports={Live:"Live",Advertisement:"Advertisement","This Ad supports {{channelName}}":"This Ad supports {{channelName}}",Pause:"Pause",Play:"Play",Mute:"Mute",Unmute:"Unmute",Options:"Options",Fullscreen:"Fullscreen","Exit Fullscreen":"Exit Fullscreen","Player Options":"Player Options","Video Quality":"Video Quality",Source:"Source",High:"High",Medium:"Medium",Low:"Low",Mobile:"Mobile","Popout Player":"Popout Player","Show Video Stats":"Show Video Stats","Hide Video Stats":"Hide Video Stats","Report Playback Issue":"Report Playback Issue",Captions:"Captions","Closed Captioning":"Closed Captioning","Closed Caption Settings":"Closed Caption Settings",Presets:"Presets",Text:"Text",Background:"Background",Window:"Window",Aa:"Aa",Font:"Font","Mono Serif":"Mono Serif",Serif:"Serif","Mono Sans-Serif":"Mono Sans-Serif","Sans-Serif":"Sans-Serif",Casual:"Casual",Cursive:"Cursive","Small Capitals":"Small Capitals",Position:"Position",Bottom:"Bottom",Top:"Top",Justification:"Justification",Alignment:"Alignment",Center:"Center",Left:"Left",Right:"Right",Style:"Style",Effects:"Effects",Effect:"Effect",Color:"Color",Size:"Size",A:"A",Opacity:"Opacity",Solid:"Solid",Translucent:"Translucent","Semi-Transparent":"Semi-Transparent",Transparent:"Transparent",Flashing:"Flashing","Increase Size":"Increase Size","Decrease Size":"Decrease Size",Select:"Select","Audio and video stutter":"Audio and video stutter","Leave feedback?":"Leave feedback?","Video stutters, but audio is fine":"Video stutters, but audio is fine","Video is completely black or doesn't load":"Video is completely black or doesn't load","Audio and video aren't synced":"Audio and video aren't synced","Fullscreen playback doesn't work":"Fullscreen playback doesn't work","Advertisement can't be muted or is too loud":"Advertisement can't be muted or is too loud","Advertisement has played too many times":"Advertisement has played too many times",Submit:"Submit","Theater Mode":"Theater Mode","Exit Theater Mode":"Exit Theater Mode","Video could not be found, or has been deleted by its owner":"Video could not be found, or has been deleted by its owner","Channel could not be found, or has been deleted by its owner":"Channel could not be found, or has been deleted by its owner","Video is loading":"Video is loading","Video is not available":"Video is not available","Flash is not installed":"Flash is not installed","The broadcaster indicated that the channel is intended for mature audiences.":"The broadcaster indicated that the channel is intended for mature audiences.","Start Watching":"Start Watching","Video Resolution":"Video Resolution","Display Resolution":"Display Resolution",FPS:"FPS","Skipped Frames":"Skipped Frames","Buffer Size":"Buffer Size","Latency To Broadcaster":"Latency To Broadcaster","Latency To Encoder":"Latency To Encoder","Playback Rate":"Playback Rate","Memory Usage":"Memory Usage","Backend Version":"Backend Version","This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.":"This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.","This video quality is only available to subscribers. Subscribe now to watch and support %s.":"This video quality is only available to subscribers. Subscribe now to watch and support %s.","Playing on {{device}}":"Playing on {{device}}"," has started a playlist.":" has started a playlist.","Introducing Auto Quality!":"Introducing Auto Quality!","You can enable automatic video quality selection by clicking on the gear menu and selecting “Auto” under Video Quality.":"You can enable automatic video quality selection by clicking on the gear menu and selecting “Auto” under Video Quality.","Submit feedback by selecting Report Playback Issue from the gear menu.":"Submit feedback by selecting Report Playback Issue from the gear menu.",Offline:"Offline","Get notified when {{channelName}} is live":"Get notified when {{channelName}} is live","Follow and get notified when {{channelName}} is live":"Follow and get notified when {{channelName}} is live","Live Broadcast has ended":"Live Broadcast has ended","Get notified when {{channelName}} goes live next":"Get notified when {{channelName}} goes live next","Follow {{channelName}} on Twitch":"Follow {{channelName}} on Twitch",Following:"Following",Unfollow:"Unfollow",Notifications:"Notifications","Turn On Notifications":"Turn On Notifications",Playlist:"Playlist",Subscribe:"Subscribe",Close:"Close","The broadcast is down.":"The broadcast is down.","The player will automatically reload when the broadcast is back.":"The player will automatically reload when the broadcast is back.","Copy Video URL at Current Time":"Copy Video URL at Current Time","Thanks for your report":"Thanks for your report","Coming Up":"Coming Up","Now playing: ":"Now playing: ","playing {{game}} for {{viewerCount}} viewer":"playing {{game}} for {{viewerCount}} viewer","playing {{game}} for {{viewerCount}} viewer_plural":"playing {{game}} for {{viewerCount}} viewers",Chromecast:"Chromecast","Watch on Twitch":"Watch on Twitch","You must be 21 to view this content. Please enter your date of birth.":"You must be 21 to view this content. Please enter your date of birth.","Sorry, you must be over the age of 21 to view this content.":"Sorry, you must be over the age of 21 to view this content.","Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.":"Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","Clip (Alt+X)":"Clip (Alt+X)",Clip:"Clip","Learn More":"Learn More","Make an impact with Clip Titles":"Make an impact with Clip Titles","Give your clips the perfect title to share more about your favorite moments.":"Give your clips the perfect title to share more about your favorite moments.","Clip Trimming is Here":"Clip Trimming is Here","It just got a lot easier to share the perfect moment with Clips.":"It just got a lot easier to share the perfect moment with Clips.",Auto:"Auto","HTML5 Player":"HTML5 Player","You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.":"You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.","Give Feedback":"Give Feedback","No supported video backend available; Flash is not installed":"No supported video backend available; Flash is not installed","Up Next":"Up Next",Cancel:"Cancel","Playing in {{timeRemaining}} second":"Playing in {{timeRemaining}} second","Playing in {{timeRemaining}} second_plural":"Playing in {{timeRemaining}} seconds","Mini Player":"Mini Player",ON:"ON",OFF:"OFF","By {{author}}":"By {{author}}","{{count}} video":"{{count}} video","{{count}} video_plural":"{{count}} videos","{{count}} minute":"{{count}} minute","{{count}} minute_plural":"{{count}} minutes","{{count}} hour":"{{count}} hour","{{count}} hour_plural":"{{count}} hours","{{hoursText}} and {{minutesText}}":"{{hoursText}} and {{minutesText}}","{{currentPosition}}/{{totalVideos}} video":"{{currentPosition}}/{{totalVideos}} video","{{currentPosition}}/{{totalVideos}} video_plural":"{{currentPosition}}/{{totalVideos}} videos","Video unavailable":"Video unavailable","Start watching":"Start watching","Skip this video":"Skip this video","This collection is empty.":"This collection is empty.",Quality:"Quality",Speed:"Speed",Normal:"Normal","Closed Captions Options":"Closed Captions Options",Advanced:"Advanced","Noticed a video playback issue? Let us know!":"Noticed a video playback issue? Let us know!","Sent!":"Sent!","Copy Video URL at {{time}}":"Copy Video URL at {{time}}","Copied!":"Copied!","Playing in":"Playing in","{{timeRemaining}} second":"{{timeRemaining}} second","{{timeRemaining}} second_plural":"{{timeRemaining}} seconds","Watch Now":"Watch Now","Watch Next":"Watch Next","Most Recent Video":"Most Recent Video",Settings:"Settings","Is your video buffering? Try the Auto quality option.":"Is your video buffering? Try the Auto quality option.","Your Twitch User ID":"Your Twitch User ID","Report Extension":"Report Extension","More from {{channelName}}":"More from {{channelName}}",Vodcast:"Vodcast","Playing pre-recorded video":"Playing pre-recorded video","Playing highlight":"Playing highlight","Playing uploaded video":"Playing uploaded video","Playing past broadcast":"Playing past broadcast","Content not available":"Content not available","Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)":"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)","terms of service":"terms of service","Grant Access":"Grant Access","Revoke Access":"Revoke Access","You are granting the following access:":"You are granting the following access:","You are revoking the following access:":"You are revoking the following access:","Allows this extension to know your User ID on Twitch.":"Allows this extension to know your User ID on Twitch.","View Details":"View Details","Manage Access":"Manage Access",Access:"Access",Granted:"Granted","Active Extensions":"Active Extensions",Extensions:"Extensions",Interactions:"Interactions","Manage Permissions":"Manage Permissions",JANUARY:"JANUARY",FEBRUARY:"FEBRUARY",MARCH:"MARCH",APRIL:"APRIL",MAY:"MAY",JUNE:"JUNE",JULY:"JULY",AUGUST:"AUGUST",SEPTEMBER:"SEPTEMBER",OCTOBER:"OCTOBER",NOVEMBER:"NOVEMBER",DECEMBER:"DECEMBER"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="set navigator"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return v});var i=n(18),a=n(126),o=n(13),s=n(401),u=(n.n(s),n(11)),c=n.n(u),l=n(58),d=n(125),f=n(8),p=n(12),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=3036,y="DFP",v=function(){function e(t,i,a,s){var u=this;r(this,e),this._store=a,this._preloadPrerollBidsPromise=null,this._options=s,this._unsubs=[];try{var c=this._store.getState(),f=c.window;f.apstag?(this._apstag=f.apstag,this._apstag.init({pubID:t,videoAdServer:i},function(){u._apstag=f.apstag})):this._apstag=new g}catch(e){this._apstag=new g;var p={reason:e.message};n.i(d.a)(this._store,null,l.k,p)}this._unsubFromStreamChanged=n.i(o.a)(this._store,["stream"],this._onStreamChange.bind(this))}return h(e,[{key:"destroy",value:function(){this._unsubFromStreamChanged()}},{key:"preloadPrerollBids",value:function(){var e=this;return this._preloadPrerollBidsPromise=this._getAdsRequestContextForPreroll().then(function(t){return e._willDeclineAds(t)?[]:e._fetchVideoBids(["twitch-preroll"],t,500)}),this._preloadPrerollBidsPromise}},{key:"fetchBids",value:function(e){switch(e.adType){case i.f.PREROLL:return this._fetchPrerollBids(e);case i.f.MIDROLL:return this._fetchMidrollBids(e,1e3);case i.f.POSTROLL:return this._fetchPostrollBids(e,1e3);default:return Promise.resolve([])}}},{key:"getAdRequestContextWithAmazonBids",value:function(e,t){var n=t;return e&&e[0]&&(n.amzniid=e[0].amzniid,n.amznbid=e[0].amznbid),n}},{key:"_fetchPrerollBids",value:function(e){if(!this._preloadPrerollBidsPromise)return this._fetchVideoBids(["twitch-preroll"],e,500);var t=this._preloadPrerollBidsPromise;return this._preloadPrerollBidsPromise=null,t}},{key:"_fetchMidrollBids",value:function(e,t){var n=Array.apply(null,new Array(1)).map(function(e,t){return"twitch-midroll-"+(t+1).toString()});return this._fetchVideoBids(n,e,t)}},{key:"_fetchPostrollBids",value:function(e,t){return this._fetchVideoBids(["twitch-postroll"],e,t)}},{key:"_fetchVideoBids",value:function(e,t,n){var r=this,i={slot_ids:e.join(",")};this._initAndSendAdSpadeEvent(l.l,t,i);var a=this._createSlotsFromSlotIds(e,n);return new Promise(function(n){var o=r._store.getState().window.Date,s=o.now();r._apstag.fetchBids(a,function(a){var u=o.now()-s;i.aax_latency=u;var d=[];a&&a.length&&(d=a.filter(function(t){return"video"===t.mediaType&&c()(e,t.slotID)})),d.length>0?(i.amzniid=d.map(function(e){return e.amzniid}).join(","),i.amznbid=d.map(function(e){return e.amznbid}).join(","),r._initAndSendAdSpadeEvent(l.m,t,i),n(d)):(r._initAndSendAdSpadeEvent(l.j,t,i),n([]))})})}},{key:"_createSlotsFromSlotIds",value:function(e,t){return{slots:e.map(function(e){return{mediaType:"video",slotID:e}}),timeout:t}}},{key:"_onStreamChange",value:function(){this._unsubFromStreamChanged();var e=this._store.getState().stream.contentType;e!==f.a&&e!==p.a||this.preloadPrerollBids()}},{key:"_getAdsRequestContextForPreroll",value:function(){var e=!1;return this._options&&this._options.hasOwnProperty("force_preroll")&&(e=!0),n.i(i.l)(i.f.PREROLL,i.e,this._store.getState(),e)}},{key:"_willDeclineAds",value:function(e){var t=n.i(a.b)(e);return n.i(a.c)(t,e)}},{key:"_initAndSendAdSpadeEvent",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.i(d.b)(t);n.i(d.a)(this._store,null,e,Object.assign({},i,r))}}]),e}(),g=function(){function e(){r(this,e)}return h(e,[{key:"init",value:function(){}},{key:"debug",value:function(){}},{key:"fetchBids",value:function(e,t){t([])}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return f});var i=n(81),a=n(149),o=n(8),s=n(40),u=n(89),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=30,d=function(e){return Array.isArray(e)&&0!==e.length?e.map(function(e){return e._id}).join(","):null},f=function(){function e(t){var a=t.adType,o=t.duration,s=t.requestType,c=t.state,f=t.lastAdDisplay,p=t.forced,h=t.userInfo,m=t.channelInfo,y=t.channelAPIInfo,v=t.viewerInfo,g=t.creativeId,b=t.padtimeExpGroup,_=t.communitiesInfo,w=t.skippableExpGroup,k=t.bismolExpGroup,E=t.citadelExpGroup,S=t.lure,P=t.embedPromo;r(this,e),this.contentType=c.stream.contentType,this.login=h.login,this.adSessionId=n.i(i.a)(l),this.adType=a,this.bismol=k,this.lure=S,this.channel=m.name,this.channelId=m._id,this.chansubToken=v.chansub,this.communityIds=d(_.communities),this.twitchCorrelator=n.i(i.a)(),this.deviceId=u.a(!1),this.duration=o,this.requestType=s,this.hasAdFreeSubscription=Boolean(v.has_ad_free_subscription),this.lastAdDisplay=f,this.forced=p,this.padtime=b,this.requestTime=Date.now(),this.skippableExpGroup=w,this.citadelExpGroup=E,this.creativeId=g,this.embedPromo=P,this._initUserInfoFields(h),this._initChannelInfoFields(m,y),this._initStateFields(c),this._initAmazonFields()}return c(e,[{key:"_initUserInfoFields",value:function(e){this.login=e.login,this.turboToken=e.turbo}},{key:"_initChannelInfoFields",value:function(e,t){this.channel=e.name,this.channelId=e._id,e.game&&(this.game=n.i(s.a)(e.game)),this.mature=e.mature,this.partner=e.partner,this.postrollsEnabled=Boolean(t.postrolls),this.prerollsEnabled=Boolean(t.prerolls)}},{key:"_initStateFields",value:function(e){var t=e.ads,r=e.adsManager,i=e.window;this.contentType=e.stream.contentType,this.adblock=t.adblock,this.vodMidrollBlacklisted=t.vodMidrollBlacklisted,this.isMobileLocation=e.env.isMobileLocation,this.kruxId=i.Krux?i.Krux.user||"":null,this.platform=e.env.platform,this.playerType=e.env.playerType,this.referrer=i.document.referrer,this.url=n.i(a.a)(i.location.href),this.sdk=r.sdk,this._initVodFields(e)}},{key:"_initVodFields",value:function(e){var t=e.playback;this.vod={id:"",name:"",type:"",duration:-1},e.stream.contentType===o.a&&(this.vod.id=e.stream.videoId,this.vod.name=n.i(s.a)(e.streamMetadata.name),this.vod.type=e.streamMetadata.type,this.vod.duration=t.duration)}},{key:"_initAmazonFields",value:function(){this.amzniid="",this.amznbid=""}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"getVastXmlResponse",value:function(e){var t="https://dfp-creative-service.twitch.tv/?creative_id="+e;return this._httpsGet(t).then(function(e){return e&&e.vast_xml_response?e.vast_xml_response:Promise.reject(new Error("Invalid response from dfp-creative-service "+e))})}},{key:"_httpsGet",value:function(e){return fetch(this._convertHttpToHttps(e)).then(function(e){return e.json()})}},{key:"_convertHttpToHttps",value:function(e){return e.replace(/^http:\/\//i,"https://")}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return C});var i=n(47),a=n.n(i),o=n(40),s=n(5),u=n.n(s),c=n(58),l=n(12),d=n(8),f=n(64),p=n(18),h=n(191),m=n(16),y=n(72),v=n(13),g=n(180),b=n(125),_=n(182),w=n(38),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=document.createElement("div");E.className="js-ima-ads-container ima-ads-container";var S=[{width:300,height:250},{width:300,height:60}],P={preroll:p.f.PREROLL,midroll:p.f.MIDROLL,postroll:p.f.POSTROLL},C=function(){function e(t,i,o){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r(this,e),this._videoContainer=t,this._backend=i,this._store=o,this._unsubs=[],this._paused=!1,this._contentPauseRequested=!1,this._eventEmitter=new a.a,this._currentAdsManager=x,this._aaxManager=new g.a(g.b,g.c,this._store,s);var u=this._store.getState(),c=u.window,l=c.google;l&&l.ima&&l.ima.ImaSdkSettings&&(l.ima.settings.setVpaidMode(l.ima.ImaSdkSettings.VpaidMode.INSECURE),this._unsubs.push(n.i(v.a)(this._store,["playerDimensions"],this._resizeAd.bind(this))),this._adContainer=this._videoContainer.appendChild(E.cloneNode()),this._adDisplayContainer=new l.ima.AdDisplayContainer(this._adContainer,this._videoContainer.querySelectorAll("video, object")[0]),this._adDisplayContainer.initialize(),this._moat=new h.a(this._adContainer,this._store),this._setupAdsLoader())}return k(e,[{key:"destroy",value:function(){this._adsLoader.destroy(),this._adDisplayContainer.destroy(),this._aaxManager.destroy(),this._unsubs.forEach(function(e){return e()})}},{key:"requestAds",value:function(e){return this._currentAdsManager.getRemainingTime()>0?Promise.resolve():this._isCreativeIdSet(e)?this._requestAdsInternalWithCreativeId(e):this._requestAdsInternal(e)}},{key:"pause",value:function(){this._paused=!0,this._currentAdsManager.pause()}},{key:"play",value:function(){this._paused=!1,this._currentAdsManager.resume()}},{key:"setVolume",value:function(e){this._currentAdsManager.setVolume(e)}},{key:"setMuted",value:function(e){var t=this._store.getState(),n=t.playback;this._currentAdsManager.setVolume(e?0:n.volume)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"_setupAdsLoader",value:function(){var e=this,t=this._store.getState().window.google;this._adsLoader=new t.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(t.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e._onAdsManagerLoaded(t)}),this._adsLoader.addEventListener(t.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e._onAdError(t)})}},{key:"_onAdsManagerLoaded",value:function(e){var t=this,r=this._store.getState().window.google,i=e.getUserRequestContext();n.i(b.a)(this._store,"ima",c.c,n.i(b.b)(i)),this._currentAdsManager=e.getAdsManager(new T(this._backend),this._getAdRenderSettings()),this._currentAdsManager.addEventListener(r.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t._onAdError(e)}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.RESUMED,function(){return t._store.dispatch(n.i(w.g)())}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.PAUSED,function(){return t._store.dispatch(n.i(w.h)())}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){return t._onContentPauseRequested(i)}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){return t._onContentResumeRequested(i)}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.LOADED,function(e){return t._onAdLoaded(e,i)}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.STARTED,function(e){return t._onAdStarted(e)}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.IMPRESSION,function(e){return t._onAdImpression(e,i)}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.COMPLETE,function(e){return t._onAdEnded(e,i)}),this._currentAdsManager.addEventListener(r.ima.AdEvent.Type.SKIPPED,function(e){return t._onAdSkipped(e,i)}),this._currentAdsManager.init(this._videoContainer.offsetParent.offsetWidth,this._videoContainer.offsetParent.offsetHeight,r.ima.ViewMode.NORMAL),this._currentAdsManager.start()}},{key:"_interruptContent",value:function(){var e=this._store.getState(),t=e.stream;t instanceof l.b?this._backend.setMuted(!0):t instanceof d.b&&!this._backend.getEnded()&&this._store.dispatch(n.i(m.i)())}},{key:"_resumeContent",value:function(){var e=this._store.getState(),t=e.playback,r=e.stream;this._backend.setVolume(t.volume),this._backend.setMuted(t.muted),r instanceof d.b&&!this._backend.getEnded()&&this._store.dispatch(n.i(m.b)())}},{key:"_onAdError",value:function(e){var t=e.getError(),r=e.getUserRequestContext()||{adSessionId:null,adblock:null,adType:null,duration:null},i=n.i(b.b)(r);i.reason=t.getMessage(),i.error_code=t.getErrorCode(),i.error_type=t.getType(),n.i(b.a)(this._store,"ima",c.d,i),this._contentPauseRequested&&(this._contentPauseRequested=!1,this._store.dispatch(n.i(p.i)()),this._resumeContent(),this._eventEmitter.emit(f.AD_ERROR,{roll_type:r.adType})),this._isCreativeIdSet(r)&&console.error("Error playing creative "+r.creativeId+": "+t.getMessage()),this._currentAdsManager.destroy(),this._currentAdsManager=x}},{key:"_onContentPauseRequested",value:function(e){if(this._contentPauseRequested=!0,this._store.getState().ads.currentMetadata.contentType===p.c.NONE){var t=this._store.getState(),r=t.playback;this._currentAdsManager.setVolume(r.muted?0:r.volume),this._interruptContent(),this._store.dispatch(n.i(p.h)({contentType:p.c.IMA,rollType:P[e.adType]})),this._eventEmitter.emit(f.AD_START,{roll_type:e.adType})}}},{key:"_onContentResumeRequested",value:function(e){this._contentPauseRequested=!1,this._store.getState().ads.currentMetadata.contentType!==p.c.NONE&&(this._currentAdsManager=x,this._store.dispatch(n.i(p.i)()),this._eventEmitter.emit(f.AD_END,{roll_type:e.adType}),this._resumeContent())}},{key:"_onAdLoaded",value:function(e,t){var r=this._store.getState(),i=r.playback;this._currentAdsManager.setVolume(i.muted?0:i.volume),this._moat.trackAd(this._currentAdsManager,t),n.i(b.a)(this._store,"ima",c.e,n.i(b.b)(t,e.getAd()))}},{key:"_onAdStarted",value:function(e){var t=e.getAd();S.reduce(function(e,n){return e+t.getCompanionAds(n.width,n.height).length},0)>0&&(this._eventEmitter.emit(f.COMPANION_RENDERED,{provider:"ima"}),this._store.dispatch(n.i(y.b)(f.COMPANION_RENDERED,{provider:"ima"}))),this._store.dispatch(n.i(w.i)())}},{key:"_onAdImpression",value:function(e,t){var r=n.i(b.b)(t,e.getAd()),i=this._store.getState().window.Date;r.request_to_impression_latency=i.now()-this._adRequestTime,n.i(b.a)(this._store,"ima",c.f,r),this._eventEmitter.emit(f.AD_IMPRESSION,{time_break:t.duration})}},{key:"_onAdEnded",value:function(e,t){var r=n.i(b.b)(t,e.getAd());n.i(b.a)(this._store,"ima",c.g,r),this._eventEmitter.emit(f.AD_IMPRESSION_COMPLETE)}},{key:"_onAdSkipped",value:function(e,t){var r=e.getAd(),i=n.i(b.b)(t);u()(i,{ad_id:r.getAdId(),client_time:Date.now(),duration:r.getDuration()}),n.i(b.a)(this._store,"ima",c.h,i),this._eventEmitter.emit(f.AD_SKIPPED)}},{key:"_resizeAd",value:function(e){var t=e.playerDimensions,n=this._store.getState().window.google;this._currentAdsManager.resize(t.width,t.height,n.ima.ViewMode.NORMAL)}},{key:"_getNewAdsRequest",value:function(){var e=this._store.getState().window.google,t=this._videoContainer.offsetParent,n=new e.ima.AdsRequest;return n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,n}},{key:"_requestAdsInternal",value:function(e){var t=this,r=e;return this._requestAaxBids(r).then(function(e){r=t._aaxManager.getAdRequestContextWithAmazonBids(e,r);var i=t._store.getState().window.Date;t._adRequestTime=i.now(),n.i(b.a)(t._store,"ima",c.i,n.i(b.b)(r));var a=t._getNewAdsRequest();a.adTagUrl=n.i(o.e)(r),t._adsLoader.requestAds(a,r)}).catch(function(e){var i=n.i(b.b)(r);i.reason=e.message,n.i(b.a)(t._store,"ima",c.a,i)})}},{key:"_requestAdsInternalWithCreativeId",value:function(e){var t=this;return this._getVastXmlResponse(e).then(function(n){var r=t._getNewAdsRequest();r.adTagUrl="",r.adsResponse=n,t._adsLoader.requestAds(r,e)}).catch(function(n){return console.error("Error requesting creative="+e.creativeId,n.message),t._requestAdsInternal(e)})}},{key:"_requestAaxBids",value:function(e){var t=this;return this._aaxManager.fetchBids(e).catch(function(r){var i=n.i(b.b)(e);return i.reason=r.message,n.i(b.a)(t._store,"ima",c.j,i),Promise.resolve([])})}},{key:"_getVastXmlResponse",value:function(e){return(new _.a).getVastXmlResponse(e.creativeId)}},{key:"_isCreativeIdSet",value:function(e){var t=e.creativeId;return t&&t>0}},{key:"_getTargetAdBitrate",value:function(e){var t=.8*e;return t>=3e3?3e3:t<500?500:t}},{key:"_getAdRenderSettings",value:function(){var e=this._store.getState().window.google,t=this._backend.getStats(),n=t.playbackRate,r=new e.ima.AdsRenderingSettings;return r.restoreCustomPlaybackStateOnAdBreakComplete=!0,n&&(r.bitrate=this._getTargetAdBitrate(n)),r}},{key:"paused",get:function(){return this._paused}},{key:"sdk",get:function(){return"html5"}}]),e}(),T=function(){function e(t){r(this,e),this._backend=t}return k(e,[{key:"currentTime",get:function(){return this._backend.getCurrentTime()}},{key:"duration",get:function(){return this._backend.getDuration()}}]),e}(),O=function(){function e(){r(this,e)}return k(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"start",value:function(){}},{key:"resize",value:function(){}},{key:"pause",value:function(){}},{key:"resume",value:function(){}},{key:"setVolume",value:function(){}},{key:"addEventListener",value:function(){}},{key:"getRemainingTime",value:function(){return-1}}]),e}(),x=new O},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={3546:!0,43691:!0,2128782:!0,2765645:!0,3277261:!0,6094619:!0,8180455:!0,9256066:!0,11561802:!0,13698772:!0,15027034:!0,15409117:!0,16146075:!0,19106200:!0,20786541:!0,20880226:!0,21080562:!0,21534457:!0,21592077:!0,21798759:!0,21877706:!0,21945983:!0,22168131:!0,22253819:!0,22458471:!0,22859264:!0,22892906:!0,23275336:!0,23355079:!0,23420370:!0,23660075:!0,23852822:!0,23951758:!0,24030910:!0,24147592:!0,24208138:!0,24912603:!0,24991333:!0,25080754:!0,25148392:!0,25452510:!0,25681094:!0,25824481:!0,25923265:!0,26269729:!0,26560695:!0,26910286:!0,26963081:!0,26973975:!0,26991613:!0,27754846:!0,27842439:!0,27895562:!0,27934574:!0,27942990:!0,28081485:!0,28174104:!0,28402204:!0,28572093:!0,28604119:!0,28604133:!0,28633374:!0,28633636:!0,28649158:!0,28743898:!0,29009768:!0,29066611:!0,29130375:!0,29285735:!0,29429359:!0,29506118:!0,29549896:!0,29578325:!0,29752577:!0,29795919:!0,30005648:!0,30007283:!0,30023985:!0,30080660:!0,30080751:!0,30080810:!0,30131260:!0,30141561:!0,30171560:!0,30186974:!0,30220059:!0,30610294:!0,30635676:!0,30684909:!0,30917811:!0,31025744:!0,31055118:!0,31089858:!0,31239503:!0,31245897:!0,31497918:!0,31552109:!0,31674671:!0,31712046:!0,31894912:!0,32076015:!0,32099757:!0,32184566:!0,32212533:!0,32224275:!0,32502943:!0,32638197:!0,32803072:!0,32944300:!0,32947748:!0,33185656:!0,33945828:!0,35636374:!0,35744104:!0,35809659:!0,36389882:!0,36464115:!0,36526018:!0,36565390:!0,36619478:!0,36954803:!0,36986190:!0,37181438:!0,37524427:!0,37835958:!0,38024128:!0,38051463:!0,38158341:!0,38265317:!0,38270518:!0,38276909:!0,38421618:!0,38421648:!0,38595639:!0,38646527:!0,38717005:!0,38865133:!0,38948853:!0,39138102:!0,39176474:!0,39812830:!0,39820125:!0,40017619:!0,40057404:!0,40256210:!0,40301754:!0,40336240:!0,40380543:!0,40549818:!0,40550163:!0,40858653:!0,41114907:!0,41343682:!0,41580942:!0,41939266:!0,42056486:!0,42247832:!0,42283037:!0,42460336:!0,42482289:!0,42556012:!0,42596387:!0,42973421:!0,42999001:!0,43025783:!0,43177431:!0,43183012:!0,43379632:!0,43639311:!0,44098497:!0,44099416:!0,44558657:!0,44607270:!0,44842710:!0,44864184:!0,44921835:!0,44944867:!0,45232703:!0,45743861:!0,45866401:!0,45870383:!0,45952312:!0,46003388:!0,46007972:!0,46489877:!0,46512274:!0,46595619:!0,46719113:!0,46780407:!0,47578243:!0,47627824:!0,47696619:!0,47734163:!0,47734541:!0,47836538:!0,47896635:!0,48093884:!0,48550402:!0,48919437:!0,48937001:!0,49092431:!0,49140130:!0,49283297:!0,49495142:!0,49573638:!0,49912895:!0,50293369:!0,50465063:!0,51005597:!0,51133296:!0,51289971:!0,51366401:!0,51891783:!0,51929389:!0,52223987:!0,52229024:!0,52288508:!0,52569422:!0,52638176:!0,52700282:!0,53256534:!0,53373898:!0,54520264:!0,54740008:!0,54825274:!0,54933969:!0,54934114:!0,54937110:!0,55336701:!0,55947845:!0,55949909:!0,57152425:!0,58857695:!0,59114212:!0,59155796:!0,59336873:!0,59365976:!0,59543824:!0,59800003:!0,60014569:!0,61257244:!0,61511133:!0,61716368:!0,61735766:!0,61912072:!0,62438742:!0,63111564:!0,63245412:!0,63262746:!0,63338212:!0,63356519:!0,63443574:!0,63788558:!0,63825346:!0,64113564:!0,64357280:!0,64479508:!0,64520512:!0,65409503:!0,65415391:!0,65757403:!0,66141259:!0,66272516:!0,66302775:!0,66376808:!0,66488107:!0,66809383:!0,66965872:!0,67398168:!0,67772339:!0,67973494:!0,68316308:!0,68540161:!0,68814570:!0,68817171:!0,69207421:!0,69231645:!0,69268865:!0,69955030:!0,70256539:!0,70314299:!0,70357283:!0,70557915:!0,70983974:!0,71558231:!0,71852533:!0,72156698:!0,72182602:!0,72313635:!0,73065110:!0,73437396:!0,74633217:!0,74887420:!0,75262446:!0,75789910:!0,76385901:!0,76451988:!0,76601894:!0,76933150:!0,77208443:!0,77255855:!0,77333886:!0,77646891:!0,77936496:!0,78154140:!0,78344598:!0,78736182:!0,79151886:!0,79240357:!0,79789545:!0,79789576:!0,79789678:!0,80084096:!0,80600477:!0,81346339:!0,81591623:!0,82124919:!0,82310452:!0,82310722:!0,82312033:!0,82345971:!0,83916371:!0,83916681:!0,83920368:!0,84391327:!0,84934385:!0,84935206:!0,85875535:!0,85875551:!0,86441024:!0,86837301:!0,86932052:!0,87564847:!0,88152196:!0,88223086:!0,88239974:!0,88398874:!0,88438363:!0,88571936:!0,88769260:!0,89126936:!0,89201994:!0,89294408:!0,90427687:!0,90816103:!0,91099315:!0,91400871:!0,91433897:!0,94370230:!0,94609053:!0,94790337:!0,95592305:!0,96027370:!0,96457656:!0,96642726:!0,96694318:!0,96832867:!0,98837358:!0,99186412:!0,100227162:!0,100853124:!0,101333727:!0,101898646:!0,102114952:!0,102346837:!0,104263744:!0,104778898:!0,105792242:!0,105886446:!0,106078854:!0,106817042:!0,108446892:!0,108632901:!0,109187324:!0,109724636:!0,110092255:!0,112034182:!0,112677170:!0,112807592:!0,113091400:!0,113155685:!0,113222782:!0,113704627:!0,113743273:!0,115448297:!0,116301733:!0,116311210:!0,118087575:!0,118705921:!0,118749236:!0,118918560:!0,119090642:!0,119310350:!0,119611214:!0,120313608:!0,120355685:!0,121252682:!0,121329766:!0,121520288:!0,122700223:!0,123285052:!0,124021871:!0,124021995:!0,124291386:!0,124318726:!0,124420521:!0,124421740:!0,124656692:!0,124692072:!0,124695018:!0,125640561:!0,126360282:!0,127293628:!0,127302153:!0,127352494:!0,127636980:!0,127824032:!0,128113815:!0,128337179:!0,130345683:!0,131002543:!0,131936709:!0,133518022:!0,134423055:!0,135201683:!0,136095661:!0,136402464:!0,136893234:!0,138539768:!0,142056245:!0,142079337:!0,142128642:!0,142344615:!0,142506321:!0,143099070:!0,143563349:!0,144087661:!0,146532285:!0,146549780:!0,146594479:!0,147081089:!0,147081229:!0,147084252:!0,147519858:!0,149243190:!0,149528464:!0,149564222:!0,149747285:!0,152596920:!0,152597011:!0,152597060:!0,152597179:!0,152597237:!0,152710281:!0,152712189:!0,153036354:!0,153037434:!0,153038048:!0,153038708:!0,153039728:!0,154007302:!0,154892745:!0,154919413:!0,156567621:!0,157859480:!0,158271876:!0,159205343:!0,161717421:!0,162889033:!0,167619740:!0,170395981:!0,170396144:!0}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e.stream instanceof E.b?Promise.resolve(f()({},L,{ns_st_ci:e.streamMetadata.broadcastID,ns_st_st:e.streamMetadata.channel.displayName,ns_st_ep:e.streamMetadata.channel.status,ns_st_ge:x[e.streamMetadata.game]||R,ns_st_ddt:l(new Date(e.streamMetadata.createdAt)),ns_st_ce:!0})):e.stream instanceof S.b?n.i(k.e)(e.stream.videoId).then(function(e){return f()({},L,{ns_st_ci:e.broadcast_id,ns_st_cl:1e3*e.length,ns_st_st:e.channel.display_name,ns_st_ep:e.title,ns_st_ge:x[e.game]||R,ns_st_ddt:l(new Date(e.recorded_at)),ns_st_ce:"archive"===e.broadcast_type})}):Promise.reject(new Error("No stream is currently playing; no metadata is available."))}function a(e){return e.stream instanceof E.b?e.streamMetadata.channel.partner?w.a.StreamingTag.ContentType.Live:w.a.StreamingTag.ContentType.UserGeneratedLive:e.stream instanceof S.b?n.i(k.e)(e.stream.videoId).then(function(e){var t=1e3*e.length>=I;return e.partner?t?w.a.StreamingTag.ContentType.LongFormOnDemand:w.a.StreamingTag.ContentType.ShortFormOnDemand:t?w.a.StreamingTag.ContentType.UserGeneratedLongFormOnDemand:w.a.StreamingTag.ContentType.UserGeneratedShortFormOnDemand}):w.a.StreamingTag.ContentType.Other}function o(e){return{ns_st_cl:(1e3*e.time_break).toString()}}function s(e,t){if(e.stream instanceof E.b)return w.a.StreamingTag.AdType.LinearLive;if(e.stream instanceof S.b)switch(t.roll_type){case b.b:return w.a.StreamingTag.AdType.LinearOnDemandPreRoll;case b.d:return w.a.StreamingTag.AdType.LinearOnDemandMidRoll;case b.c:return w.a.StreamingTag.AdType.LinearOnDemandPostRoll}return w.a.StreamingTag.AdType.Other}function u(e){return y()(e,function(e,t,n){return e[n]=c(t),e},{})}function c(e){switch(e){case!0:return"1";case!1:return"0";case null:return"*null"}return String(e)}function l(e){return e.getUTCFullYear()+"-"+h()(e.getUTCMonth()+1,2,"0")+"-"+h()(e.getUTCDate(),2,"0")}n.d(t,"a",function(){return A});var d=n(5),f=n.n(d),p=n(417),h=n.n(p),m=n(55),y=n.n(m),v=n(20),g=n(64),b=n(40),_=n(150),w=n.n(_),k=n(10),E=n(12),S=n(8),P=n(93),C=n(18),T=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x={Creative:"Creative",Poker:"Poker",Music:"Music"},R="Gaming",I=6e5,L={ns_st_cl:null,ns_st_st:null,ns_st_pu:null,ns_st_pr:null,ns_st_ep:null,ns_st_sn:null,ns_st_en:null,ns_st_ge:null,ns_st_ti:null,ns_st_ia:!1,ns_st_ce:!1,ns_st_ddt:null,ns_st_tdt:null,c3:"TWITCH",c4:"twitch.tv",c6:null},A=function(){function e(t,n,i){r(this,e),this.analytics=t,this.player=n,this.store=i,this.ended=!1;var a=i.getState(),o=a.window;n.addEventListener(v.i,this.onPlaying.bind(this)),n.addEventListener(v.q,this.onPause.bind(this)),n.addEventListener(v.k,this.onSeeking.bind(this)),n.addEventListener(v.m,this.onEnded.bind(this)),n.addEventListener(g.AD_START,this.onAdStart.bind(this)),n.addEventListener(g.AD_IMPRESSION,this.onAdImpression.bind(this)),n.addEventListener(g.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this)),n.addEventListener(g.AD_END,this.onAdEnd.bind(this)),o.addEventListener("beforeunload",this)}return O(e,[{key:"handleEvent",value:function(e){switch(e.type){case"beforeunload":this._stop()}}},{key:"onPlaying",value:function(){var e=this.store.getState(),t=e.stream.contentType;e.ads.currentMetadata.contentType!==C.c.NONE||t!==S.a&&t!==E.a||Promise.all([i(e),a(e)]).then(function(t){var n=T(t,2),r=n[0],i=n[1];e.comscore.streamingTag.playVideoContentPart(u(r),i)}),this.ended=!1}},{key:"onPause",value:function(){this.store.getState().ads.currentMetadata.contentType===C.c.NONE&&this._stop()}},{key:"onSeeking",value:function(){this.analytics.hasPlayed&&!this.player.paused&&(this.ended?(this.store.dispatch(n.i(P.c)()),this.ended=!1):this._stop())}},{key:"onEnded",value:function(){this._stop(),this.ended=!0}},{key:"onAdStart",value:function(e){e.roll_type!==b.c&&this._stop()}},{key:"onAdImpression",value:function(e){var t=this.store.getState();t.comscore.streamingTag.playVideoAdvertisement(u(o(e)),s(t,e))}},{key:"onAdImpressionComplete",value:function(){this._stop()}},{key:"onAdEnd",value:function(e){e.roll_type!==b.c&&this.onPlaying()}},{key:"onBeforeUnload",value:function(){this._stop()}},{key:"destroy",value:function(){this._stop()}},{key:"_stop",value:function(){this.store.getState().comscore.streamingTag.stop()}}]),e}()},function(e,t,n){"use strict";function r(e){this._host=e.host}t.a=r;var i=n(24);r.prototype._trackEvent=function(e){(new Image).src=e},r.prototype.trackVODView=function(e){this._trackEvent(e.increment_view_count_url)},r.prototype.trackView=function(e,t){var n={type:e,id:t},r={u:JSON.stringify(n)},a=this._host+"/ping.gif?"+i.stringify(r);this._trackEvent(a)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return p});var a,o=n(127),s=n(17),u=n.n(s),c=n(72),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=Object.freeze((a={},i(a,o.a.MINUTE_WATCHED,["time","device_id","play_session_id","customer_id","content_id"]),i(a,o.a.VIDEO_PLAY,["time","device_id","play_session_id","customer_id","content_id","time_since_load_start"]),i(a,o.a.BUFFER_EMPTY,["time","device_id","play_session_id","customer_id","content_id","buffer_empty_count"]),i(a,o.b,["time","device_id","play_session_id","customer_id","content_id","reason"]),a)),f=Object.freeze(Object.keys(d)),p=function(){function e(t){r(this,e),this._store=t}return l(e,[{key:"trackEvents",value:function(e){var t=this;e.reduce(function(e,t){var n=t.event,r=t.properties;return f.includes(n)&&e.push({name:n,properties:u()(r,d[n])}),e},[]).forEach(function(e){return t._store.dispatch(n.i(c.c)(e))})}}]),e}()},function(e,t,n){"use strict";function r(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=document.createElement("script"),i=n;i=i||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var a=[],o={adsManager:e,ids:t,imaSDK:!0,events:[]},s={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"},u=void 0,c=void 0;if(google&&google.ima&&e){u="_moatApi"+Math.floor(1e8*Math.random());for(var l in google.ima.AdEvent.Type){var d=function(t){if(o.sendEvent){for(t=a.length-1;0<=t;t--)e.removeEventListener(a[t].type,a[t].func);o.sendEvent(o.events)}else o.events.push({type:s[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[l],d),a.push({type:google.ima.AdEvent.Type[l],func:d})}}var f=void 0;u=void 0!==u?u:"";try{c=i.ownerDocument,f=c.defaultView||c.parentWindow}catch(e){c=document,f=window}f[u]=o,r.type="text/javascript",i&&i.appendChild(r);try{r.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+u}catch(e){}}t.a=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return function(t){return o.v3(t,0)/4294967295<=e}}n.d(t,"a",function(){return c});var a=n(12),o=n(428),s=(n.n(o),n(29)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(){function e(t,n,a,o){r(this,e),this._analytics=t,this._sample=i(n),this._player=a,this._store=o,a.addEventListener(s.m,this._onSegmentChange.bind(this))}return u(e,[{key:"_segmentName",value:function(e){var t=this._store.getState(),n=t.stream,r=t.quality;return(n.contentType===a.a?n.channel.toLowerCase():"")+","+r.current+","+e}},{key:"_onSegmentChange",value:function(e){var t=this._segmentName(e.name);this._sample(t)&&this._store.getState().stream.contentType===a.a&&this._analytics.trackEvent("latency_report_playback",{segment:t,broadcaster_send:e.broadcaster_send,ingest_receive:e.ingest_receive,ingest_send:e.ingest_send,transcode_receive:e.transcode_receive,transcode_send:e.transcode_send,playback_start:e.playback_start})}}]),e}()},function(e,t,n){"use strict";function r(e){this._host=e.host,this._token=e.token}t.a=r;var i=n(23),a=n.n(i),o=n(11),s=n.n(o),u=n(6),c=n(128),l=n(24);r.prototype.trackEvent=function(e,t){if(!s()(u.I,e)){var r=a()({},t,{token:this._token}),i=n.i(c.a)(JSON.stringify({event:e,properties:r})),o=l.stringify({data:i,ip:1});fetch(this._host+"/track?"+o,{method:"GET",cache:"no-cache"})}},r.prototype.trackEvents=function(e){e.forEach(function(e){this.trackEvent(e.event,e.properties)},this)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return o});var i=n(188),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this._adContainer=t,this._moatTracking=i.a,this._google=n.getState().window.google}return a(e,[{key:"trackAd",value:function(t,n){var r=e.buildSlicer(n),i={partnerCode:"twitchvpaid2756206246",viewMode:this._google.ima.ViewMode.NORMAL,slicer1:"www.twitch.tv",slicer2:r};try{this._moatTracking(t,i,this._adContainer)}catch(e){console.error("Moat tracking failed: ",e)}}}],[{key:"buildSlicer",value:function(e){var t="unknown";return e&&e.channel&&(t=e.channel),e&&e.game&&(t=t+" + "+e.game),t}}]),e}()},function(e,t,n){"use strict";function r(e){this._trustedURI=e.trustedURI,this._untrustedHost=e.untrustedHost}t.a=r;var i=n(11),a=n.n(i),o=n(6),s=n(128),u=n(37),c=n.n(u),l=n(24);r.prototype.trackEvent=function(e,t){a()(o.H,e)||(this._send({event:e,properties:t}),"minute-watched"===e&&this._sendToUntrustedHost({event:"x_untrusted_minute-watched_filtered",properties:t}))},r.prototype.trackEvents=function(e){var t=e.filter(function(e){return!a()(o.H,e.event)}),n=c()(t,function(e){return"minute-watched"===e.event});t.length>0&&this._send(t),n&&this._sendToUntrustedHost({event:"x_untrusted_minute-watched_filtered",properties:n.properties})},r.prototype._send=function(e){fetch(this._trustedURI,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:l.stringify({data:n.i(s.a)(JSON.stringify(e))})})},r.prototype._sendToUntrustedHost=function(e){fetch(this._untrustedHost,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:l.stringify({data:n.i(s.a)(JSON.stringify(e))})})}},function(e,t,n){"use strict";function r(){this._viewerSteamId=Promise.reject(),this._channelSteamId=Promise.reject(),this._viewerSteamId.then(null,function(){return null}),this._channelSteamId.then(null,function(){return null})}t.a=r;var i=n(6),a=n(24);r.prototype.viewerInfo=function(e){this._viewerSteamId=e.then(function(e){return e.steam_id?e.steam_id:Promise.reject()}),this._viewerSteamId.then(null,function(){return null})},r.prototype.channelInfo=function(e){this._channelSteamId=e.then(function(e){return e.steam_id?e.steam_id:Promise.reject()}),this._channelSteamId.then(null,function(){return null})},r.prototype.notify=function(){Promise.all([this._channelSteamId,this._viewerSteamId]).then(function(e){var t=e[0],n=e[1];fetch(i.p+"?"+a.stringify({channel:t,viewer:n}))}).then(null,function(){return null})}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.d(t,"a",function(){return h});var i=n(47),a=n.n(i),o=n(389),s=n(6),u=n(10),c=n(20),l=n(130),d=n(68),f=n(29),p=n(44),h={},m=Object.freeze({group:"auto",name:"Auto"});!function(){function e(){function e(){if(window.chrome)if(chrome.cast&&chrome.cast.isAvailable)t.resolve(!0);else{window.__onGCastApiAvailable=function(e){t.resolve(e)};var e=5,n=setInterval(function(){var r=!(!chrome.cast||!chrome.cast.isAvailable);(r||e<=0)&&(t.resolve(r),clearInterval(n)),e--},1e3)}else t.resolve(!1)}var t=new o.a;return fetch("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js",{cache:"no-store",mode:"no-cors"}).then(e).catch(function(){}),t.promise}function t(e){if(e){var t=new chrome.cast.SessionRequest(s.C),n=new chrome.cast.ApiConfig(t,y,g,chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);chrome.cast.initialize(n)}}function i(){j=!1,S()}function y(e){R=e,R.addUpdateListener(v),L&&F?w():A&&F&&k(),R.addMessageListener("urn:x-cast:com.twitch.custom",function(e,t){var n=JSON.parse(t);n.qualities&&(V=n.qualities,O.emit(c.g))})}function v(){switch(R.status){case chrome.cast.SessionStatus.CONNECTED:var e=R.receiver;x.volume!==e.volume.level&&(x.volume=e.volume.level,O.emit(c.r)),x.muted!==e.volume.muted&&(x.muted=e.volume.muted,O.emit(c.r));break;case chrome.cast.SessionStatus.STOPPED:b(null),R.removeUpdateListener(v),R=null,q=!1,S()}}function g(e){j=e===chrome.cast.ReceiverAvailability.AVAILABLE,S()}function b(e){I&&I.removeUpdateListener(_),I=e,q=!1,S(),I&&(I.addUpdateListener(_),N&&(I.seek(N),N=null))}function _(){x.currentTime!==I.currentTime&&(x.currentTime=I.currentTime,O.emit(c.o)),x.volume!==I.volume.level&&(x.volume=I.volume.level,O.emit(c.r)),x.muted!==I.volume.muted&&(x.muted=I.volume.muted,O.emit(c.r)),x.playbackRate!==I.playbackRate&&(x.playbackRate=I.playbackRate,O.emit(c.s));var e=I.playerState;x.playerState!==I.playerState&&(e===chrome.cast.media.PlayerState.PLAYING?O.emit(c.i):e===chrome.cast.media.PlayerState.PAUSED?O.emit(c.q):chrome.cast.media.PlayerState.BUFFERING,x.playerState=I.playerState)}function w(){q=!0,S(),n.i(u.d)(L).then(function(e){var t=new chrome.cast.media.MediaInfo(F,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.LIVE;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.display_name,n.images=[new chrome.cast.Image(e.logo)],t.metadata=n,t.customData={channel:L,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,R.loadMedia(r,b)},function(e){R.stop(),E(e)})}function k(){q=!0,S(),n.i(u.e)(A).then(function(e){var t=new chrome.cast.media.MediaInfo(F,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.OTHER;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.title,n.images=[new chrome.cast.Image(e.preview)],t.metadata=n,t.customData={vod_id:A,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,R.loadMedia(r,b)},function(e){R.stop(),E(e)})}function E(e){e&&(M=e,O.emit(c.b))}function S(){var e=D,t=B;I?(D=l.b,B=d.d):q?(D=l.b,B=d.b):j?(D=l.c,B=d.b):(D=l.d,B=d.b),D!==e&&D===l.b&&O.emit(c.c),B!==t&&(B===d.d?O.emit(c.a):B===d.b&&O.emit(c.m)),O.emit(f.d,P())}function P(){return B===d.b?D===l.d?p.c:D===l.c?p.b:p.e:p.a}function C(e){E(e)}var T=h,O=new a.a,x={},R=void 0,I=void 0,L=void 0,A=void 0,N=void 0,j=void 0,M=void 0,q=void 0,D=void 0,B=void 0,U=!1,F=null,V=[];T.init=function(){O.removeAllListeners(),U||(U=!0,i(),e().then(t))},T.destroy=function(){},T.addEventListener=function(e,t){O.on(e,t)},T.removeEventListener=function(e,t){O.off(e,t)},T.getNetworkProfile=function(){return[]},T.getError=function(){return M},T.getSrc=function(){},T.setSrc=function(){},T.getNetworkState=function(){return D},T.load=function(){chrome.cast.requestSession(y,C)},T.getBuffered=function(){return{length:0}},T.getReadyState=function(){return B},T.getSeeking=function(){},T.getCurrentTime=function(){if(I)return I.getEstimatedTime()},T.setCurrentTime=function(e){window.chrome&&window.chrome.cast&&(N=new chrome.cast.media.SeekRequest,N.currentTime=e,I&&(I.seek(N),N=null))},T.getDuration=function(){},T.getPaused=function(){if(I)return I.playerState===chrome.cast.media.PlayerState.PAUSED},T.getPlaybackRate=function(){return 1},T.setPlaybackRate=function(){},T.getPlayed=function(){},T.getEnded=function(){},T.getAutoplay=function(){},T.setLoop=function(){},T.play=function(){if(I){var e=new chrome.cast.media.PlayRequest;I.play(e)}else T.load()},T.pause=function(){if(I){var e=new chrome.cast.media.PauseRequest;I.pause(e)}},T.getControls=function(){},T.setControls=function(){},T.elapsedTime=function(){},T.getVolume=function(){if(I)return I.volume.level},T.setVolume=function(e){if(I){var t=new chrome.cast.Volume(e,null),n=new chrome.cast.media.VolumeRequest(t);I.setVolume(n)}},T.getMuted=function(){return I?I.volume.muted:R?R.receiver.volume.muted:void 0},T.setMuted=function(e){if(I){var t=new chrome.cast.Volume(null,e),n=new chrome.cast.media.VolumeRequest(t);I.setVolume(n)}},T.getQuality=function(){return"auto"},T.setQuality=function(e){R&&R.sendMessage("urn:x-cast:com.twitch.custom",{quality:e})},T.getQualities=function(){var e=function(e){return Object.assign({},e,{bandwidth:e.bitrate})};return[m].concat(r(V)).map(e)},T.getChannel=function(){return L},T.setChannel=function(e,t){L=e,t.castStreamUrl.then(function(e){F=e,R&&L&&F&&w()})},T.getVideo=function(){return null},T.setVideo=function(e,t){A=e,t.castStreamUrl.then(function(e){F=e,R&&A&&F&&k()})},T.getStats=function(){return{}},T.getVideoInfo=function(){return{}},T.getCaption=function(){},T.getBackend=function(){return"chromecast"},T.stop=function(){R&&R.stop()},T.getDevice=function(){if(R&&R.receiver)return R.receiver.friendlyName},T.absAvailable=function(){}}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="clip backend",o=Object.freeze({autoplay:!0}),s=Object.freeze({mp4:"video/mp4"}),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,n=arguments[1];r(this,e),this._store=n,this._options=t,this._video=document.createElement("video"),this._src="",this._initVideoTag()}return i(e,[{key:"getBackend",value:function(){return a}},{key:"_initVideoTag",value:function(){this._video.autoplay=this._options.autoplay,this._video.preload="auto",this._video.type=s.mp4}},{key:"attach",value:function(e){e.insertBefore(this._video,e.firstChild)}},{key:"destroy",value:function(){this._video=null,this._events=null,this._src=""}},{key:"addEventListener",value:function(e,t){this._video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._video.removeEventListener(e,t)}},{key:"setSrc",value:function(e){this._src=e,this._video.src=e,this.load()}},{key:"load",value:function(){""!==this._src&&this._video.load()}},{key:"play",value:function(){this._video.play()}},{key:"pause",value:function(){this._video.pause()}},{key:"getVolume",value:function(){return this._video.volume}},{key:"setVolume",value:function(e){this._video.volume=e}},{key:"getSeeking",value:function(){return this._video.seeking}},{key:"getCurrentTime",value:function(){return this._video.currentTime}},{key:"setCurrentTime",value:function(e){this._video.currentTime=e}},{key:"getDuration",value:function(){return this._video.duration}},{key:"getPaused",value:function(){return this._video.paused}},{key:"getPlaybackRate",value:function(){return this._video.playbackRate}},{key:"setPlaybackRate",value:function(e){this._video.playbackRate=e}},{key:"getPlayed",value:function(){return this._video.played}},{key:"getEnded",value:function(){return this._video.ended}},{key:"getAutoplay",value:function(){return this.options.autoplay}},{key:"setLoop",value:function(e){this._video.loop=e}},{key:"getMuted",value:function(){return this._video.muted}},{key:"setMuted",value:function(e){this._video.muted=e}},{key:"getQuality",value:function(){}},{key:"setQuality",value:function(e){var t=this._store.getState(),n=t.quality,r=n.available.find(function(t){return t.group===e});if(r)return this.setSrc(r.source);var i=n.available.find(function(e){return"480p30"===e.group});i&&this.setSrc(i.source)}},{key:"getQualities",value:function(){}},{key:"absAvailable",value:function(){return!1}},{key:"getVersion",value:function(){return""}},{key:"getStats",value:function(){return{}}},{key:"getVideoInfo",value:function(){return{}}},{key:"setChannel",value:function(){}},{key:"setVideo",value:function(){}},{key:"elapsedTime",value:function(){}},{key:"getCaption",value:function(){}},{key:"getNetworkState",value:function(){}},{key:"getBuffered",value:function(){}},{key:"getReadyState",value:function(){}},{key:"getError",value:function(){}},{key:"getSrc",value:function(){}}],[{key:"canPlay",value:function(){return!0}}]),e}()},function(e,t,n){"use strict";function r(e,t){function n(n,r,a){a.unshift(r),(r!==d.m||n!==e||t.getEnded())&&(u===n?i(a):m.push(a))}function r(){m.forEach(function(e){i(e)}),m=[]}function i(e){var t=e[0],n=[d.c],r=!1;s()(n,t)&&(r=a()(v,t),v[t]=!0),r||(t===d.m&&(v=[]),h.emit.apply(h,e))}function o(e,t){e.pause(),u=t,r(),e.getDuration()!==t.getDuration()&&h.emit(d.n),e.getCurrentTime()!==t.getCurrentTime()&&h.emit(d.o),e.getBuffered()!==t.getBuffered()&&h.emit(f.b),e.getQuality()!==t.getQuality()&&h.emit(f.k),t.play()}var u,p=this,h=new c.a,m=[],y=[e,t],v={};p.destroy=function(){e.destroy(),t.destroy()},p.addEventListener=function(e,t){h.on(e,t)},p.removeEventListener=function(e,t){h.off(e,t)},p.getNetworkProfile=function(){return u.getNetworkProfile()},p.getError=function(){return u.getError()},p.getSrc=function(){return u.getSrc()},p.absAvailable=function(){return u.absAvailable()},p.setSrc=function(e){y.forEach(function(t){t.setSrc(e)})},p.getNetworkState=function(){return u.getNetworkState()},p.getBuffered=function(){return u.getBuffered()},p.load=function(){u.load()},p.getReadyState=function(){return u.getReadyState()},p.getSeeking=function(){return u.getSeeking()},p.getStats=function(){return u.getStats()},p.getCurrentTime=function(){return u.getCurrentTime()},p.setCurrentTime=function(e){y.forEach(function(t){return t.setCurrentTime(e)})},p.getDuration=function(){return u.getDuration()},p.getPaused=function(){return u.getPaused()},p.getPlaybackRate=function(){return u.getPlaybackRate()},p.setPlaybackRate=function(e){y.forEach(function(t){return t.setPlaybackRate(e)})},p.getPlayed=function(){return u.getPlayed()},p.getEnded=function(){return u.getEnded()},p.getAutoplay=function(){return u.getAutoplay()},p.setLoop=function(e){y.forEach(function(t){t.setLoop(e)})},p.play=function(){u.play()},p.pause=function(){u.pause()},p.getControls=function(){return u.getControls()},p.setControls=function(e){y.forEach(function(t){t.setControls(e)})},p.getVolume=function(){return u.getVolume()},p.setVolume=function(e){y.forEach(function(t){t.setVolume(e)})},p.getMuted=function(){return u.getMuted()},p.setMuted=function(e){y.forEach(function(t){t.setMuted(e)})},p.getQuality=function(){return u.getQuality()},p.setQuality=function(e){y.forEach(function(t){t.setQuality(e)})},p.getQualities=function(){return u.getQualities()},p.setChannel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v={},y.forEach(function(n){n.setChannel(e,t)})},p.elapsedTime=function(){return u.elapsedTime()},p.getBackend=function(){return u.getBackend()},p.setVideo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v={},y.forEach(function(n){n.setVideo(e,t)})},p.getVideoInfo=function(){return u.getVideoInfo()},p.getCaption=function(){return u.getCaption()},function(){u=e.getReadyState()>=e.HAVE_CURRENT_DATA&&!e.getEnded()?e:t,e.addEventListener(d.g,function(){u!==e&&o(t,e)}),e.addEventListener(d.m,function(){u===e&&o(e,t)}),y.forEach(function(e){l.e.forEach(function(t){e.addEventListener(t,function(){var r=Array.prototype.slice.call(arguments);n(e,t,r)})})})}()}t.a=r;var i=n(411),a=n.n(i),o=n(11),s=n.n(o),u=n(47),c=n.n(u),l=n(6),d=n(20),f=n(29)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"_error",value:function(e){console.error("Cannot invoke method "+e+" on NullVideoAPI")}},{key:"play",value:function(){this._error("play")}},{key:"pause",value:function(){this._error("pause")}},{key:"setMuted",value:function(){this._error("setMuted")}},{key:"setVolume",value:function(){this._error("setVolume")}},{key:"setBackend",value:function(){this._error("setBackend")}},{key:"submitVideoIssueReport",value:function(){this._error("submitVideoIssueReport")}},{key:"setPlaybackRate",value:function(){this._error("setPlaybackRate")}},{key:"startCast",value:function(){this._error("startCast")}},{key:"stopCast",value:function(){this._error("stopCast")}},{key:"canPlay",value:function(){this._error("canPlay")}}]),e}()},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=y.filter(function(e){return m[e].canPlay()}),n=a(e);return f()(t,n)}function a(e){return h()(l.f,e)?v:e===l.d?g:b}n.d(t,"b",function(){return m}),t.a=i;var o,s=n(59),u=n(195),c=n(75),l=n(7),d=n(412),f=n.n(d),p=n(11),h=n.n(p),m=Object.freeze((o={},r(o,s.a,s.b),r(o,u.a,u.b),r(o,c.a,c.b),o)),y=Object.freeze([s.a,u.a]),v=Object.freeze([u.a]),g=Object.freeze([s.a]),b=Object.freeze([s.a])},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"trackEvent",value:function(e){console.error("Attempted to track "+e+" on NullAnalyticsTracker")}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"_sendAdCompanionEvent",value:function(e,t){}},{key:"_sendStatsUpdateEvent",value:function(){}},{key:"_sendReadyEvent",value:function(){}},{key:"_sendSeekedEvent",value:function(){}},{key:"_emitWheelEvent",value:function(){}},{key:"_sendFirstPartyAnalyticEvent",value:function(){}},{key:"_sendTransitionToCollectionEvent",value:function(){}},{key:"_sendTransitionToRecommendedVodEvent",value:function(){}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,[{key:"emit",value:function(e){console.error("Attempted to emit "+e+" on NullEventEmitter")}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="//video-edge-bea41e.sjc01.hls.ttvnw.net/v1/playlist/Cqty035lccQpw5eMrKAtatj7xTC5fOgiYJXGMDaYx092rd4wXy5giA9HRTqJprtXjm6j6LOVxHcci51FG0pIK3j_6mI72otfRuQosK-Febx_wgeD2-fMcGcpUlXhL1CUp1eA1tVhDAztrNDJCyyJRdOsNDr5vlfzwE1CoI0ZsI7dLbp6IRYRgpWlajJzu2Om6LBwomyPCmaWd_Z0rZ2fTpW7t-Earxe8JgVdi-wPFbh0s5nV6O0QgzDV9ek9-gFFcjaHRtZ1utJ9U7OCwLyzCtDTCsi1l6q-8qlO2ZNxQFQ78gN19M9bZfYyp9ztVLZngSyjIXQYx2pOFOMRc2JBheRPhuibzhytMKXbk7KVzp-3NlSXZ1P8cYv09cueGXWqm4zeBSxasDiHEExt7hOTRc01kWiDe9maAc1TlxYZdGT09JFau_6eNO5kx3qVJfegGcE6TocxWaR-lxU.m3u8"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return function(t){return function(t){var n=e;return function(e){switch(e.type){case i.c:n=e.tracker;break;case i.d:n.trackEvent(e.eventName,e.eventProperties)}t(e)}}}}t.a=r;var i=n(21),a=n(199),o=new a.a},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(t){return function(t){var n=e;return function(e){switch(e.type){case i.d:n=e.embedHost;break;case i.e:n&&n._sendAdCompanionEvent(e.event,e.data);break;case i.f:n&&n._emitWheelEvent(e.data);break;case i.g:n&&n._sendFirstPartyAnalyticEvent(e.event,e.data);break;case a.j:n&&n._sendTransitionToCollectionEvent({vodId:e.vodId,collectionId:e.collectionId});break;case a.k:n&&n._sendTransitionToRecommendedVodEvent({vodId:e.vodId});break;case s.d:n&&n._sendStatsUpdateEvent();break;case a.l:n&&n._sendReadyEvent();break;case u.I:n&&n._sendSeekedEvent(e.currentTime)}t(e)}}}}t.a=r;var i=n(72),a=n(38),o=n(200),s=n(63),u=n(19),c=new o.a},function(e,t,n){"use strict";(function(e){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return function(n){return function(r){var s=t;return function(t){var f=n.getState(),p=f.screenMode;switch(t.type){case i.m:s=t.emitter;break;case i.n:s.emit(a.j);break;case i.j:s.emit(a.o,{vodId:t.vodId,collectionId:t.collectionId});break;case i.o:s.emit(u.b);break;case i.k:s.emit(a.p,{vodId:t.vodId});break;case c.d:s.emit(a.s);break;case l.e:if(p.isTheatreMode===t.isTheatreMode)break;s.emit(a.n,!p.isFullScreen&&t.isTheatreMode);break;case l.f:e(function(){s.emit(a.n,!p.isFullScreen&&!p.isTheatreMode)});break;case d.m:s.emit(a.a,{channelDisplayName:t.channelName});break;case i.p:s.emit(o.p);break;case i.q:s.emit(o.i);break;case i.r:s.emit(o.q);break;case i.l:s.emit(a.u)}r(t)}}}}t.a=r;var i=n(38),a=n(29),o=n(20),s=n(201),u=n(90),c=n(74),l=n(28),d=n(42),f=new s.a}).call(t,n(400).setImmediate)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return function(t){return function(t){var n=e;return function(e){switch(e.type){case i.j:n=e.video;break;case i.k:n.play();break;case i.l:n.pause();break;case i.m:n.automatedPause();break;case i.n:n.setMuted(e.muted,e.automated);break;case i.o:n.setVolume(e.volume);break;case i.p:n.submitVideoIssueReport(e.issueType);break;case i.q:n.setBackend(e.backendType);break;case i.r:n.setPlaybackRate(e.playbackRate);break;case i.s:n.setCurrentTime(e.seekTime);break;case o.g:n.startCast();break;case o.h:n.stopCast()}t(e)}}}}t.a=r;var i=n(16),a=n(197),o=n(71),s=new a.a},function(e,t,n){"use strict";function r(e,t){function r(){var e=Ae.getState(),t=e.window,r=Ae.getState(),i=r.analyticsTracker;t.google?t.google&&Ae.dispatch(n.i(D.a)(!0)):Te.then(function(){Ae.dispatch(n.i(D.a)(!0))}).catch(function(){Ae.dispatch(n.i(D.a)(!1)),i.trackEvent(p.a,{reason:"ima load failed"})})}function i(e){return e.customerId&&e.contentId?Pe._setContent(e.customerId,e.contentId):e.stream&&e.channelId?Pe._setLiveToVod(e.stream,e.channelId):e.channelId?n.i(X.b)("channels/"+e.channelId).then(function(e){return Pe.setChannel(e.name)}):e.channel?Pe.setChannel(e.channel):e.video&&e.time?Pe.setVideo(e.video,C.a(e.time)):e.video?Pe.setVideo(e.video):ve()}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c()(e)?g.a(e):e;if(Ee(t),!n.i(b.a)()){var r=[k.b,k.c,k.h,k.e];s()(Oe,t.player)||(t=d()(t,_.b)),t.branding=!s()(r,t.player)}return t.backend=u(t),t.allowfullscreen=!1!==t.allowfullscreen&&t.player!==k.i,t=a()(t,{time:t.t}),t=a()(t,{volume:w.a.get("volume"),muted:w.a.get("muted"),backend:w.a.get("backend"),player:t.player===k.a?k.a:k.j()}),t=a()(t,{showInfo:t.channelInfo},{showInfo:!0,branding:!0,volume:.5,muted:!1,controls:!0,autoplay:!0,playsinline:!1,quality:"medium",time:null,leaveDialogEnabled:_.c.enabled,leaveDialogViewerThreshold:_.c.viewerThreshold,refreshWarningEnabled:_.c.enabled,lang:_.d,showtheatre:!1,abs:!1,tt_content:"",tt_medium:""}),Ae.getState().env.platform===M.a&&t.autoplay&&(t.muted=!0),t.tracking=a()({},t.tracking,t.trackingProperties,{player:t.player}),t}function u(e){return I.a}function l(e){Ne.setVolume(e.volume),Ne.setMuted(e.muted),e.debug&&_.e.forEach(function(e){s()(_.f,e)||Ne.addEventListener(e,function(){console.log("video event: ",e)})}),Ne.addEventListener($.b,function(e){console.error("video error:",Ne.getError()||e)})}function f(){return window.Twitch.sentinel?Ce.a.msie?Promise.resolve(!0):Promise.resolve(window.Twitch.sentinel.detect):y.a()}function ve(){return f().then(function(e){return Ae.dispatch(n.i(D.b)(e))},function(){return Ae.dispatch(n.i(D.b)(!0))})}function Ee(e){var t=n.i(ye.a)(Ae.getState().window.location.href);t.queryKey.hasOwnProperty("force_preroll")&&(e.usher_force_preroll=!0,e.force_preroll=t.queryKey.force_preroll),t.queryKey.hasOwnProperty("force_midroll")&&(e.usher_force_midroll=!0,e.force_midroll=t.queryKey.force_midroll),t.queryKey.hasOwnProperty("force_preroll_id")&&(e.force_preroll_id=t.queryKey.force_preroll_id),t.queryKey.hasOwnProperty("force_midroll_id")&&(e.force_midroll_id=t.queryKey.force_midroll_id)}var Pe=this,xe=void 0,Re=void 0,Ie=void 0,Le=void 0,Ae=void 0,Ne=void 0,je=void 0,Me=void 0,qe=void 0,De=void 0,Be=void 0,Ue=void 0,Fe=void 0,Ve=[];Pe._setLiveToVod=function(e,t){var r=function(e){var r=Ae.getState(),i=r.user,a=function(){var e=Ae.getState(),r=e.user;Ae.dispatch(n.i(ge.a)(r.id,t))};if(Ae.dispatch(B.a()),Ae.dispatch(n.i(be.a)(e)),i.loggedInStatus!==ae.a)a();else var o=n.i(_e.a)(Ae,["user.loggedInStatus"],function(e){var t=e.user;o(),t.loggedInStatus===ae.b&&a()})};return n.i(X.b)("content?stream_id="+e+"&channel_id="+t).then(function(t){if(t.stream&&t.stream._id.toString()===e)return Pe.setChannel(t.channel.name);if(t.videos.length>0){var n=t.videos.find(function(e){return"archive"===e.broadcast_type}),i=t.videos.find(function(e){return"highlight"===e.broadcast_type});if(n)return Pe.setVideo(n._id);if(i)return Pe.setVideo(i._id)}r(t.channel.name)}).catch(function(){return n.i(X.b)("channels/"+t).then(function(e){r(e.name)})})},Pe._setContent=function(e,t){var n=B.b({contentType:B.c,customerId:e,contentId:t});return Promise.resolve(Ae.dispatch(n))},Pe.setChannel=function(e){return ve().then(function(){var t=B.b({contentType:B.d,contentId:e});Ae.dispatch(t),Ae.dispatch(n.i(U.a)())})},Pe.setClip=function(e){var t=B.b({contentType:B.e,contentId:e});Ae.dispatch(t),Ae.dispatch(n.i(U.a)())},Pe.setVideo=function(e,t){if("string"==typeof e){var r="v"!==e.charAt(0)?"v"+e:e;return ve().then(function(){var e=B.b({contentType:B.f,contentId:r});Ae.dispatch(e),Ae.dispatch(n.i(U.a)()),Ae.dispatch(n.i(Q.b)(t))})}},Pe.setCollection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments[2];Ae.dispatch(n.i(U.b)(e,t,r))},Pe.setLanguage=function(e){Ae.dispatch(V.b(e))},Pe.setMiniPlayerMode=function(e){Ae.dispatch(n.i(re.a)(e))},Pe.recordClip=function(){Me&&Me.recordClip()},Pe.isPlaying=function(){var e=Ae.getState(),t=e.stream,n=e.onlineStatus,r=t.contentType===te.a,i=n===ie.a;return!Ne.getPaused()&&!Ne.getEnded()&&(i||r)&&Ne.getReadyState()>ee.a},Pe.setTrackingProperties=function(e){Ae.dispatch(n.i(ne.a)(e))},Pe.setPlayerType=function(e){Ae.dispatch(n.i(H.b)(e))},function(){var a=void 0;a="string"==typeof e||e instanceof String?document.getElementById(e):e,Ae=n.i(j.a)(),Ae.dispatch(n.i(G.a)(window));var s=o(t);n.i(X.a)(s),s.debug&&s.verbose&&Ae.subscribe(function(){console.debug("state change: %o",Ae.getState())}),Ae.dispatch(F.a({login:E.cookie.get("login")||null,deviceID:S.a(!1),userAgent:Ae.getState().window.navigator.userAgent})),Ae.dispatch(V.a(s.lang)),Ae.dispatch(n.i(H.a)({deviceId:S.a(!1)})),Ae.dispatch(n.i(H.b)(s.player)),Ae.dispatch(n.i(ne.a)(s.tracking)),Ve.push(new L.a(Ae,s)),Ve.push(new pe.a(Ae)),Ve.push(new he.a(Ae)),Ve.push(new me.a(Ae)),Ve.push(new v.a(Ae)),Ve.push(new ce.a(Ae)),Ve.push(new we.a(Ae)),xe=new m.a(Ae,s),Ae.dispatch(n.i(Y.a)(xe)),Ae.dispatch(n.i(z.a)()),r(),Re=s.allowfullscreen?new A.a(a,Ae):new N.a(a,Ae),qe=new fe.a(Ae),De=new oe.a(Ae),Ne=new T.a(a,Ae,s),Le=new P.a(Ne,Ae,xe,s),s.debug&&(window.state=Le),Be=new se.a(Ae),Be.observe(a),Ue=new ue.a(Ae),s.player===de.g&&(Ve.push(new le.a(Ae)),s.targetOrigin||console.error("Missing targetOrigin option"),Ae.dispatch(n.i(H.c)({targetOrigin:s.targetOrigin}))),n.i(O.a)(Pe,Ne),je=new h.a(Ne,xe,Le,Ae,s),Ae.dispatch(n.i(Q.a)(s.autoplay)),l(s),new x.a(Ne,a,Ae,s),s.controls&&(Me=new Z.a(Le,Ae),Ae.dispatch(n.i(J.a)(Me)),Ie=n.i(R.a)(Ne,a,Ae,Me,s)),Fe=new Se.a(Ne,Le,Ae,s),i(s).then(function(){Ae.dispatch(n.i(q.a)(s)),Ae.dispatch(n.i(ne.a)({content:s.tt_content,medium:s.tt_medium})),Ae.dispatch(n.i(ke.a)())}),Ae.dispatch(n.i(K.a)()),Ne.addEventListener($.a,function(){Ae.dispatch(n.i(W.a)(Re.canFullScreen()))})}(),Pe.destroy=function(){Fe.destroy(),Ie.destroy(),Ne.destroy(),Le.destroy(),je.destroy(),Ve.forEach(function(e){return e.destroy()}),qe.destroy(),De.destroy(),Be.destroy(),Ue.destroy()}}Object.defineProperty(t,"__esModule",{value:!0}),t.Player=r;var i=n(113),a=n.n(i),o=n(11),s=n.n(o),u=n(92),c=n.n(u),l=n(17),d=n.n(l),f=n(112),p=(n.n(f),n(58)),h=n(57),m=n(156),y=n(155),v=n(108),g=n(69),b=n(91),_=n(6),w=n(22),k=n(7),E=n(60),S=(n.n(E),n(89)),P=n(88),C=n(30),T=n(110),O=n(171),x=n(160),R=n(169),I=n(59),L=n(164),A=n(90),N=n(173),j=n(166),M=n(49),q=n(87),D=n(18),B=n(14),U=n(31),F=n(105),V=n(106),z=n(48),H=n(86),G=n(67),W=n(28),K=n(56),Q=n(19),Y=n(21),$=n(20),X=n(10),Z=n(157),J=n(104),ee=n(68),te=n(8),ne=n(107),re=n(33),ie=n(25),ae=n(34),oe=n(158),se=n(162),ue=n(159),ce=n(111),le=n(168),de=n(7),fe=n(109),pe=n(163),he=n(161),me=n(170),ye=n(39),ve=n(29),ge=n(42),be=n(43),_e=n(13),we=n(167),ke=n(38),Ee=n(172),Se=n(165),Pe=n(70),Ce=n.n(Pe);n(175).polyfill(),f.Dobbin.configure({Promise:Promise}),n.p=_.a+"/",n(174);var Te=Promise.resolve();window.google||(Te=n.i(Ee.a)());var Oe=Object.freeze([k.a,k.b,k.c,k.d,k.e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(de.f)));window.Twitch=window.Twitch||{},window.Twitch.video=window.Twitch.video||{},window.Twitch.video.Player=r,window.Twitch.Player=r,window.Twitch.Player.PROMPT_LOGIN=ve.a},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case o.b:return a()({},e,{params:t.params});case s.e:return a()({},e,{params:a()({},e.params,{player_type:t.playerType})});case u.o:return a()({},e,{params:a()({},e.params,{adblock:!1!==t.detected})});default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(114),s=n(86),u=n(18),c={params:{need_https:!1,adblock:!1}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=arguments[1];switch(t.type){case i.b:return t.adsManager;default:return e}}t.a=r;var i=n(115),a=n(98)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.o:return a()({},e,{adblock:t.detected});case o.p:return a()({},e,{clickThrough:t.URL});case o.n:return t.currentMetadata.contentType===o.c.STITCHED?a()({},e,{currentMetadata:t.currentMetadata}):a()({},e,{currentMetadata:t.currentMetadata,clickThrough:s.clickThrough});case o.q:return a()({},e,{imaScriptLoaded:t.imaScriptLoaded});case o.r:return a()({},e,{vodMidrollBlacklisted:t.isBlacklisted});default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(18),s={currentMetadata:{contentType:o.c.NONE,rollType:o.f.NONE},adblock:!1,clickThrough:"",imaScriptLoaded:!1,vodMidrollBlacklisted:!1}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.c:return t.tracker;default:return e}}t.a=r;var i=n(21),a=new Error("Attempting to use tracker too early"),o={trackEvent:function(){return Promise.reject(a)}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.e:return a()({},e,{qualityChangeCount:e.qualityChangeCount+1});case o.f:return a()({},e,{qualityChangeCount:0});case o.g:return a()({},e,{trackingClients:t.clients});case o.h:return a()({},e,{playSessionId:t.playSessionId,playSessionStartTime:t.playSessionStartTime});default:return e}}t.a=r;var i=n(23),a=n.n(i),o=n(61),s={qualityChangeCount:0,playSessionId:"",playSessionStartTime:0,trackingClients:[]}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.b:return a()({},e,{playerBackendType:t.playerBackendType});default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(116),s=n(75),u={playerBackendType:s.a}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new a.b,t=arguments[1];switch(t.type){case i.b:return t.backend;default:return e}}t.a=r;var i=n(117),a=n(75)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.b:return a()({},e,{generator:t.generator});default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(104),s=Object.freeze({recordClip:function(){console.error("Clip Generator not available yet")}}),u=Object.freeze({generator:s})},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.b:return a()({},e,{data:t.communities.data,ids:t.communities.ids});default:return e}}t.a=r;var i=n(23),a=n.n(i),o=n(118),s={data:[{_id:"",owner_id:"",name:"",summary:"",description:"",rules:""}],ids:""}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;switch(arguments[1].type){case o.g:case s.d:return e.streamingTag.stop(),{streamingTag:new a.a.StreamingTag({customerC2:u})};default:return e}}t.a=r;var i=n(150),a=n.n(i),o=n(14),s=n(93),u="6745306",c={streamingTag:new a.a.StreamingTag({customerC2:u})}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case i.c:return{hasError:!0,error:t.error};case i.d:return a;default:return e}}t.a=r;var i=n(94),a={hasError:!1,error:new Error("Error")}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case i.b:return t.experiments;default:return e}}t.a=r;var i=n(105),a=new Error("Attempting to use experiments too early"),o={get:function(){return Promise.reject(a)}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case u.n:return a()({},e,{showFollowNotification:t.show});case u.o:return a()({},e,{fetched:!0},s()(t.followInfo,Object.keys(l)));case c.g:return l;default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(17),s=n.n(o),u=n(42),c=n(14),l={fetched:!1,following:!1,notificationsEnabled:!1,showFollowNotification:!1}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.c,t=arguments[1];switch(t.type){case i.c:return t.lang;default:return e}}t.a=r;var i=n(106),a=n(76)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.g:return l;case i.b:return s()({},e,c()(t.info,Object.keys(l)),{stream_time:parseFloat(t.info.stream_time,10)||0});default:return e}}t.a=r;var i=n(119),a=n(14),o=n(5),s=n.n(o),u=n(17),c=n.n(u),l={abs:!1,broadcast_id:0,cluster:"",manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",origin:"",region:"",segment_protocol:"",server_time:0,serving_id:"",stream_time:0,user_ip:"",suppress:!1,transcodestack:"not listed"}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator,t=arguments[1];switch(t.type){case i.a:return t.navigator;default:return e}}t.a=r;var i=n(179)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case u.c:return a()(t.notification,e);case u.d:return s()(e,1);default:return e}}t.a=r;var i=n(407),a=n.n(i),o=n(422),s=n.n(o),u=n(95),c=[]},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case i.b:return"live"===t.streamMetadata.type||e;case a.a:return t.online;default:return e}}t.a=r;var i=n(43),a=n(73)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.b:return a()({},e,t.playerDimensions);default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(120),s={left:0,top:0,width:0,height:0}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.b:return a()({},e,t.playerOptions);default:return e}}t.a=r;var i=n(54),a=n.n(i),o=n(87),s={branding:!0,showInfo:!0,showtheatre:!1,collection:"",channel:"",channelId:"",video:"",tt_content:"",tt_medium:""}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.m:return a()({},e,{selected:t.quality,bitrate:t.bitrate});case o.n:return a()({},e,{current:t.quality});case o.o:return a()({},e,{available:t.qualities});case o.p:return a()({},e,{absAvailable:t.absAvailable});default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(48),s={absAvailable:!1,current:"",selected:o.h,bitrate:o.i,available:[]}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.k:return s()({},e,{type:t.recommendationsType,videos:t.videos,status:i.j,numVideosVisible:t.videos.length>0?e.numVideosVisible:0});case i.l:return s()({},e,{status:t.status});case i.m:return s()({},e,{numVideosVisible:t.numVids});case i.n:case a.g:return s()({},u);default:return e}}t.a=r;var i=n(50),a=n(14),o=n(5),s=n.n(o),u={type:"",videos:[],numVideosVisible:0,status:i.h}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case h.k:return p()(t,Object.keys(E));case h.l:return s()({},e,{userId:t.userId});case g.a:return s()({},e,{userId:t.userInfo.id});case h.m:return s()({},e,t.resumeTimes.reduce(function(e,t){var n=t.video_id,r=t.position,i=t.type;return i===y.a&&(e.times[n]=r,e.watch[n]=!0),i===v.a&&(e.streamTimes[n]=r),e},{times:{},watch:{},streamTimes:{}}));case h.j:return d()({},e,{times:r({},t.videoID,t.time),watch:r({},t.videoID,!0)});case h.n:return s()({},e,{times:c()(e.times,t.videoID),watch:c()(e.watch,t.videoID)});case h.i:return d()({},e,{streamTimes:r({},t.broadcastID,t.time)});case h.o:return s()({},e,{streamTimes:c()(e.streamTimes,t.broadcastID)});case h.p:return s()({},e,{lastTimeStamp:t.lastTimeStamp});case h.q:return s()({},e,{isSeeked:t.isSeeked});case m.g:return s()({},e,a(t.stream),{isSeeked:!1,lastTimeStamp:0});default:return e}}function a(e){var t={updateInterval:E.updateInterval,initUpdateOffset:E.initUpdateOffset};return e instanceof y.b?(t.updateInterval=b,t.initUpdateOffset=w):e instanceof v.b&&(t.updateInterval=_,t.initUpdateOffset=Math.ceil(Math.random()*k)),t}t.a=i;var o=n(5),s=n.n(o),u=n(154),c=n.n(u),l=n(54),d=n.n(l),f=n(17),p=n.n(f),h=n(56),m=n(14),y=n(8),v=n(12),g=n(96),b=20,_=600,w=2e4,k=48e4,E={times:{},watch:{},streamTimes:{},lastTimeStamp:0,userId:null,initUpdateOffset:0,updateInterval:0,isSeeked:!1}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.g:return a()({},e,{isFullScreen:t.isFullScreen});case o.h:return e.canFullScreen?a()({},e,{isFullScreen:!e.isFullScreen}):e;case o.i:return a()({},e,{canFullScreen:t.canFullScreen});case s.b:return a()({},e,{canTheatreMode:t.playerOptions.showtheatre});case o.e:return a()({},e,{isTheatreMode:t.isTheatreMode});case o.f:return e.canTheatreMode?a()({},e,{isTheatreMode:!e.isTheatreMode}):e;default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(28),s=n(87),u=Object.freeze({isFullScreen:!1,canFullScreen:!1,canTheatreMode:!1,isTheatreMode:!1})},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[o.d],t=arguments[1];switch(t.type){case c.n:switch(t.currentMetadata.contentType){case c.c.IMA:return e[0]!==o.g?[o.g].concat(e):e;case c.c.STITCHED:return e[0]!==o.f?[o.f].concat(e):e;case c.c.NONE:return a()([o.g,o.f],e[0])?e.slice(1):e;default:return e}case o.j:return[t.screen].concat(e);case o.k:return 1===e.length?[o.d]:e.slice(1);case s.g:return a()([o.b,o.a,o.e],e[0])?e.slice(1):e;case u.c:return a()([o.l,o.a],e[0])?e:[o.l].concat(e);case u.d:return e[0]===o.l?e.slice(1):e;default:return e}}t.a=r;var i=n(11),a=n.n(i),o=n(15),s=n(14),u=n(94),c=n(18)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case u.e:return a()({},e,s()(t.settings,l));case u.d:return a()({},e,{persistenceEnabled:Boolean(t.value)});default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(17),s=n.n(o),u=n(74),c={persistenceEnabled:!0},l=Object.keys(c)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case i.d:return u()({},e,{videoStats:o()(t.videoStats,Object.keys(c.videoStats))});case i.e:return u()({},e,{displayed:t.displayed});default:return e}}t.a=r;var i=n(63),a=n(17),o=n.n(a),s=n(5),u=n.n(s),c={videoStats:{bufferSize:0,displayResolution:"",skippedFrames:0,fps:0,hlsLatencyBroadcaster:0,hlsLatencyEncoder:0,memoryUsage:"",playbackRate:0,videoResolution:"",backendVersion:""},displayed:!1}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a,t=arguments[1];switch(t.type){case i.g:return t.stream;default:return e}}t.a=r;var i=n(14),a=n(52)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.c:return a()({},e,t.subscriptions);case o.d:return a()({},e,{didFetch:!0},t.subscriptions);case s.g:return u;default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(121),s=n(14),u={isSubscribed:!1,isSubscribable:!1,didFetch:!1}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.d:return s()({},e,{mutedSegments:t.mutedSegments});case i.e:return s()({},e,{previews:t.previews});case i.f:return s()({},e,{markers:t.markers});case a.g:return u;default:return e}}t.a=r;var i=n(122),a=n(14),o=n(5),s=n.n(o),u={mutedSegments:[],previews:{count:0,lq:{width:0,height:0,rows:0,cols:0,URLs:[""]},hq:{width:0,height:0,rows:0,cols:0,URLs:[""]}},markers:[]}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case u.b:return a()({},e,s()(t.properties,c));default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(17),s=n.n(o),u=n(107),c=["app_session_id","benchmark_session_id","chat_visibility_status","client_app","content","host_channel","medium","page_session_id","player","referrer","referrer_url","tab_session_id"]},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.f:return a()({},e,{isMini:Boolean(t.value)});case o.g:return a()({},e,{showSettings:t.value});default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(33),s={isMini:!1,showSettings:o.c}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.b:return t.params;default:return e}}t.a=r;var i=n(123)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case i.b:return t.streamMetadata.viewers||e;case a.b:return t.count;default:return e}}t.a=r;var i=n(43),a=n(97)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.b:return a()({},e,t.pubsubVodInfo);default:return e}}t.a=r;var i=n(5),a=n.n(i),o=n(124),s=Object.freeze({watchPartyId:"",vodId:"",title:"",viewable:"",broadcastType:"",incrementViewCountURL:""})},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments[1];switch(t.type){case i.b:return t.window;default:return e}}t.a=r;var i=n(67)},function(e,t,n){"use strict";function r(e){return n.i(c.e)(e).then(function(e){return i(e.muted_segments)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null===e?[]:e.length<=1?e:a(e)?o(e.slice(0).sort(function(e,t){return e.offset-t.offset})):Promise.reject(new Error("Muted segments not formatted correctly"))}function a(e){var t=!0;return e.forEach(function(e){e.hasOwnProperty("offset")&&e.hasOwnProperty("duration")&&u()(e.offset)&&u()(e.duration)||(t=!1)}),t}function o(e){return e.reduce(function(e,t){var n=e[e.length-1],r=n.offset+n.duration,i=t.offset+t.duration;return r<t.offset?e.push(t):r<i&&(n.duration=i-n.offset),e},[e[0]])}t.a=r;var s=n(66),u=n.n(s),c=n(10)},function(e,t,n){"use strict";function r(e){return n.i(o.e)(e).then(function(e){return fetch(e.seek_previews_url).then(function(e){return e.json()}).then(function(t){return i(t,e.seek_previews_url)})})}function i(e,t){if(null===e)return Promise.reject(new Error("Raw preview data not available"));var r=n.i(a.a)(t),i=r.protocol+"://"+r.host+r.directory,o={};e.forEach(function(e,t){o[e.quality]=t});var c=o[s],l=o[u];return{count:e[c].count,lq:{width:e[c].width,height:e[c].height,rows:e[c].rows,cols:e[c].cols,URLs:e[c].images.map(function(e){return""+i+e})},hq:{width:e[l].width,height:e[l].height,rows:e[l].rows,cols:e[l].cols,URLs:e[l].images.map(function(e){return""+i+e})}}}t.a=r;var a=n(39),o=n(10),s="low",u="high"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=fetch(w+"ids.json").then(function(e){return e.json()});return Promise.all([t,n.i(l.e)(e)]).then(function(t){var n=b(t,2),r=n[0],i=n[1];return-1===r.indexOf(i.channel._id)?Promise.reject(new Error("Current channel does not have VCA markers")):fetch(""+w+e+".json").then(function(e){return e.json()})}).then(a).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Error("Could not retrieve and/or normalize VCA markers");return console.warn(e.message),[]})}function a(e){if(null===e)return Promise.reject(new Error("Raw VCA marker data not available"));var t=f()(e.data.tags,o);return g()(y()(t,function(t,n){return t.sort(function(e,t){return e.start_sec-t.start_sec}).map(function(t,r){return(0,I[n])(t,r,e.data)})})).filter(function(e){return null!==e}).sort(function(e,t){return e.startTime-t.startTime})}function o(e){switch(e.game_type){case k:if(0===e.game_data.type)return C;break;case P:if(0===e.game_data.type)return x;break;case S:if(0===e.game_data.type)return O;break;case E:if(0===e.game_data.type)return T}return R}function s(e,t,n){return{id:e.id,title:"Match "+(t+1),info:"",startTime:e.start_sec,thumbnail:u(e,n),type:_}}function u(e,t){return null===e.thumbnail_index?L:{imageURL:""+w+t.thumbnail_sheet,x:e.thumbnail_index[1]*t.thumbnail_size[0],y:e.thumbnail_index[0]*t.thumbnail_size[1],width:t.thumbnail_size[0],height:t.thumbnail_size[1],cols:t.sheet_dimensions[1]}}n.d(t,"a",function(){return _}),t.b=i;var c,l=n(10),d=n(153),f=n.n(d),p=n(5),h=n.n(p),m=n(84),y=n.n(m),v=n(152),g=n.n(v),b=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_="game metadata",w="https://clipmn.twitch.tv/prod/",k="lol",E="hs",S="csgo",P="rl",C="leagueOfLegendTags",T="hearthStoneMatchTags",O="counterStrikeMatchTags",x="rocketLeagueMatchTags",R="nonTypedTags",I=(c={},r(c,C,s),r(c,x,s),r(c,O,s),r(c,T,function(e,t,n){return h()(s(e,t,n),{info:"<strong>"+e.game_data.characters[0]+"</strong> vs "+e.game_data.characters[1]})}),r(c,R,function(){return null}),c),L={imageURL:"",x:0,y:0,width:0,height:0,cols:0}},function(e,t,n){"use strict";function r(e){var t=e.substring(e.indexOf("v")+1);return n.i(o.b)("videos/"+t+"/markers").then(function(e){return i(e)})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{markers:[]};return null===e?Promise.reject(new Error("Raw VOD marker data not available")):void 0===e.markers||null===e.markers?Promise.reject(new Error("Raw VOD marker data is misformed")):u()(l()(e.markers,function(e,t){var n=f[t]||p;return e.map(n)})).filter(function(e){return null!==e}).sort(function(e,t){return e.startTime-t.startTime})}function a(e){return{imageURL:""+e.thumbnail.sheet_url,x:e.thumbnail.column*e.thumbnail.width,y:e.thumbnail.row*e.thumbnail.height,width:e.thumbnail.width,height:e.thumbnail.height,cols:e.thumbnail.sheet_cols}}n.d(t,"a",function(){return d}),t.b=r;var o=n(10),s=n(152),u=n.n(s),c=n(84),l=n.n(c),d="game change",f=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"game_changes",function(e){return{title:"",info:"",startTime:e.time,thumbnail:a(e),type:d}}),p=function(){return null}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return v});var a,o=n(153),s=n.n(o),u=n(84),c=n.n(u),l=n(425),d=n.n(l),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p={imageURL:"",x:0,y:0,width:0,height:0,cols:0},h=(a={},i(a,"leagueOfLegendTags",function(e,t,n){return{title:"Match "+(t+1),info:"",startTime:e.start_sec,thumbnail:y(e,t,n)}}),i(a,"hearthStoneMatchTags",function(e,t,n){return{title:"Match "+(t+1),info:"<strong>"+e.game_data.characters[0]+"</strong> vs "+e.game_data.characters[1],startTime:e.start_sec,thumbnail:y(e,t,n)}}),a),m=function(){return null},y=function(e,t,n){return null===e.thumbnail_index?p:{imageURL:"https://clipmn.twitch.tv/prod/"+n.thumbnail_sheet,x:e.thumbnail_index[1]*n.thumbnail_size[0],y:e.thumbnail_index[0]*n.thumbnail_size[1],width:n.thumbnail_size[0],height:n.thumbnail_size[1],cols:n.sheet_dimensions[1]}},v=function(){function e(t,n){r(this,e),this._analytics=t,this._options=n}return f(e,[{key:"getMarkers",value:function(e){fetch("https://clipmn.twitch.tv/prod/channels.json").then(function(e){return e.json()}).then(function(t){if(-1===t.indexOf(e.channel.name))return[];fetch("https://clipmn.twitch.tv/prod/"+e._id+".json").then(function(e){return e.json()}).then(function(e){return _normalizedMarkers(e)})}).catch(function(e){return[]})}},{key:"_normalizedMarkers",value:function(e){if(null===e)return[];var t=s()(e.data.tags,function(e){switch(e.game_type){case"lol":return"leagueOfLegendTags";case"hs":switch(e.game_data.type){case 0:return"hearthStoneMatchTags";case 1:return"hearthStoneOpeningTags"}}return"ungroupedTags"});return Array.prototype.concat.apply([],d()(c()(t,function(t,n){return t.map(function(t,r){return(h[n]||m)(t,r,e.data)})}))).filter(function(e){return null!==e}).sort()}}]),e}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return d});var o=n(80),s=n(45),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},l="none",d=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a._store=n,a.root=e,a.root.setAttribute("data-collection-view",l),a.subscribe(a._store,["collection.currentView"],a.onViewChange.bind(a)),a}return a(t,e),u(t,[{key:"onViewChange",value:function(e){switch(e.collection.currentView){case s.c:this.root.setAttribute("data-collection-view",l);break;case s.b:this.root.setAttribute("data-collection-view","view-collapsed");break;case s.a:this.root.setAttribute("data-collection-view","view-sidebar");break;default:this.root.setAttribute("data-collection-view",l)}}},{key:"destroy",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(o.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(251),u=n(252),c=n(366),l=n(2),d=n.n(l),f={getCurrentTime:o.a.func},p=d()("player-hover","player-controls-bottom","pl-flex","qa-controls-bottom"),h=function(e){var t=e.getCurrentTime;return i.a.createElement("div",{className:p},i.a.createElement(c.a,{getCurrentTime:t}),i.a.createElement(s.a,null),i.a.createElement(u.a,null))};h.propTypes=f},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),i=n.n(r),a=n(339),o=n(380),s=function(){return i.a.createElement("div",{className:"player-buttons-left"},i.a.createElement(a.a,null),i.a.createElement(o.a,null))}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),i=n.n(r),a=n(357),o=n(367),s=n(349),u=n(336),c=n(335),l=n(334),d=n(341),f=n(338),p=n(342),h=function(){return i.a.createElement("div",{className:"player-buttons-right"},i.a.createElement(a.a,null),i.a.createElement(o.a,null),i.a.createElement(s.a,null),i.a.createElement(u.a,null),i.a.createElement("div",{className:"player-menu"},i.a.createElement(c.a,null)),i.a.createElement(l.a,null),i.a.createElement(d.a,null),i.a.createElement(f.a,null),i.a.createElement(p.a,null))}},function(e,t,n){"use strict";function r(e){var t=e.castingState,n=e.onClick;if(t===f.c||!h()(f.d,t))return null;var r=c()({"player-button":!0,"pl-control--chromecast":!0,"pl-chromecast--available":t===f.b,"pl-chromecast--connecting":t===f.e,"pl-chromecast--connected":t===f.a});return s.a.createElement(l.a,{className:r,onClick:n},s.a.createElement(d.a,{label:"Chromecast",iconId:"#icon_chromecast_p1"}),s.a.createElement("svg",{className:"pl-icon--chromecast-connected"},s.a.createElement("use",{xlinkHref:"#icon_chromecast_p2"})),s.a.createElement("svg",{className:"pl-icon--chromecast-connecting-A"},s.a.createElement("use",{xlinkHref:"#icon_chromecast_p3"})),s.a.createElement("svg",{className:"pl-icon--chromecast-connecting-B"},s.a.createElement("use",{xlinkHref:"#icon_chromecast_p4"})),s.a.createElement("svg",{className:"pl-icon--chromecast-connecting-C"},s.a.createElement("use",{xlinkHref:"#icon_chromecast_p5"})))}t.a=r;var i=n(1),a=n.n(i),o=n(0),s=n.n(o),u=n(2),c=n.n(u),l=n(9),d=n(35),f=n(44),p=n(11),h=n.n(p),m={castingState:a.a.string.isRequired,onClick:a.a.func.isRequired};r.propTypes=m},function(e,t,n){"use strict";function r(e){var t=e.hasAltShortcut,n=e.onClip,r=t?"Clip (Alt+X)":"Clip";return a.a.createElement(u.a,{className:"player-button pl-clips-button",onClick:n},a.a.createElement(c.a,{label:r,iconId:"#icon_clips"}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c=n(35),l={hasAltShortcut:s.a.bool.isRequired,onClip:s.a.func.isRequired};r.propTypes=l},function(e,t,n){"use strict";function r(e){var t=e.captionsEnabled,n=e.onDisableCaptions,r=e.onEnableCaptions;return t?a.a.createElement(u.a,{className:p,onClick:n,tabIndex:"-1"},a.a.createElement(c.a,{label:"Captions",iconId:"#icon_cc_on"})):a.a.createElement(u.a,{className:p,onClick:r,tabIndex:"-1"},a.a.createElement(c.a,{label:"Captions",iconId:"#icon_cc_off"}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c=n(35),l=n(2),d=n.n(l),f={captionsEnabled:s.a.bool.isRequired,onDisableCaptions:s.a.func.isRequired,onEnableCaptions:s.a.func.isRequired},p=d()({"player-button":!0});r.propTypes=f},function(e,t,n){"use strict";function r(e){var t=e.canFullScreen,n=e.hasBranding,r=e.isFullScreen,i=e.onFullScreen,o=e.onUnFullScreen,s=d()({"player-button":!0,"qa-fullscreen-button":!0,"pl-button__fullscreen--cannot-fullscreen":!t,"mg-r-1":!n,"pl-button__fullscreen--tooltip-left":!n});return r?a.a.createElement(u.a,{className:s,onClick:o,disabled:!t,tabIndex:"-1"},a.a.createElement(c.a,{label:"Exit Fullscreen",iconId:"#icon_unfullscreen"})):a.a.createElement(u.a,{className:s,onClick:i,disabled:!t,tabIndex:"-1"},a.a.createElement(c.a,{label:"Fullscreen",iconId:"#icon_fullscreen"}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c=n(35),l=n(2),d=n.n(l),f={canFullScreen:s.a.bool.isRequired,hasBranding:s.a.bool.isRequired,isFullScreen:s.a.bool.isRequired,onFullScreen:s.a.func.isRequired,onUnFullScreen:s.a.func.isRequired};r.propTypes=f},function(e,t,n){"use strict";function r(e){var t=e.paused,n=e.onPlay,r=e.onPause,i=d()({"player-button":!0,"qa-pause-play-button":!0});return t?a.a.createElement(u.a,{className:i,onClick:n,tabIndex:"-1"},a.a.createElement(c.a,{label:"Play",iconId:"#icon_play",labelClass:"player-tip--aleft"})):a.a.createElement(u.a,{className:i,onClick:r,tabIndex:"-1"},a.a.createElement(c.a,{label:"Pause",iconId:"#icon_pause",labelClass:"player-tip--aleft"}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c=n(35),l=n(2),d=n.n(l),f={paused:s.a.bool.isRequired,onPlay:s.a.func.isRequired,onPause:s.a.func.isRequired};r.propTypes=f},function(e,t,n){"use strict";function r(e){var t=e.theatreModeEnabled,n=e.turnOn,r=e.turnOff;return t?a.a.createElement(u.a,{className:p,onClick:r,tabIndex:"-1"},a.a.createElement(c.a,{label:"Exit Theatre Mode",iconId:"#icon_theatre_deactivate"})):a.a.createElement(u.a,{className:p,onClick:n,tabIndex:"-1"},a.a.createElement(c.a,{label:"Theatre Mode",iconId:"#icon_theatre"}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c=n(35),l=n(2),d=n.n(l),f={theatreModeEnabled:s.a.bool.isRequired,turnOn:s.a.func.isRequired,turnOff:s.a.func.isRequired},p=d()({"player-button":!0,"qa-theatre-mode-button":!0});r.propTypes=f},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(9),u=n(35),c=n(2),l=n.n(c),d={onClick:o.a.func.isRequired},f={onClick:function(){}},p=l()("player-button","player-button--twitch","qa-watch-twitch-button"),h=function(e){var t=e.onClick;return i.a.createElement(s.a,{className:p,onClick:t},i.a.createElement(u.a,{label:"Watch on Twitch",iconId:"#icon_twitch",labelClass:"player-tip--aright"}))};h.propTypes=d,h.defaultProps=f},function(e,t,n){"use strict";function r(e){var t=e.currentAlignment,n=e.onSelect,r=e.t;return a.a.createElement("div",{className:"cc-customize-field"},a.a.createElement("label",{htmlFor:"ccAlignment"},r("Alignment")),a.a.createElement(c.a,{currentValue:t,onSelect:n,options:h}))}n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(65)),l={currentAlignment:s.a.string.isRequired,onSelect:s.a.func.isRequired,t:s.a.func.isRequired},d=Object.freeze({value:"left",text:"Left"}),f=Object.freeze({value:"center",text:"Center"}),p=Object.freeze({value:"right",text:"Right"}),h=Object.freeze([d,f,p]);r.propTypes=l;var m=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){return function(t){"Enter"===t.key&&e()}}function i(e){var t=e.currentPanel,n=e.selectPanel,i=e.t,a=v.map(function(e,a){var s=function(){return n(e)},u=l()({"player-tabs__item":!0,"player-tabs__item--active":t===e});return o.a.createElement("li",{key:e+"__"+a,className:u},o.a.createElement("a",{onClick:s,onKeyUp:r(s),role:"button",tabIndex:0},i(e)))});return o.a.createElement("ul",{className:"player-tabs clearfix"},a)}n.d(t,"a",function(){return _});var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(2),l=n.n(c),d=n(4),f=(n.n(d),n(143)),p=n(144),h=n(142),m=n(141),y=n(145),v=[f.a,p.a,h.a,m.a,y.a],g={currentPanel:u.a.string.isRequired,selectPanel:u.a.func.isRequired,t:u.a.func.isRequired},b={t:function(){}};i.propTypes=g,i.defaultProps=b;var _=n.i(d.translate)()(i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return S});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(4),d=(n.n(l),n(9)),f=n(261),p=n(143),h=n(144),m=n(142),y=n(141),v=n(145),g=n(2),b=n.n(g),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={onClose:c.a.func.isRequired,t:c.a.func.isRequired},k={t:function(){}},E=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.selectPanel=e.selectPanel.bind(e),e.state={currentPanel:p.a},e}return a(t,e),_(t,[{key:"selectPanel",value:function(e){this.setState({currentPanel:e})}},{key:"getPanelComponent",value:function(){switch(this.state.currentPanel){case p.a:return s.a.createElement(p.b,null);case m.a:return s.a.createElement(m.b,null);case y.a:return s.a.createElement(y.b,null);case v.a:return s.a.createElement(v.b,null);case h.a:return s.a.createElement(h.b,null);default:return s.a.createElement(p.b,null)}}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.t,r=this.state.currentPanel,i=b()({"pl-modal__content":!0,"pl-modal__content--text":r===h.a});return s.a.createElement("div",{className:i},s.a.createElement(d.a,{className:"pl-modal__close",onClick:t},s.a.createElement("svg",null,s.a.createElement("use",{xlinkHref:"#icon_close_modal"}))),s.a.createElement("h2",{className:"pl-modal__header"},n("Closed Caption Settings")),s.a.createElement(f.a,{selectPanel:this.selectPanel,currentPanel:r}),this.getPanelComponent(r))}}]),t}(s.a.Component);E.propTypes=w,E.defaultProps=k;var S=n.i(l.translate)()(E)},function(e,t,n){"use strict";function r(e){var t=e.boldText,n=e.italicText,r=e.underlineText,i=e.selectTextEffect,o=e.selectTextStyle,s=e.currentTextEffect;return a.a.createElement("div",{className:"cc-panel-menu-frame"},a.a.createElement(u.a,{boldText:t,italicText:n,underlineText:r,selectTextStyle:o}),a.a.createElement(c.a,{currentTextEffect:s,selectTextEffect:i}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(272),c=n(270),l={boldText:s.a.bool.isRequired,italicText:s.a.bool.isRequired,underlineText:s.a.bool.isRequired,currentTextEffect:s.a.string.isRequired,selectTextEffect:s.a.func.isRequired,selectTextStyle:s.a.func.isRequired};r.propTypes=l},function(e,t,n){"use strict";function r(e){var t=e.t,n=e.currentFont,r=e.onSelect;return a.a.createElement("div",{className:"cc-customize-field"},a.a.createElement("label",{htmlFor:"fontLabel"},t("Font")),a.a.createElement(c.a,{currentValue:n,onSelect:r,options:g}))}n.d(t,"a",function(){return b});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(65)),l={currentFont:s.a.string.isRequired,onSelect:s.a.func.isRequired,t:s.a.func.isRequired},d=Object.freeze({value:"mono-serif",text:"Mono Serif"}),f=Object.freeze({value:"prop-serif",text:"Serif"}),p=Object.freeze({value:"mono-sans-serif",text:"Mono Sans-Serif"}),h=Object.freeze({value:"prop-sans-serif",text:"Sans-Serif"}),m=Object.freeze({value:"casual",text:"Casual"}),y=Object.freeze({value:"cursive",text:"Cursive"}),v=Object.freeze({value:"small-capitals",text:"Small Capitals"}),g=Object.freeze([d,f,p,h,m,y,v]);r.propTypes=l;var b=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.currentOpacity,n=e.onSelect,r=e.t;return a.a.createElement("div",{className:"cc-customize-field"},a.a.createElement("label",{htmlFor:"fontOpacity"},r("Opacity")),a.a.createElement(c.a,{currentValue:t,onSelect:n,options:m}))}n.d(t,"a",function(){return y});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(65)),l={currentOpacity:s.a.string.isRequired,onSelect:s.a.func.isRequired,t:s.a.func.isRequired},d=Object.freeze({value:"solid",text:"Solid"}),f=Object.freeze({value:"translucent",text:"Translucent"}),p=Object.freeze({value:"semiTransparent",text:"Semi-Transparent"}),h=Object.freeze({value:"flashing",text:"Flashing"}),m=Object.freeze([d,f,p,h]);r.propTypes=l;var y=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.onSelect,n=e.currentOpacity,r=e.t;return a.a.createElement("div",{className:"cc-customize-field"},a.a.createElement("label",{htmlFor:"bgOpacity"},r("Opacity")),a.a.createElement(u.a,{currentValue:n,onSelect:t,options:p}))}n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(65),c=n(4),l=(n.n(c),{currentOpacity:s.a.string.isRequired,onSelect:s.a.func.isRequired,t:s.a.func.isRequired}),d=Object.freeze({text:"Solid",value:"solid"}),f=Object.freeze({text:"Translucent",value:"translucent"}),p=Object.freeze([d,f]);r.propTypes=l;var h=n.i(c.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.currentPosition,n=e.onSelect,r=e.t;return a.a.createElement("div",{className:"cc-customize-field"},a.a.createElement("label",{htmlFor:"verticalPosition"},r("Position")),a.a.createElement(c.a,{currentValue:t,onSelect:n,options:p}))}n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(65)),l={currentPosition:s.a.string.isRequired,onSelect:s.a.func.isRequired,t:s.a.func.isRequired},d=Object.freeze({value:"bottom",text:"Bottom"}),f=Object.freeze({value:"top",text:"Top"}),p=Object.freeze([d,f]);r.propTypes=l;var h=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){return"string"==typeof e&&e.indexOf("trans")>-1}function i(e){return function(t){"Enter"===t.key&&e()}}function a(e){var t=e.onSelect,n=e.selectedValue,a=h.map(function(e){var a=function(){return t(e)},o=i(a),u=d()({"cc-preset-square":!0,"cc-transparent-bg":r(e),"js-cc-preset-selected":e===n});return s.a.createElement("div",{className:u,onClick:a,onKeyUp:o,tabIndex:-1,role:"button","data-preset":e,key:"cc-preset-"+e},"Aa")});return s.a.createElement("div",{className:"cc-panel-menu-frame cc-panel-menu-frame__presets"},a)}t.a=a;var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(51),p={onSelect:c.a.func.isRequired,selectedValue:c.a.string.isRequired},h=Object.freeze(Object.keys(f.b));a.propTypes=p},function(e,t,n){"use strict";function r(e){var t=e.increaseSize,n=e.decreaseSize,r=e.t;return a.a.createElement("div",{className:"cc-customize-field"},a.a.createElement("label",{htmlFor:"sizePalette"},r("Size")),a.a.createElement(c.a,{className:"cc-font-size cc-font-size--increment",onClick:t},"A",a.a.createElement("span",{className:"player-tip","data-tip":r("Increase Size")})),a.a.createElement(c.a,{className:"cc-font-size cc-font-size--decrement",onClick:n},"A",a.a.createElement("span",{className:"player-tip","data-tip":r("Decrease Size")})))}n.d(t,"a",function(){return d});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(9)),l={increaseSize:s.a.func.isRequired,decreaseSize:s.a.func.isRequired,t:s.a.func.isRequired};r.propTypes=l;var d=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n;return y[e]&&y[t]?p()((n={"pl-cc-button":!0,"cc-edge-palette__square":!0},r(n,"cc-edge-palette__square--"+e,!0),r(n,"pl-cc-button--selected",e===t),n)):"cc-edge-palette__square"}function a(e){var t=e.currentTextEffect,n=e.selectTextEffect,r=e.t,a=Object.keys(y).map(function(e){var r=function(){return n(e)},a=i(e,t),o=g(r),s=e===m?u.a.createElement("hr",{className:"cc-edge-disabled"}):null;return u.a.createElement("div",{className:"cc-edge-palette__container",key:"cc-text-effect-palette."+e},s,u.a.createElement("div",{role:"button",tabIndex:-1,htmlFor:"edge-effect-"+e,className:a,onClick:r,onKeyUp:o},h))});return u.a.createElement("div",{className:"cc-customize-field"},u.a.createElement("div",null,r("Effect")),u.a.createElement("div",{className:"cc-edge-palette"},a))}n.d(t,"a",function(){return b});var o,s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=n(4),f=(n.n(d),n(2)),p=n.n(f),h="Aa",m="none",y=Object.freeze((o={},r(o,m,!0),r(o,"raised",!0),r(o,"drop",!0),r(o,"depressed",!0),r(o,"uniform",!0),o)),v={currentTextEffect:l.a.string.isRequired,selectTextEffect:l.a.func.isRequired,t:l.a.func.isRequired},g=function(e){return function(t){"Enter"===t.key&&e()}};a.propTypes=v;var b=n.i(d.translate)()(a)},function(e,t,n){"use strict";function r(e){var t=e.currentAlignment,n=e.currentColor,r=e.currentFont,i=e.currentFontSize,o=e.currentPosition,s=e.currentOpacity,m=e.selectFontChange,E=function(e){return m(_,e)},S=function(e){return m(g,e)},P=function(e){return m(v,e)},C=function(e){return m(b,e)},T=function(e){return m(w,e)},O=function(){i<h.a.max&&m(k,i+h.a.increment)},x=function(){i>h.a.min&&m(k,i+h.a.decrement)};return a.a.createElement("div",{className:"cc-panel-menu-frame"},a.a.createElement(u.a,{currentFont:r,onSelect:P}),a.a.createElement(c.a,{currentAlignment:t,onSelect:C}),a.a.createElement(f.a,{currentColor:n,onSelect:S,colors:y}),a.a.createElement(l.a,{currentPosition:o,onSelect:E}),a.a.createElement(d.a,{currentOpacity:s,onSelect:T}),a.a.createElement(p.a,{increaseSize:O,decreaseSize:x}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(264),c=n(260),l=n(267),d=n(265),f=n(135),p=n(269),h=n(51),m={currentAlignment:s.a.string.isRequired,currentColor:s.a.string.isRequired,currentFont:s.a.string.isRequired,currentFontSize:s.a.number.isRequired,currentPosition:s.a.string.isRequired,currentOpacity:s.a.string.isRequired,selectFontChange:s.a.func.isRequired},y=Object.freeze(["white","black","red","green","cyan","magenta","yellow","blue"]),v="font",g="fontColorName",b="alignment",_="verticalPosition",w="fontOpacity",k="fontSize";r.propTypes=m},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n;return y[e]&&void 0!==t?p()((n={"pl-cc-button":!0,"cc-style-palette__square":!0},r(n,"cc-style-palette__square--"+e,!0),r(n,"pl-cc-button--selected",t),n)):"cc-style-palette__square"}function a(e){var t=e.t,n=e.selectTextStyle,r=m()(y,function(t,r){var a=t.text,o=t.enabledPropName,s=t.styleMapName,c=function(){var t=e[o]?"none":r;n(s,t)},l=g(c),d=i(r,e[o]);return u.a.createElement("div",{className:"cc-style-palette__container",key:"text-style-palette."+r},u.a.createElement("div",{role:"button",tabIndex:-1,htmlFor:"style-"+r,className:d,onClick:c,onKeyUp:l},a))});return u.a.createElement("div",{className:"cc-customize-field"},u.a.createElement("div",null,t("Style")),u.a.createElement("div",{className:"cc-style-palette"},r))}n.d(t,"a",function(){return b});var o,s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=n(4),f=(n.n(d),n(2)),p=n.n(f),h=n(84),m=n.n(h),y=Object.freeze((o={},r(o,"bold",{text:"B",enabledPropName:"boldText",styleMapName:"fontBold"}),r(o,"italic",{text:"I",enabledPropName:"italicText",styleMapName:"fontItalic"}),r(o,"underline",{text:"U",enabledPropName:"underlineText",styleMapName:"fontUnderline"}),o)),v={boldText:l.a.bool.isRequired,italicText:l.a.bool.isRequired,underlineText:l.a.bool.isRequired,selectTextStyle:l.a.func.isRequired,t:l.a.func.isRequired},g=function(e){return function(t){"Enter"===t.key&&e()}};a.propTypes=v;var b=n.i(d.translate)()(a)},function(e,t,n){"use strict";function r(e){var t=e.t;return a.a.createElement("div",{className:l},a.a.createElement("div",{className:"player-center-content"},a.a.createElement("p",null,t("This collection is empty."))))}n.d(t,"a",function(){return d});var i=n(0),a=n.n(i),o=n(4),s=(n.n(o),n(2)),u=n.n(s),c={t:i.PropTypes.func.isRequired},l=u()("player-overlay","player-overlay--wall","player-overlay--empty-collection");r.propTypes=c;var d=n.i(o.translate)()(r)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n.n(r),a=n(9),o=n(2),s=n.n(o),u=n(391),c=n(4),l=(n.n(c),{title:r.PropTypes.string.isRequired,ownerURL:r.PropTypes.string.isRequired,ownerName:r.PropTypes.string.isRequired,itemsLength:r.PropTypes.number.isRequired,totalDuration:r.PropTypes.number.isRequired,onClose:r.PropTypes.func.isRequired,t:r.PropTypes.func.isRequired}),d=s()("collection-sidebar-header__title","ellipsis","qa-collection-header-title"),f=function(e){var t=e.title,r=e.ownerURL,o=e.ownerName,s=e.itemsLength,l=e.totalDuration,f=e.onClose,p=e.t,h=i.a.createElement(a.a,{className:"player-button",onClick:f},i.a.createElement("svg",null,i.a.createElement("use",{xlinkHref:"#icon_close_md"}))),m=i.a.createElement("a",{className:"qa-collection-sidebar-author",href:r},o),y=null,v=n.i(u.a)(1e3*l),g=v.minutes,b=v.hours,_=p("{{count}} minute",{count:g}),w=p("{{count}} hour",{count:b});return y=0===b?_:0===g?w:p("{{hoursText}} and {{minutesText}}",{hoursText:w,minutesText:_}),i.a.createElement("div",{className:"collection-sidebar-header"},i.a.createElement("div",{className:"collection-sidebar-header__layout"},i.a.createElement("div",{className:d},t),i.a.createElement("div",{className:"collection-sidebar-header-meta"},i.a.createElement("span",null,i.a.createElement(c.Interpolate,{i18nKey:"By {{author}}",author:m})),i.a.createElement("span",{className:"middot-divider"}),i.a.createElement("span",null,p("{{count}} video",{count:s})),i.a.createElement("span",{className:"middot-divider"}),i.a.createElement("span",null,y))),h)};f.propTypes=l;var p=n.i(c.translate)()(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var o=n(0),s=n.n(o),u=n(2),c=n.n(u),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d={index:o.PropTypes.number.isRequired,onSelect:o.PropTypes.func.isRequired,selectItem:o.PropTypes.any.isRequired,isActive:o.PropTypes.bool,thumbnailURL:o.PropTypes.string.isRequired,title:o.PropTypes.string.isRequired,subTitle:o.PropTypes.string},f={isActive:!1,subTitle:""},p=c()("collection-sidebar-item__number","pl-flex__item","qa-collection-item-number"),h=c()("collection-sidebar-item__thumbnail","pl-flex__item","qa-collection-item-thumbnail"),m=c()("collection-sidebar-item-detail","pl-flex__item"),y=c()("collection-sidebar-item-detail__title","qa-collection-item-title"),v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.thumbnailURL,r=e.title,i=e.subTitle,a=e.index,o=c()({"collection-sidebar-item":!0,"collection-sidebar-item--active":t,"pl-flex":!0,"pl-flex--verticalCenter":!0,"pl-flex--nowrap":!0});return s.a.createElement("div",{className:o,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},s.a.createElement("div",{className:p},a+1),s.a.createElement("img",{className:h,alt:"Thumbnail of one of the videos in the collection.",src:n}),s.a.createElement("div",{className:m},s.a.createElement("div",{className:y},r),s.a.createElement("div",{className:"collection-sidebar-item-detail__meta"},s.a.createElement("span",{className:"qa-collection-item-channel"},i))))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}}]),t}(s.a.Component);v.propTypes=d,v.defaultProps=f},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),o=n(275),s=n(274),u=n(280),c=n(2),l=n.n(c),d={currentItemIndex:i.PropTypes.number,collection:i.PropTypes.object.isRequired,onSelectItem:i.PropTypes.func,onClose:i.PropTypes.func.isRequired,className:i.PropTypes.string,onMouseEnter:i.PropTypes.func,onMouseLeave:i.PropTypes.func},f={className:"",currentItemIndex:-1,onSelectItem:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},p=function(e){var t=e.currentItemIndex,n=e.collection,i=e.onSelectItem,u=e.onClose,c=e.className,d=e.onMouseEnter,f=e.onMouseLeave,p=l()(r({"collection-sidebar":!0},c,!0)),h=n.items.map(function(e,n){var r=n===t;return a.a.createElement(o.a,{key:r+"_"+e.itemId+"_"+e.title,onSelect:i,selectItem:e.itemId,isActive:r,thumbnailURL:e.thumbnails.small,title:e.title,subTitle:e.owner.displayName,index:n})});return a.a.createElement("div",{className:p,onMouseEnter:d,onMouseLeave:f},a.a.createElement(s.a,{title:n.title,ownerURL:"https://twitch.tv/"+n.owner.name,ownerName:n.owner.displayName,itemsLength:n.items.length,totalDuration:n.totalDuration,onClose:u}),a.a.createElement("div",{className:"collection-sidebar-item-container"},h))};p.propTypes=d,p.defaultProps=f;var h=n.i(u.a)(p,{showDuration:350,hideDuration:350,showClass:"collection-sidebar--open",hideClass:"collection-sidebar--close"})},function(e,t,n){"use strict";function r(e){var t=e.collectionItems,n=e.showDivider,r=e.onMouseEnter,i=e.onMouseLeave,o=e.showSidebar,s=e.streamId,u=e.t,c=e.title,d=n?a.a.createElement("div",{className:"collection-divider"}):null,f=u("{{currentPosition}}/{{totalVideos}} videos",{currentPosition:l()(t,{itemId:s})+1,totalVideos:t.length});return a.a.createElement("div",{className:"collection-nav"},a.a.createElement("div",{className:"collection-collapsed__layout",onMouseEnter:r,onMouseLeave:i,onClick:o,onKeyUp:o,tabIndex:0,role:"button"},a.a.createElement("div",{className:y},a.a.createElement(p.a,{className:v,onClick:o},a.a.createElement("svg",null,a.a.createElement("use",{xlinkHref:"#icon_open_collection"}))),a.a.createElement("div",{className:g},a.a.createElement("div",{className:b},c),a.a.createElement("span",{className:_}),a.a.createElement("span",{className:w},f)))),d)}n.d(t,"a",function(){return k});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(83)),l=n.n(c),d=n(2),f=n.n(d),p=n(9),h={collectionItems:s.a.array.isRequired,showDivider:s.a.bool.isRequired,onMouseEnter:s.a.func,onMouseLeave:s.a.func,showSidebar:s.a.func,streamId:s.a.string.isRequired,t:s.a.func,title:s.a.string.isRequired},m={showSidebar:function(){},t:function(){},onMouseEnter:function(){},onMouseLeave:function(){}},y=f()("pl-flex","pl-flex--verticalCenter","pl-flex--nowrap"),v=f()("collection-button","pl-flex__item"),g=f()("collection-collapsed-info","pl-flex","pl-flex--verticalCenter","pl-flex__item"),b=f()("collection-collapsed-info__title","qa-collection-collapsed-title","pl-flex__item"),_=f()("middot-divider","pl-flex__item"),w=f()("collection-collapsed-info__number","qa-collection-collapsed-progress","pl-flex__item");r.propTypes=h,r.defaultProps=m;var k=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.thumbnailURL,n=e.onSelect,r=e.featuredCollection,i=a.a.createElement("span",null,a.a.createElement("figure",{className:"pl-card__smallicon"},a.a.createElement("svg",null,a.a.createElement("use",{xlinkHref:"#icon_open_collection"}))),a.a.createElement("span",null,r.title));return a.a.createElement(u.a,{className:"pl-rec__item",thumbnailURL:t,info:i,onSelect:n,selectItem:r,hasThumbZoom:!0,hasBorder:!0})}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(79),c={featuredCollection:s.a.shape({id:s.a.string,title:s.a.string,itemsCount:s.a.number,owner:s.a.shape({displayName:s.a.string,id:s.a.string,name:s.a.string})}).isRequired,thumbnailURL:s.a.string.isRequired,onSelect:s.a.func},l={onSelect:function(){}};r.propTypes=c,r.defaultProps=l},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s={alt:o.a.string,classNames:o.a.shape({a:o.a.string,img:o.a.string}),href:o.a.string,imgSrc:o.a.string,onClick:o.a.func,target:o.a.string},u=function(e){var t=e.alt,n=e.classNames,r=e.href,a=e.imgSrc,o=e.onClick,s=e.target;return i.a.createElement("a",{className:n.a,href:r,target:s,onClick:o},i.a.createElement("img",{alt:t,className:n.img,src:a}))};u.propTypes=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e.displayName||e.name||"Component"}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,s=h()(t,Object.keys(b)),u={onAnimationEnd:d.a.func,_transitionToNextComponent:d.a.func,className:d.a.string},l={className:""},p=function(t){function o(){r(this,o);var e=i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments));return e.state={animationClass:""},e}return a(o,t),g(o,[{key:"_animateIn",value:function(e){var t=s.showDuration,r=s.showClass;this.setState({animationClass:r}),n.i(f.a)(t).then(e)}},{key:"componentWillAppear",value:function(e){this._animateIn(e)}},{key:"componentDidAppear",value:function(){this.setState({animationClass:""})}},{key:"componentWillEnter",value:function(e){this._animateIn(e)}},{key:"componentDidEnter",value:function(){this.setState({animationClass:""})}},{key:"componentWillLeave",value:function(e){var t=s.hideDuration,r=s.hideClass;this.setState({animationClass:r}),n.i(f.a)(t-_).then(e)}},{key:"componentDidLeave",value:function(){this.props.onAnimationEnd&&this.props.onAnimationEnd(),this.props._transitionToNextComponent&&this.props._transitionToNextComponent()}},{key:"render",value:function(){var t=y()(this.props.className,this.state.animationClass);return c.a.createElement(e,v({},this.props,{className:t}))}}]),o}(c.a.Component);return p.propTypes=u,p.defaultProps=l,p.displayName="WrappedAnimatedComponent("+o(e)+")",p}t.a=s;var u=n(0),c=n.n(u),l=n(1),d=n.n(l),f=n(390),p=n(17),h=n.n(p),m=n(2),y=n.n(m),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=Object.freeze({showDuration:0,hideDuration:0,showClass:"",hideClass:""}),_=100},function(e,t,n){"use strict";function r(e){var t=e.cancel,n=e.confirm,r=e.productPayload;return a.a.createElement("div",null,a.a.createElement("div",{className:"extension-confirmation--section"},a.a.createElement("div",null,a.a.createElement("h5",null,"In-Extension Purchase"),a.a.createElement("span",null,"X")),a.a.createElement("div",null,a.a.createElement("h4",null,r.title," ",r.price.price," ",r.price.currency),a.a.createElement("p",null,r.developer_name)),a.a.createElement("p",null,r.description)),a.a.createElement("div",{className:"extension-confirmation--section"},a.a.createElement("button",{onClick:n,className:"extension-confirmation--purchase","data-test-extension-confirmation-purchase":!0},"Buy"),a.a.createElement("button",{onClick:t,className:"extension-confirmation--cancel","data-test-extension-confirmation-cancel":!0},"Cancel")),a.a.createElement("div",{className:"extension-confirmation--section extension-confirmation--section--no-bottom"},a.a.createElement("p",null,'By clicking "Buy", you agree to share your Twitch ID with ',r.developer_name,". You can manage account connections under ",a.a.createElement("a",null,"Settings"),".")))}n.d(t,"a",function(){return u}),t.b=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=s.a.shape({action_details:s.a.shape({destination_url:s.a.string.isRequired}).isRequired,asin:s.a.string.isRequired,description:s.a.string.isRequired,developer_name:s.a.string.isRequired,price:s.a.shape({currency_unit:s.a.string.isRequired,price:s.a.string.isRequired}).isRequired,short_description:s.a.string.isRequired,sku:s.a.string.isRequired,title:s.a.string.isRequired}),c={cancel:s.a.func.isRequired,confirm:s.a.func.isRequired,productPayload:u};r.propTypes=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return T});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(32)),h=n(9),m=n(36),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={extension:p.a,onMenuTransition:c.a.func,onIdentityToggle:c.a.func,trackEvent:c.a.func.isRequired,t:c.a.func.isRequired},g={onMenuTransition:function(){},onIdentityToggle:function(){}},b=d()("pl-menu__section","pl-menu__section--with-sep"),_=d()("pl-menu__item","pl-menu__item--block","pl-menu__item--with-caret-left"),w=d()("qa-menu-summary-label","pl-menu__item--label"),k=d()("pl-menu__item--label","extension-menu__access-list"),E=d()("extension-menu__access-list-header"),S=d()("pl-menu__item--label","extension-menu-footer"),P=d()("qa-menu-toggle-access-btn","pl-button","extension-menu-footer__button"),C=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleIdentityToggleClick=e.handleIdentityToggleClick.bind(e),e}return a(t,e),y(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(m.f)}},{key:"handleIdentityToggleClick",value:function(){this.props.onIdentityToggle(this.props.extension);var e=this.props.extension.lastUserIdentityLinkState?"revoke":"grant";this.props.trackEvent("extension_ui_interaction_client",this.props.extension,{extension_interaction:e})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.extension,r="Grant Access",i="You are granting the following access:";return n.lastUserIdentityLinkState&&(r="Revoke Access",i="You are revoking the following access:"),s.a.createElement("div",{className:"pl-menu__inner"},s.a.createElement("div",{className:_},s.a.createElement(h.a,{onClick:this.handleBackButtonClick,className:"qa-menu-back-btn"},s.a.createElement("span",{className:"qa-menu-back-label"},t(r)))),s.a.createElement("div",{className:b},s.a.createElement("div",{className:w},s.a.createElement("span",null,t(i))),s.a.createElement("div",{className:k},s.a.createElement("div",{className:E},t("Your Twitch User ID")),s.a.createElement("span",null,t("Allows this extension to know your User ID on Twitch.")),s.a.createElement("p",null,s.a.createElement("a",{href:"/settings/connections",target:"_blank",className:"qa-menu-manage-permission-link"},t("Manage Permissions")))),s.a.createElement("div",{className:S},s.a.createElement(h.a,{onClick:this.handleIdentityToggleClick,className:P},s.a.createElement("span",{className:"qa-menu-toggle-access-label"},t(r))))))}}]),t}(s.a.Component);C.propTypes=v,C.defaultProps=g;var T=n.i(f.translate)()(C)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(32)),h=n(9),m=n(36),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={extension:p.a,isLoggedIn:c.a.bool.isRequired,showBackButton:c.a.bool,onMenuTransition:c.a.func,trackEvent:c.a.func.isRequired,windowObj:c.a.object.isRequired,t:c.a.func.isRequired},g={onMenuTransition:function(){},showBackButton:!0},b=d()({"pl-menu__section":!0,"pl-menu__item--label":!0,"extension-menu-details__header":!0}),_=d()({"pl-menu__item--label":!0,"extension-menu-details__desc":!0}),w=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),k=d()({"pl-menu__item":!0,"pl-menu__item--block":!0}),E=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),S=d()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),P=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleViewDetailsClick=e.handleViewDetailsClick.bind(e),e.handleManageAccessClick=e.handleManageAccessClick.bind(e),e.handleReportExtensionClick=e.handleReportExtensionClick.bind(e),e}return a(t,e),y(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(m.e)}},{key:"handleViewDetailsClick",value:function(){var e="https://www.twitch.tv/ext/"+this.props.extension.id+"-"+this.props.extension.version;this.props.windowObj.open(e,"_blank")}},{key:"handleManageAccessClick",value:function(){this.props.onMenuTransition(m.g)}},{key:"handleReportExtensionClick",value:function(){this.props.onMenuTransition(m.h),this.props.trackEvent("extension_ui_interaction_client",this.props.extension,{extension_interaction:"report"})}},{key:"render",value:function(){var e=this.props,t=e.extension,n=e.t,r=this._renderHeader(),i=s.a.createElement("div",{className:k},s.a.createElement(h.a,{onClick:this.handleViewDetailsClick,className:"qa-extension-details-button"},n("View Details"))),a=this._renderManageAccess(),o=s.a.createElement("div",{className:E},s.a.createElement(h.a,{onClick:this.handleReportExtensionClick,className:"qa-extension-report-button"},n("Report Extension")));return s.a.createElement("div",{className:"pl-menu__inner"},r,s.a.createElement("div",{className:S},s.a.createElement("div",{className:_},t.summary),i,a,o))}},{key:"_renderHeader",value:function(){var e=this.props,t=e.extension;return e.showBackButton?s.a.createElement("div",{className:w},s.a.createElement(h.a,{onClick:this.handleBackButtonClick,className:"qa-extension-back-button"},t.name)):s.a.createElement("div",{className:b},t.name)}},{key:"_renderManageAccess",value:function(){var e=this.props,t=e.extension,n=e.t,r=t.supportsIdentityLinking,i=t.token.permissionsState===m.b;if(t.token.role===m.i||!this.props.isLoggedIn||!r&&!i)return null;var a=d()({"pl-pill":!0,"extension-access-granted":t.lastUserIdentityLinkState,"extension-access-requested":!t.lastUserIdentityLinkState}),o="Manage Access",u="!";return t.lastUserIdentityLinkState&&(o="Access",u=n("Granted")),s.a.createElement("div",{className:E},s.a.createElement(h.a,{onClick:this.handleManageAccessClick,className:"qa-extension-manage-access-button"},s.a.createElement("span",null,n(o))," ",s.a.createElement("span",{className:a},u)))}}]),t}(s.a.Component);P.propTypes=v,P.defaultProps=g;var C=n.i(f.translate)()(P)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return A});var s,u,c,l,d=n(0),f=n.n(d),p=n(1),h=n.n(p),m=n(2),y=n.n(m),v=n(4),g=(n.n(v),n(9)),b=n(136),_=n(32),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=y()({"pl-menu__section":!0,"extension-modal__header":!0}),E=y()((s={},o(s,"qa-follow-modal-title-header",!0),o(s,"pl-menu__item",!0),o(s,"extension-modal__title-sub",!0),s)),S=y()((u={},o(u,"qa-follow-modal-title-channel",!0),o(u,"pl-menu__item--label",!0),o(u,"extension-modal__title-main",!0),u)),P=y()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),C=y()({"pl-menu__item--label":!0,"extension-modal__info-text":!0}),T=y()((c={},o(c,"qa-follow-modal-button-confirm",!0),o(c,"pl-button",!0),o(c,"extension-modal__button",!0),c)),O=y()((l={},o(l,"qa-follow-modal-button-cancel",!0),o(l,"pl-button",!0),o(l,"pl-button--hollow",!0),o(l,"extension-modal__button",!0),l)),x=y()({"pl-close-button":!0,"extension-modal__close-button":!0}),R=h.a.shape({channel:h.a.string.isRequired,isFollowing:h.a.bool.isRequired}),I={t:h.a.func.isRequired,extension:_.a.isRequired,options:R.isRequired,onClose:h.a.func.isRequired},L=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={notifications:!1},e.confirmFollow=e._confirmFollow.bind(e),e.cancelFollow=e._cancelFollow.bind(e),e.onNotificationToggle=e._onNotificationToggle.bind(e),e}return a(t,e),w(t,[{key:"render",value:function(){var e=this.props.options.isFollowing;return f.a.createElement("div",{className:"pl-menu__inner"},this._renderHeader(),f.a.createElement("div",{className:P},this._renderButtons()),!e&&f.a.createElement("div",{className:P},this._renderNotificationToggle(),f.a.createElement("div",{className:C},this.props.t("Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web."))))}},{key:"_renderHeader",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing,r=n?"You are already following":"You are about to follow";return f.a.createElement("div",{className:k},f.a.createElement("div",{className:"extension-modal__header-row"},f.a.createElement("div",{className:E},this.props.t(r)),f.a.createElement(g.a,{className:x,onClick:this.cancelFollow},f.a.createElement("svg",{className:"pl-close-button__svg"},f.a.createElement("use",{xlinkHref:"#pl-icon_close"})))),f.a.createElement("div",{className:"extension-modal__header-row"},f.a.createElement("div",{className:S},t)))}},{key:"_renderButtons",value:function(){return this.props.options.isFollowing?f.a.createElement(g.a,{className:O,onClick:this.cancelFollow},this.props.t("Close")):[f.a.createElement(g.a,{key:"confirm",className:T,onClick:this.confirmFollow},this.props.t("Follow")),f.a.createElement(g.a,{key:"cancel",className:O,onClick:this.cancelFollow},this.props.t("Cancel"))]}},{key:"_renderNotificationToggle",value:function(){var e=this.state.notifications;return f.a.createElement(b.a,{className:"qa-notification-toggle",label:"Notifications",onToggle:this.onNotificationToggle,toggledOn:e})}},{key:"_confirmFollow",value:function(){this.props.onClose({didFollow:!0,notifications:this.state.notifications})}},{key:"_cancelFollow",value:function(){this.props.onClose({didFollow:!1,notifications:!1})}},{key:"_onNotificationToggle",value:function(){this.setState({notifications:!this.state.notifications})}}]),t}(f.a.Component);L.propTypes=I;var A=n.i(v.translate)()(L)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(9),d=n(32),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p={extension:d.a,onClick:c.a.func},h={onClick:function(){}},m=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),f(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.extension)}},{key:"render",value:function(){return s.a.createElement(l.a,{onClick:this.handleClick,className:"qa-extension-list-button"},s.a.createElement("span",null,this.props.extension.name))}}]),t}(s.a.Component);m.propTypes=p,m.defaultProps=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return k});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(32)),h=n(285),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={extensions:c.a.arrayOf(p.a).isRequired,onExtensionClick:c.a.func,t:c.a.func.isRequired},v={onExtensionClick:function(){}},g=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),b=d()({"pl-menu__section":!0,"pl-menu__item--block":!0,"pl-menu__item--label":!0}),_=d()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleExtensionClick=e.handleExtensionClick.bind(e),e}return a(t,e),m(t,[{key:"handleExtensionClick",value:function(e){this.props.onExtensionClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.extensions,r=t.t,i=n.map(function(t){return s.a.createElement("div",{className:g,key:t.id},s.a.createElement(h.a,{onClick:e.handleExtensionClick,extension:t}))});return s.a.createElement("div",{className:"pl-menu__inner"},s.a.createElement("div",{className:b},s.a.createElement("span",null,r("Active Extensions"))),s.a.createElement("div",{className:_},i))}}]),t}(s.a.Component);w.propTypes=y,w.defaultProps=v;var k=n.i(f.translate)()(w)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(82),d=(n.n(l),n(112)),f=(n.n(d),n(36)),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={onDoubleClick:c.a.func.isRequired,width:c.a.number.isRequired,height:c.a.number.isRequired,extension:c.a.shape({id:c.a.string.isRequired,name:c.a.string.isRequired,sku:c.a.string.isRequired,anchor:c.a.string.isRequired,vendorCode:c.a.string.isRequired,version:c.a.string.isRequired,viewerUrl:c.a.string.isRequired,lastUserIdentityLinkState:c.a.bool.isRequired,token:c.a.shape({token:c.a.string.isRequired,permissionsState:c.a.string.isRequired})}).isRequired,game:c.a.string.isRequired,locale:c.a.string.isRequired,onIdentityLinked:c.a.func.isRequired,onModalRequested:c.a.func.isRequired,trackingProperties:c.a.shape({login:c.a.string.isRequired,loginId:c.a.number.isRequired,channel:c.a.string.isRequired,channelId:c.a.number.isRequired,deviceId:c.a.string.isRequired,platform:c.a.string.isRequired,locale:c.a.string.isRequired,playerType:c.a.string.isRequired}),onBeginPurchase:c.a.func},m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._boundOnFrameDoubleClick=n._onFrameDoubleClick.bind(n),n._boundIframeHostRefHandler=n._iframeHostRefHandler.bind(n),n._boundOnIdentityLinked=n._onIdentityLinked.bind(n),n._boundOnModalRequested=n._onModalRequested.bind(n),n}return a(t,e),p(t,[{key:"componentDidMount",value:function(){this.extensionFrame=new l.ExtensionCoordinator.ExtensionFrame({dobbin:d.Dobbin,extension:{id:this.props.extension.id,anchor:this.props.extension.anchor,clientId:this.props.extension.id,sku:this.props.extension.sku,token:this.props.extension.token.token,version:this.props.extension.version,vendorCode:this.props.extension.vendorCode,viewerUrl:this.props.extension.viewerUrl},mode:"viewer",language:this.props.locale,parentElement:this.parentElement,iframeClassName:"extension-overlay__iframe",loginId:this.props.trackingProperties.loginId,channelId:this.props.trackingProperties.channelId,trackingProperties:{login:this.props.trackingProperties.login,channel:this.props.trackingProperties.channel,device_id:this.props.trackingProperties.deviceId,platform:this.props.trackingProperties.platform,locale:this.props.trackingProperties.locale,player_type:this.props.trackingProperties.playerType},onBeginPurchase:this.props.onBeginPurchase}),this.parentElement.addEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.setGame(this.props.game),this.extensionFrame.on("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.on("requestModal",this._boundOnModalRequested)}},{key:"componentWillUnmount",value:function(){this.parentElement.removeEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.off("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.destroy()}},{key:"componentDidUpdate",value:function(){var e=this.props.extension.token.permissionsState===f.b,t=this.props.extension.lastUserIdentityLinkState;t!==e&&(t?this.extensionFrame.linkIdentity():this.extensionFrame.unlinkIdentity())}},{key:"render",value:function(){var e={width:this.props.width+"px",height:this.props.height+"px"};return s.a.createElement("div",{className:"extension-overlay",ref:this._boundIframeHostRefHandler,style:e})}},{key:"_onIdentityLinked",value:function(e){var t=this.props,n=t.extension,r=t.onIdentityLinked;r&&r(n.id,e)}},{key:"_onFrameDoubleClick",value:function(e){e.preventDefault(),this.props.onDoubleClick()}},{key:"_onModalRequested",value:function(e){this.props.onModalRequested(e)}},{key:"_iframeHostRefHandler",value:function(e){this.parentElement=e}}]),t}(s.a.Component);m.propTypes=h},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return R});var s=n(0),u=n.n(s),c=n(2),l=n.n(c),d=n(5),f=n.n(d),p=n(17),h=n.n(p),m=n(4),y=(n.n(m),n(9)),v=n(36),g=n(10),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_={t:s.PropTypes.func.isRequired,channel:s.PropTypes.string.isRequired,onMenuTransition:s.PropTypes.func,authenticityToken:s.PropTypes.string.isRequired,extension:s.PropTypes.shape({id:s.PropTypes.string.isRequired,name:s.PropTypes.string.isRequired,version:s.PropTypes.string.isRequired}).isRequired},w={onMenuTransition:function(){}},k=l()("pl-form__input","extension-report__desc"),E=l()({"extension-menu-footer":!0}),S=l()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),P=l()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),C=l()({"mg-b-1":!0,"pl-menu__item":!0,"pl-menu__item--label":!0}),T=l()({"pl-menu__item":!0,"pl-menu__item--label":!0}),O=["reported_user","authenticity_token","tos_ban","reason","description"],x=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={reported_user:e.channel,authenticity_token:e.authenticityToken,tos_ban:"false",reason:"",description:"",sent:!1},n.canSubmit=n.canSubmit.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleBackButtonClick=n.handleBackButtonClick.bind(n),n}return o(t,e),b(t,[{key:"canSubmit",value:function(){var e=this.state,t=e.sent,n=e.description,r=e.reason,i=n&&r;return!t&&i}},{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(v.f)}},{key:"handleInputChange",value:function(e){this.setState(r({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=this,t=[this.state.description,"Extension ID: "+this.props.extension.id,"Extension Name: "+this.props.extension.name,"Extension Version: "+this.props.extension.version].join("\n");return n.i(g.t)(h()(f()({},this.state,{description:t}),O)).then(function(){e.setState({sent:!0})})}},{key:"render",value:function(){var e,t=u.a.createElement("a",{href:"https://www.twitch.tv/p/terms-of-service",target:"_blank"},this.props.t("terms of service")),n=this.canSubmit(),i=l()((e={},r(e,"qa-ext-report-submit-btn",!0),r(e,"pl-button",!0),r(e,"pl-button--hollow",!n),e)),a=u.a.createElement("form",null,u.a.createElement("select",{className:k,name:"reason",value:this.state.reason,onBlur:this.handleInputChange,onChange:this.handleInputChange},u.a.createElement("option",{value:""},"Select Reason"),u.a.createElement("option",{value:"selfharm"},"Self-Harm"),u.a.createElement("option",{value:"harm"},"Attempts or Threats to Harm"),u.a.createElement("option",{value:"harassment"},"Harassment"),u.a.createElement("option",{value:"hate_speech"},"Hate Speech"),u.a.createElement("option",{value:"impersonation"},"Impersonation"),u.a.createElement("option",{value:"spam"},"Spam, Scams, or Other Malicious Content"),u.a.createElement("option",{value:"porn"},"Porn or Other Sexually Explicit Content"),u.a.createElement("option",{value:"nudity"},"Nudity or Sexual Behavior/Attire"),u.a.createElement("option",{value:"gore"},"Extreme Violence, Gore, or Other Obscene Content"),u.a.createElement("option",{value:"cheating"},"Cheating in Online Game"),u.a.createElement("option",{value:"bits_violation"},"Bits Acceptable Use Policy Violation"),u.a.createElement("option",{value:"other"},"Other Terms of Service Violation")),u.a.createElement("br",null),u.a.createElement("textarea",{className:k,name:"description",value:this.state.description,rows:2,onChange:this.handleInputChange,placeholder:this.props.t("Description (required)")}),u.a.createElement("div",{className:E},u.a.createElement(y.a,{disabled:!n,className:i,onClick:this.handleSubmit},u.a.createElement("span",{className:"qa-ext-report-submit-label"},this.props.t(this.state.sent?"Sent!":"Submit")))));return u.a.createElement("div",{className:"pl-menu__inner"},u.a.createElement("div",{className:S},u.a.createElement(y.a,{onClick:this.handleBackButtonClick,className:"qa-menu-back-btn"},u.a.createElement("span",{className:"qa-menu-back-label"},this.props.t("Report Extension")))),u.a.createElement("div",{className:P},u.a.createElement("div",{className:C},u.a.createElement(m.Interpolate,{i18nKey:"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)",tosLink:t})),u.a.createElement("div",{className:T},a)))}}]),t}(u.a.Component);x.propTypes=_,x.defaultProps=w;var R=n.i(m.translate)()(x)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(9),u=n(35),c={onClick:o.a.func,tooltip:o.a.string.isRequired},l={onClick:function(){}},d=function(e){var t=e.onClick,n=e.tooltip;return i.a.createElement(s.a,{onClick:t,className:"player-button"},i.a.createElement(u.a,{label:n,labelClass:"extension-settings-button__tooltip",iconId:"#icon_extensions",iconClass:"pl-settings-icon"}))};d.propTypes=c,d.defaultProps=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return k});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(11),d=n.n(l),f=n(41),p=n(32),h=n(286),m=n(283),y=n(282),v=n(288),g=n(36),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=[g.e,g.f,g.g,g.h],w={playerHeight:c.a.number.isRequired,onIdentityToggle:c.a.func.isRequired,extensions:c.a.arrayOf(p.a).isRequired,isLoggedIn:c.a.bool.isRequired,trackEvent:c.a.func.isRequired,windowObj:c.a.object.isRequired},k=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentMenu:g.e,currentExtension:e.props.extensions[0]},e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleExtensionClick=e.handleExtensionClick.bind(e),e}return a(t,e),b(t,[{key:"handleMenuTransition",value:function(e){d()(_,e)&&this.setState({currentMenu:e})}},{key:"handleExtensionClick",value:function(e){this.handleMenuTransition(g.f),this.setState({currentExtension:e}),this.props.trackEvent("extension_setting_click",e)}},{key:"componentDidMount",value:function(){1===this.props.extensions.length&&this.handleExtensionClick(this.props.extensions[0])}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-f.a+"px"};return s.a.createElement("div",{className:"pl-menu",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.state.currentMenu){case g.f:return s.a.createElement(m.a,{onMenuTransition:this.handleMenuTransition,showBackButton:this.props.extensions.length>1,extension:this.state.currentExtension,isLoggedIn:this.props.isLoggedIn,trackEvent:this.props.trackEvent,windowObj:this.props.windowObj});case g.g:return s.a.createElement(y.a,{onMenuTransition:this.handleMenuTransition,onIdentityToggle:this.props.onIdentityToggle,trackEvent:this.props.trackEvent,extension:this.state.currentExtension});case g.h:return s.a.createElement(v.a,{onMenuTransition:this.handleMenuTransition,channel:this.state.channel,extension:this.state.currentExtension});case g.e:default:return s.a.createElement(h.a,{onExtensionClick:this.handleExtensionClick,extensions:this.props.extensions})}}}]),t}(s.a.Component);k.propTypes=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(32),p=n(284),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=d()("extension-modal__backdrop","qa-modal-backdrop"),y=d()({"pl-menu":!0,"extension-modal__main":!0}),v={"twitch-ext-follow-action":"follow modal"},g={playerHeight:c.a.number.isRequired,extensions:c.a.arrayOf(f.a).isRequired,modalRequest:c.a.shape({action:c.a.string.isRequired,options:c.a.object.isRequired,resultCallback:c.a.func.isRequired,defaultResult:c.a.object.isRequired}),onModalClose:c.a.func.isRequired},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onModalClose=e._onModalClose.bind(e),e.cancelModal=e._cancelModal.bind(e),e}return a(t,e),h(t,[{key:"render",value:function(){if("no modal"===this.currentModal)return null;var e=this.props.playerHeight,t={height:e+"px"},n={maxHeight:e+"px"};return s.a.createElement("div",{role:"button",tabIndex:-1,style:t,className:m,onClick:this.cancelModal},s.a.createElement("div",{className:y,style:n},this._renderCurrentModal()))}},{key:"_renderCurrentModal",value:function(){switch(this.currentModal){case"follow modal":return s.a.createElement(p.a,{extension:this.props.extensions[0],options:this.props.modalRequest.options,onClose:this.onModalClose});case"no modal":default:return null}}},{key:"_onModalClose",value:function(e){var t=this.props.modalRequest.resultCallback;t&&t(e),this.props.onModalClose()}},{key:"_cancelModal",value:function(e){e&&e.target!==e.currentTarget||this.onModalClose(this.props.modalRequest.defaultResult)}},{key:"currentModal",get:function(){return this.props.modalRequest&&this.props.modalRequest.action?v[this.props.modalRequest.action]:"no modal"}}]),t}(s.a.Component);b.propTypes=g},function(e,t,n){"use strict";function r(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,o=e.t;return a.a.createElement("div",{className:h},a.a.createElement("h2",{className:"pl-pinned-panel__title"},o("Live Broadcast has ended")),a.a.createElement("p",{className:"pl-pinned-panel__subtext"},o("Get notified when {{channelName}} goes live next",{channelName:t})),a.a.createElement(c.a,{className:m,enable:n,disable:r,notificationsEnabled:i}))}n.d(t,"a",function(){return y});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(100)),l=n(2),d=n.n(l),f={channelName:s.a.string.isRequired,enable:s.a.func.isRequired,disable:s.a.func.isRequired,notificationsEnabled:s.a.bool.isRequired,t:s.a.func},p={t:function(){}},h=d()("pl-pinned-panel","pl-pinned-panel--embed"),m=d()("pl-button--hollow","mg-t-2");r.propTypes=f,r.defaultProps=p;var y=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,o=e.t,s=e.withInfo,u=d()({"pl-pinned-panel":!0,"pl-pinned-panel--animate":!0,"pl-pinned-panel--with-info":s});return a.a.createElement("div",{className:u},a.a.createElement("h2",{className:"pl-pinned-panel__title"},o("Follow and get notified when {{channelName}} is live",{channelName:t})),a.a.createElement(c.a,{enable:n,disable:r,notificationsEnabled:i}))}n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(100)),l=n(2),d=n.n(l),f={channelName:s.a.string.isRequired,enable:s.a.func,disable:s.a.func,notificationsEnabled:s.a.bool.isRequired,t:s.a.func,withInfo:s.a.bool.isRequired},p={t:function(){},enable:function(){},disable:function(){}};r.propTypes=f,r.defaultProps=p;var h=n.i(u.translate)()(r)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(337),u=n(340),c=n(6),l=n(2),d=n.n(l),f={avatarURL:o.a.string,onFollowChannel:o.a.func.isRequired,onUnfollowChannel:o.a.func.isRequired,onSubscribe:o.a.func.isRequired},p=function(e){var t=d()({"pl-pinned-panel":!0,"pl-pinned-panel--te":!0});return i.a.createElement("div",{className:t},i.a.createElement("figure",{className:"pl-pinned-panel__avatar"},i.a.createElement("img",{src:e.avatarURL||c.x,alt:"Avatar",height:30,width:30})),i.a.createElement(s.a,{onFollowChannel:e.onFollowChannel,onUnfollowChannel:e.onUnfollowChannel}),i.a.createElement(u.a,{onSubscribe:e.onSubscribe}))};p.propTypes=f},function(e,t,n){"use strict";function r(e){var t=e.channelName,n=e.enable,r=e.disable,i=e.notificationsEnabled,o=e.t;return a.a.createElement("div",null,a.a.createElement("p",{className:"pl-pinned-panel__subtext"},o("Get notified when {{channelName}} goes live next",{channelName:t})),a.a.createElement(c.a,{className:h,enable:n,disable:r,notificationsEnabled:i}))}n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),n(100)),l=n(2),d=n.n(l),f={channelName:s.a.string.isRequired,enable:s.a.func.isRequired,disable:s.a.func.isRequired,notificationsEnabled:s.a.bool.isRequired,t:s.a.func},p={t:function(){}},h=d()("pl-button--hollow","mg-t-2");r.propTypes=f,r.defaultProps=p;var m=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(297),d=n(4),f=(n.n(d),n(2)),p=n.n(f),h=n(22),m=n(108),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=p()({"pl-notif__text":!0}),g=p()({"pl-notif__content":!0}),b={t:c.a.func.isRequired,onClose:c.a.func.isRequired},_=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return a(t,e),y(t,[{key:"render",value:function(){var e=this.props.t;return s.a.createElement(l.a,{onClose:this.handleClose},s.a.createElement("div",{className:g},s.a.createElement("p",{className:v},e("Is your video buffering? Try the auto quality option."))))}},{key:"handleClose",value:function(){if(h.a.get(m.b)){var e=h.a.get(m.b);h.a.set(m.b,e+1)}else h.a.set(m.b,1);var t=this.props.onClose;t&&t.apply(void 0,arguments)}}]),t}(s.a.Component);_.propTypes=b;var w=n.i(d.translate)()(_)},function(e,t,n){"use strict";function r(e){var t=e.children,n=e.onClose;return a.a.createElement("div",{className:d},a.a.createElement("button",{type:"button",className:f,onClick:n},a.a.createElement("svg",{className:"pl-close-button__svg"},a.a.createElement("use",{xlinkHref:"#pl-icon_close"}))),t)}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(2),c=n.n(u),l={onClose:s.a.func,children:s.a.node},d=c()({"pl-notif":!0,"pl-notif--with-triangle":!1}),f=c()({"pl-close-button":!0,"pl-notice__close":!0});r.propTypes=l},function(e,t,n){"use strict";function r(e){var t=e.clickThroughUrl,n=e.adLabel,r=e.t;return a.a.createElement("div",null,a.a.createElement("div",{className:"player-overlay player-ad-overlay"},a.a.createElement("a",{className:"player-ad-overlay",target:"_blank",href:t})),a.a.createElement("div",{className:"player-ad-notice"},a.a.createElement("p",{className:"js-advertisement-label"}," ",r(n))))}n.d(t,"a",function(){return l});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),{clickThroughUrl:s.a.string.isRequired,adLabel:s.a.string.isRequired,t:s.a.func.isRequired});r.propTypes=c;var l=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return H});var s,u=n(0),c=n.n(u),l=n(1),d=n.n(l),f=n(2),p=n.n(f),h=n(9),m=n(5),y=n.n(m),v=n(419),g=n.n(v),b=n(4),_=(n.n(b),n(147)),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k="age_gates_failed",E=p()("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay","js-age-restriction-overlay"),S=p()("player-center-content"),P=p()("pl-age-gate js-age-gate"),C=p()("js-age-gate-submit player-content-button"),T=p()("player-datepicker--select js-select-day"),O=p()("player-datepicker--select js-select-month"),x=p()("player-datepicker--select js-select-year"),R=p()("player-age-gate-failed-once"),I=p()("player-age-gate--fail-icon"),L=p()("age-gate-locked-out-label"),A=p()("player-age-gate-warning"),N=p()("js-age-gate-warning-label"),j=p()("pl-age-gate-locked-out"),M=p()("player-age-gate--icon"),q=p()("player-age-gate-notificiation"),D=p()("player-datepicker"),B=p()("player-age-gate-form js-age-gate"),U=Object.freeze((s={},o(s,1,31),o(s,2,28),o(s,3,31),o(s,4,30),o(s,5,31),o(s,6,30),o(s,7,31),o(s,8,31),o(s,9,30),o(s,10,31),o(s,11,30),o(s,12,31),s)),F=Object.freeze(y()({},U,o({},2,29))),V={handleAgeGatePassed:d.a.func.isRequired,channelName:d.a.string.isRequired,t:d.a.func.isRequired},z=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments)),n=(new Date).getFullYear(),a=_.a.getItem(k)||0,o=Object.values(a);return e.state={monthValue:"1",dayValue:"1",yearValue:n,ageGatesFailedCount:o},e._handleInputMonthChange=e._handleInputMonthChange.bind(e),e._handleInputDayChange=e._handleInputDayChange.bind(e),e._handleInputYearChange=e._handleInputYearChange.bind(e),e._submitAge=e._submitAge.bind(e),e}return a(t,e),w(t,[{key:"_handleInputMonthChange",value:function(e){var t=Number(e.target.value),n=this.state.yearValue%4==0&&this.state.yearValue%100!=0||this.state.yearValue%400==0,r=n?F[t]:U[t];this.setState({monthValue:e.target.value}),this.state.dayValue>r&&this.setState({dayValue:"1"})}},{key:"_handleInputDayChange",value:function(e){this.setState({dayValue:e.target.value})}},{key:"_handleInputYearChange",value:function(e){var t=Number(this.state.monthValue),n=e.target.value%4==0&&e.target.value%100!=0||e.target.value%400==0,r=n?F[t]:U[t];this.setState({yearValue:e.target.value}),this.state.dayValue>r&&this.setState({dayValue:"1"})}},{key:"_populateMonthDropdown",value:function(){var e=this.props.t;return c.a.createElement("select",{className:O,name:"monthValue",value:this.state.monthValue,onChange:this._handleInputMonthChange,onBlur:this._handleInputMonthChange},c.a.createElement("option",{className:"age-gate-jan",value:"1"},e("January")),c.a.createElement("option",{className:"age-gate-feb",value:"2"},e("February")),c.a.createElement("option",{className:"age-gate-mar",value:"3"},e("March")),c.a.createElement("option",{className:"age-gate-apr",value:"4"},e("April")),c.a.createElement("option",{className:"age-gate-may",value:"5"},e("May")),c.a.createElement("option",{className:"age-gate-jun",value:"6"},e("June")),c.a.createElement("option",{className:"age-gate-jul",value:"7"},e("July")),c.a.createElement("option",{className:"age-gate-aug",value:"8"},e("August")),c.a.createElement("option",{className:"age-gate-sept",value:"9"},e("September")),c.a.createElement("option",{className:"age-gate-oct",value:"10"},e("October")),c.a.createElement("option",{className:"age-gate-nov",value:"11"},e("November")),c.a.createElement("option",{className:"age-gate-dec",value:"12"},e("December")))}},{key:"_populateDayDropdown",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.year,r=n%4==0&&n%100!=0||n%400==0,i=r?F:U,a=g()(1,i[t]+1).map(function(e){return c.a.createElement("option",{key:"day."+e,value:e},e)});return c.a.createElement("select",{className:T,name:"dayValue",value:this.state.dayValue,onChange:this._handleInputDayChange,onBlur:this._handleInputDayChange},a)}},{key:"_populateYearDropdown",value:function(){var e=(new Date).getFullYear(),t=e-100,n=g()(e,t).map(function(e){return c.a.createElement("option",{key:"year."+e,value:e},e)});return c.a.createElement("select",{className:x,name:"yearValue",value:this.state.yearValue,onChange:this._handleInputYearChange,onBlur:this._handleInputYearChange},n)}},{key:"_getSelectedDate",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue);return{month:parseInt(e,10),day:parseInt(t,10),year:parseInt(n,10)}}},{key:"_isValidDate",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.day,r=e.year,i=r%4==0&&r%100!=0||r%400==0,a=i?F[t]:U[t];return n>0&&n<=a}},{key:"_submitAge",value:function(e){e.preventDefault(),this._is21OrOlder()?this._setAgeGatePassed():this._setAgeGateFailed()}},{key:"_is21OrOlder",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue),r=new Date(n,e,t),i=new Date;return i.setFullYear(i.getFullYear()-21),r.getTime()<=i.getTime()}},{key:"_getAgeGatesFailed",value:function(e){return(_.a.getItem(k)||{})[e]||0}},{key:"_setAgeGateFailed",value:function(){var e=this.props.channelName,t=_.a.getItem(k)||{};t[e]?t[e]=t[e]+1:t[e]=1,_.a.setItem(k,t),this.setState({ageGatesFailedCount:t[e]})}},{key:"_setAgeGatePassed",value:function(){this.props.handleAgeGatePassed()}},{key:"render",value:function(){var e=this.props.t,t=this._isValidDate(),n=this._populateMonthDropdown(),r=this._populateDayDropdown(),i=this._populateYearDropdown(),a=null,o=null;return o=1===this.state.ageGatesFailedCount?c.a.createElement("div",{className:R},c.a.createElement("p",null,c.a.createElement("svg",{className:I},c.a.createElement("use",{xlinkHref:"#age-gate-fail-icon"}))),c.a.createElement("p",{className:L},e("Sorry, you must be over the age of 21 to view this content."))):c.a.createElement("div",{className:A},c.a.createElement("p",null,c.a.createElement("svg",{className:M},c.a.createElement("use",{xlinkHref:"#age-gate-icon"}))),c.a.createElement("p",{className:N},e("You must be 21 to view this content. Please enter your date of birth."))),a=this.state.ageGatesFailedCount>=2?c.a.createElement("div",{className:j},c.a.createElement("p",null,c.a.createElement("svg",{className:I},c.a.createElement("use",{xlinkHref:"#age-gate-fail-icon"}))),c.a.createElement("p",{className:L},e("Sorry, you must be over the age of 21 to view this content."))):c.a.createElement("div",{className:B},c.a.createElement("div",{className:q},o),c.a.createElement("div",{className:D},n,r,i,c.a.createElement(h.a,{className:C,onClick:this._submitAge,disabled:!t},"Submit"))),c.a.createElement("div",{className:E},c.a.createElement("div",{className:S},c.a.createElement("div",{className:P},a)))}}]),t}(c.a.Component);z.propTypes=V;var H=n.i(b.translate)()(z)},function(e,t,n){"use strict";function r(e){var t=e.deviceName,n=e.t;return a.a.createElement("div",{className:"player-overlay pl-chromecast-overlay"},a.a.createElement("div",{className:"player-center-content"},a.a.createElement("div",null,n("Playing on {{deviceName}}",{deviceName:t}))))}n.d(t,"a",function(){return d});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),{deviceName:s.a.string.isRequired,t:s.a.func}),l={t:function(){}};r.propTypes=c,r.defaultProps=l;var d=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.errorMessage,n=e.t;return a.a.createElement("div",{className:"pl-error"},a.a.createElement("div",{className:"player-center-content"},a.a.createElement("p",null,n(t))))}n.d(t,"a",function(){return l});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),{errorMessage:s.a.string.isRequired,t:s.a.func.isRequired});r.propTypes=c;var l=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(){return a.a.createElement("div",{className:"pl-overlay pl-overlay--loading"},a.a.createElement("div",{className:"player-center-content"},a.a.createElement("div",{className:"pl-loading-spinner"})))}t.a=r;var i=n(0),a=n.n(i)},function(e,t,n){"use strict";function r(e){var t=e.handleMatureAccepted,n=e.t;return a.a.createElement("div",{className:m},a.a.createElement("div",{className:y},a.a.createElement("div",{className:v},a.a.createElement("p",{className:g},n(f)),a.a.createElement("p",null,a.a.createElement(l.a,{className:b,id:h,onClick:t},n(p))))))}n.d(t,"a",function(){return w});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(2),c=n.n(u),l=n(9),d=n(4),f=(n.n(d),"The broadcaster indicated that the channel is intended for mature audiences."),p="Start Watching",h="mature-link",m=c()("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay"),y=c()("player-center-content"),v=c()("pl-mature-overlay"),g=c()("js-mature-waring-label"),b=c()("player-content-button","js-player-mature-accept","js-mature-accept-label"),_={handleMatureAccepted:s.a.func,t:s.a.func.isRequired};r.propTypes=_;var w=n.i(d.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.onClick,n=e.collectionsSidebarOpen,r=n?null:a.a.createElement(u.a,{className:"player-button player-button-play js-control-play-button",onClick:t},a.a.createElement("svg",{className:"player-icon-play"},a.a.createElement("use",{xlinkHref:"#icon_play"})));return a.a.createElement("div",{className:"player-overlay player-play-overlay js-paused-overlay"},r)}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(9),c={onClick:s.a.func.isRequired,collectionsSidebarOpen:s.a.bool.isRequired};r.propTypes=c},function(e,t,n){"use strict";function r(e){var t=e.channelName,n=e.subscribeUrl,r=e.t;return a.a.createElement("div",{className:"pl-subscribe-overlay pl-subscribe-overlay--wall pl-product-overlay"},a.a.createElement("div",{className:"player-center-content player-product"},a.a.createElement("p",null,r(c,{channelName:t})),a.a.createElement("a",{href:n,target:"_blank",className:"purchase_button"},r("Subscribe"))))}n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),"This video is only available to subscribers. Subscribe now to watch and support {{channelName}}."),l={channelName:s.a.string.isRequired,subscribeUrl:s.a.string.isRequired,t:s.a.func},d={t:function(){}};r.propTypes=l,r.defaultProps=d;var f=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return P});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(79),d=n(2),f=n.n(d),p=n(53),h=n(4),m=(n.n(h),n(9)),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={video:c.a.shape({thumbnailURL:c.a.string.isRequired,title:c.a.string.isRequired,channelName:c.a.string.isRequired,creationDate:c.a.string.isRequired,duration:c.a.number.isRequired,id:c.a.string.isRequired,recommendationType:c.a.string.isRequired}).isRequired,onClose:c.a.func,windowObj:c.a.object.isRequired,onSelect:c.a.func.isRequired,t:c.a.func.isRequired,trackEvent:c.a.func.isRequired},g={onClose:function(){}},b=2e4,_=f()("pl-pinned-item","pl-pinned-item--centered"),w=f()("pl-pinned-item__title","pl-flex"),k=f()("pl-flex__item","pl-flex__item--grow"),E=f()("pl-rec__cancel","pl-button","pl-button--hollow","pl-button--white"),S=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={timeRemaining:b},e._updateTimeRemainingIntervalID=null,e.handleExitButtonClick=e.handleExitButtonClick.bind(e),e.handleSelect=e.handleSelect.bind(e),e}return a(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.video,r=e.t,i=this.state.timeRemaining,a=r("{{timeRemaining}} second",{timeRemaining:Math.round(i/1e3),count:i}),o=s.a.createElement("div",{className:w},s.a.createElement("span",{className:k},r("Playing in"),s.a.createElement("span",{className:"pl-pinned-item__title-highlight"}," ",a)),s.a.createElement(m.a,{className:E,onClick:this.handleExitButtonClick},r("Cancel"))),u=s.a.createElement("span",null,s.a.createElement("figure",{className:"pl-card__smallicon"},s.a.createElement("svg",null,s.a.createElement("use",{xlinkHref:"#pl-icon_vod"}))),s.a.createElement("span",null,r("Most Recent Video")));return s.a.createElement("div",{className:_},o,s.a.createElement(l.a,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:u,onSelect:this.handleSelect,selectItem:t,progressBarPercentage:n.i(p.a)(i,b),hasThumbZoom:!0,hasBorder:!0}))}},{key:"componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"componentDidMount",value:function(){this.startAutoplayCountdown()}},{key:"componentWillUnmount",value:function(){this.stopAutoplayCountdown()}},{key:"startAutoplayCountdown",value:function(){var e=this,t=this.props,n=t.windowObj,r=t.onSelect,i=t.video,a=n.Date.now();this._updateTimeRemainingIntervalID=n.setInterval(function(){var t=n.Date.now(),o=t-a;o<b?e.setState({timeRemaining:b-o}):(e.stopAutoplayCountdown(),e.props.trackEvent("player_rec_autoplay",{recommended_vod_id:e.props.video.id,recommended_vod_type:e.props.video.recommendationType}),r(i))},100)}},{key:"stopAutoplayCountdown",value:function(){this.props.windowObj.clearInterval(this._updateTimeRemainingIntervalID),this._updateTimeRemainingIntervalID=null}},{key:"handleExitButtonClick",value:function(){this.stopAutoplayCountdown(),this.props.onClose()}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),this.stopAutoplayCountdown(),r(e)}}]),t}(s.a.Component);S.defaultProps=g,S.propTypes=v;var P=n.i(h.translate)()(S)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(30),u=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c={date:o.a.object.isRequired,length:o.a.number.isRequired,languageCode:o.a.string.isRequired},l={year:"numeric",month:"short",day:"numeric"},d=function(e){var t=e.length,r=e.date,a=e.languageCode,o=r.toLocaleDateString(a,l),c=n.i(s.b)(t,!1),d=u(c,3),f=d[0],p=d[1],h=d[2],m=f+":"+p+":"+h;return i.a.createElement("div",null,i.a.createElement("span",null,o)," · ",i.a.createElement("span",null,m))};d.propTypes=c},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(66),u=n.n(s),c={percentage:o.a.number.isRequired},l=function(e){var t=e.percentage;return!u()(t)||t<0||t>100?null:i.a.createElement("div",{className:"pl-card__progress-bar"},i.a.createElement("div",{className:"pl-card__progress-bar--fill",style:{width:t+"%"}}))};l.propTypes=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(310),d=n(137),f=n(2),p=n.n(f),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m={videos:c.a.array.isRequired,i18n:c.a.object.isRequired,onSelectVOD:c.a.func.isRequired,playerHeight:c.a.number.isRequired,playerWidth:c.a.number.isRequired,onExit:c.a.func.isRequired,trackEvent:c.a.func.isRequired,windowObj:c.a.object.isRequired,streamWasOnline:c.a.bool.isRequired},y=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showFeatured:!0},e.handleCloseFeaturedPane=e.handleCloseFeaturedPane.bind(e),e}return a(t,e),h(t,[{key:"componentWillMount",value:function(){var e=this.props;(0,e.trackEvent)("player_rec_show",{type:e.streamWasOnline?"postLive":"offline"})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.i18n,r=e.windowObj,i=e.playerHeight,a=e.playerWidth,o=e.onSelectVOD,u=e.onExit,c=e.trackEvent,f=this.state.showFeatured,h=s.a.createElement(d.a,{height:i,width:a,videos:t,onSelect:o,onClose:u,trackEvent:c,windowObj:r,i18n:n}),m=s.a.createElement(l.a,{onClose:this.handleCloseFeaturedPane,onSelect:o,i18n:n,width:a,video:t[0],trackEvent:c}),y=f?m:h,v=p()({"player-overlay":!0,"recommendations-overlay":!0,"pl-rec-wrapper":!this.state.showFeatured,"pl-single-rec-wrapper":this.state.showFeatured});return s.a.createElement("div",{className:v},y)}},{key:"handleCloseFeaturedPane",value:function(){this.setState({showFeatured:!1})}}]),t}(s.a.Component);y.propTypes=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return k});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(79),d=n(2),f=n.n(d),p=n(4),h=(n.n(p),n(133)),m=n(347),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={video:c.a.shape({thumbnailURL:c.a.string.isRequired,title:c.a.string.isRequired,channelName:c.a.string.isRequired,creationDate:c.a.string.isRequired,duration:c.a.number.isRequired,id:c.a.string.isRequired,recommendationType:c.a.string.isRequired}).isRequired,onClose:c.a.func,onSelect:c.a.func.isRequired,t:c.a.func.isRequired,trackEvent:c.a.func.isRequired},g={onClose:function(){}},b=f()("pl-pinned-item__title","pl-flex"),_=f()("pl-flex__item","pl-flex__item--grow"),w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return a(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.t,r=e.onClose,i=s.a.createElement("div",{className:b},s.a.createElement("span",{className:_},n("Watch Now")),s.a.createElement(h.a,{onClick:r})),a=s.a.createElement("span",null,s.a.createElement("figure",{className:"pl-card__smallicon"},s.a.createElement("svg",null,s.a.createElement("use",{xlinkHref:"#pl-icon_vod"}))),s.a.createElement("span",null,n("Most Recent Video")));return s.a.createElement("div",{className:"pl-pinned-item"},i,s.a.createElement(l.a,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:a,onSelect:this.handleSelect,selectItem:t,hasThumbZoom:!0,hasBorder:!0}),s.a.createElement(m.a,null))}},{key:"componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),r(e)}}]),t}(s.a.Component);w.defaultProps=g,w.propTypes=v;var k=n.i(p.translate)()(w)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var o=n(0),s=n.n(o),u=n(306),c=n(137),l=n(2),d=n.n(l),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=d()("player-overlay","recommendations-overlay","pl-rec-wrapper"),h={videos:o.PropTypes.array.isRequired,i18n:o.PropTypes.object.isRequired,onSelectVOD:o.PropTypes.func.isRequired,playerHeight:o.PropTypes.number.isRequired,playerWidth:o.PropTypes.number.isRequired,onExit:o.PropTypes.func.isRequired,trackEvent:o.PropTypes.func.isRequired,windowObj:o.PropTypes.object.isRequired,isMiniPlayer:o.PropTypes.bool.isRequired},m=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={showAutoplayingVOD:!e.isMiniPlayer},n.handleCancelAutoplayVOD=n.handleCancelAutoplayVOD.bind(n),n}return a(t,e),f(t,[{key:"componentWillMount",value:function(){this.props.trackEvent("player_rec_show",{type:"postVOD"})}},{key:"componentWillReceiveProps",value:function(e){this.state.showAutoplayingVOD&&e.isMiniPlayer&&this.setState({showAutoplayingVOD:!1})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.i18n,r=e.windowObj,i=e.playerHeight,a=e.playerWidth,o=e.onSelectVOD,l=e.onExit,d=e.trackEvent,f=e.isMiniPlayer,h=this.state.showAutoplayingVOD;if(f)return null;var m=s.a.createElement(c.a,{height:i,width:a,videos:t,onSelect:o,onClose:l,trackEvent:d,windowObj:r,i18n:n}),y=s.a.createElement(u.a,{onClose:this.handleCancelAutoplayVOD,onSelect:o,i18n:n,width:a,video:t[0],trackEvent:d,windowObj:r}),v=h?y:m;return s.a.createElement("div",{className:p},v)}},{key:"handleCancelAutoplayVOD",value:function(){this.setState({showAutoplayingVOD:!1})}}]),t}(s.a.Component);m.propTypes=h},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(66),i=n.n(r),a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(53),l={duration:u.a.number,mutedSegments:u.a.arrayOf(u.a.shape({duration:u.a.number,offset:u.a.number}))},d=function(e){var t=e.duration,r=e.mutedSegments;if(!i()(t)||t<=0)return null;if(!Array.isArray(r)||r.length<=0)return null;var a=r.map(function(e){return o.a.createElement("span",{className:"player-slider__muted",style:{width:n.i(c.a)(e.duration,t)+"%",left:n.i(c.a)(e.offset,t)+"%"},key:e.offset+"_"+e.duration+"_"+t})});return o.a.createElement("div",{className:"player-slider__muted-segments js-muted-segments-container"},a)};d.propTypes=l},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(53),u={start:o.a.number.isRequired,end:o.a.number.isRequired,max:o.a.number.isRequired,min:o.a.number.isRequired},c=function(e){var t=e.start,r=e.end,a=e.min,o=e.max,u=r-t,c=o-a;return i.a.createElement("div",{style:{width:n.i(s.a)(u,c)+"%",left:n.i(s.a)(t,c)+"%"},className:"player-slider__buffer"})};c.propTypes=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=w[e.type]/e.thumbnail.width;return{thumbOver:{url:e.thumbnail.imageURL,height:e.thumbnail.height*t,width:e.thumbnail.width*t,sheetWidth:e.thumbnail.width*e.thumbnail.cols*t,x:e.thumbnail.x*t,y:e.thumbnail.y*t},thumbUnder:{url:"",height:0,width:0,sheetWidth:0,x:0,y:0},title:e.title,info:e.info,timestamp:h.d(e.startTime,!1),width:w[e.type]}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return isNaN(parseFloat(e[t]))?n:parseFloat(e[t])}n.d(t,"a",function(){return k});var c,l=n(0),d=n.n(l),f=n(1),p=n.n(f),h=n(30),m=n(138),y=n(53),v=n(109),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={currentTime:p.a.number,duration:p.a.number,markers:p.a.array,onHidingMarkerPreview:p.a.func,onShowingMarkerPreview:p.a.func,onMarkerSeek:p.a.func,seekbarWidth:p.a.number,trackEvent:p.a.func},_={currentTime:0,duration:0,markers:[]},w=(c={},o(c,v.b,148),o(c,v.c,78),c),k=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showMarkerPopup:!1,targetDot:null},e.handleMouseEnter=e.handleMouseEnter.bind(e),e.handleMouseLeave=e.handleMouseLeave.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e}return a(t,e),g(t,[{key:"componentDidMount",value:function(){this.preloadMarkerSprites()}},{key:"render",value:function(){var e=this,t=this.props,r=t.currentTime,i=t.duration,a=t.markers,o=this.state,s=o.showMarkerPopup,u=o.targetDot;if(!this.shouldDisplayMarkers())return null;var c=a.map(function(t,a){return d.a.createElement("button",{className:"player-slider__marker-dot",key:t.title+"_"+t.startTime+"_"+t.type,"data-time":t.startTime,"data-marker-index":a,"data-passed":t.startTime<=r,onMouseEnter:e.handleMouseEnter,onMouseLeave:e.handleMouseLeave,onMouseDown:e.handleMouseDown,onKeyDown:e.handleMouseDown,role:"button",style:{left:n.i(y.a)(t.startTime,i)+"%"},tabIndex:0})}),l=null;return s&&u&&(l=this.getSeekbarPopupForMarker(u)),d.a.createElement("div",null,l,d.a.createElement("div",{className:"player-slider__marker-dots"},c))}},{key:"handleMouseEnter",value:function(e){this.setState({showMarkerPopup:!0,targetDot:e.target}),this.props.onShowingMarkerPreview()}},{key:"handleMouseLeave",value:function(){this.setState({showMarkerPopup:!1,targetDot:null}),this.props.onHidingMarkerPreview()}},{key:"handleMouseDown",value:function(e){var t=e.target,n=Number(t.getAttribute("data-time")),r=Number(t.getAttribute("data-marker-index")),i=this.props.markers[r].id;this.props.onMarkerSeek(n,i),e.stopPropagation()}},{key:"shouldDisplayMarkers",value:function(){var e=this.props,t=e.duration,n=e.markers;return t>0&&n.length>0}},{key:"preloadMarkerSprites",value:function(){this.props.markers.forEach(function(e){(new Image).src=e.thumbnail.imageUrl})}},{key:"getSeekbarPopupForMarker",value:function(e){var t=getComputedStyle(e),n=u(t,"left"),r=u(t,"width"),i=u(t,"margin-left"),a=n+.5*r+i,o=Number(e.getAttribute("data-marker-index")),c=this.props.markers[o],l=s(c);return d.a.createElement(m.a,{popupLeftOffset:a,popupWidth:w[c.type],popupObject:l,seekbarWidth:this.props.seekbarWidth})}}]),t}(d.a.Component);k.propTypes=b,k.defaultProps=_},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(30),u={currentTime:o.a.number,duration:o.a.number},c=function(e){var t=e.currentTime,n=e.duration,r=s.d(t),a=s.d(n);return i.a.createElement("div",{className:"player-seek__time-container"},i.a.createElement("span",{className:"player-seek__time"},r),i.a.createElement("span",{className:"player-seek__time player-seek__time--total"},a))};c.propTypes=u},function(e,t,n){"use strict";function r(e){var t=e.duration,n=e.seekbarWidth,r=e.seekbarLeftOffset,a=e.previews,s=e.mouseMoveClientX,u=s-r,c=t*(u/n),f=i(a,c,t);return o.a.createElement(l.a,{popupLeftOffset:u,popupObject:f,popupWidth:d,seekbarWidth:n})}function i(e,t,n){var r=Math.floor(e.count*(t/n)),i=r%(e.hq.cols*e.hq.rows),a=d/e.hq.width;return{thumbOver:{url:e.hq.URLs[Math.floor(r/(e.hq.cols*e.hq.rows))],height:e.hq.height*a,width:e.hq.width*a,sheetWidth:e.hq.width*e.hq.cols*a,x:i%e.hq.cols*e.hq.width*a,y:Math.floor(i/e.hq.cols)*e.hq.height*a},thumbUnder:{url:e.lq.URLs[0],height:e.hq.height*a,width:e.hq.width*a,sheetWidth:e.hq.width*e.lq.cols*a,x:r%e.lq.cols*e.hq.width*a,y:Math.floor(r/e.lq.cols)*e.hq.height*a},title:"",info:"",timestamp:c.d(t,!1),width:d}}t.a=r;var a=n(0),o=n.n(a),s=n(1),u=n.n(s),c=n(30),l=n(138),d=148,f={duration:u.a.number,previews:u.a.object,mouseMoveClientX:u.a.number,seekbarLeftOffset:u.a.number,seekbarWidth:u.a.number},p={duration:0,seekbarLeftOffset:0,seekbarWidth:0};r.propTypes=f,r.defaultProps=p},function(e,t,n){"use strict";function r(e,t,n){var r=e-.5*t;return Math.max(0,Math.min(r,n-t))}n.d(t,"a",function(){return d});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(30),c={duration:s.a.number,mouseMoveClientX:s.a.number,seekbarLeftOffset:s.a.number,seekbarWidth:s.a.number},l={duration:0,seekbarLeftOffset:0,seekbarWidth:0},d=function(e){var t=e.duration,n=e.mouseMoveClientX,i=e.seekbarLeftOffset,o=e.seekbarWidth,s=n-i,c=t*(s/o);return a.a.createElement("div",null,a.a.createElement("div",{className:"player-slider__popup-container",style:{width:92,left:r(s,92,o)}},a.a.createElement("span",{className:"popup-timestamp"},u.d(c,!1))),a.a.createElement("div",{className:"popup-arrow",style:{left:r(s,20,o)}}))};d.propTypes=c,d.defaultProps=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return P});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(41)),h=n(136),m=n(9),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={html5PlayerEnabled:c.a.bool.isRequired,html5ToggleEnabled:c.a.bool.isRequired,isShowingVideoStats:c.a.bool.isRequired,miniPlayerEnabled:c.a.bool.isRequired,miniPlayerToggleEnabled:c.a.bool.isRequired,onHTML5Toggle:c.a.func,onMenuTransition:c.a.func,onMiniPlayerToggle:c.a.func,onStatsToggle:c.a.func,t:c.a.func.isRequired},g={onHTML5Toggle:function(){},onMenuTransition:function(){},onMiniPlayerToggle:function(){},onStatsToggle:function(){}},b=d()({ellipsis:!0,"qa-header-button":!0}),_=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),w=d()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),k=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"qa-item":!0}),E=d()({ellipsis:!0,"qa-show-stats-button":!0}),S=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return a(t,e),y(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(p.g)}},{key:"render",value:function(){var e=this.props,t=(e.html5PlayerEnabled,e.html5ToggleEnabled,e.miniPlayerEnabled),n=e.miniPlayerToggleEnabled,r=e.isShowingVideoStats,i=(e.onHTML5Toggle,e.onMiniPlayerToggle),a=e.onStatsToggle,o=e.t,u=n?s.a.createElement("div",{className:k},s.a.createElement(h.a,{className:"qa-miniplayer-toggle",label:"Mini Player",onToggle:i,toggledOn:t})):null;return s.a.createElement("div",{className:"pl-menu__inner"},s.a.createElement("div",{className:_},s.a.createElement(m.a,{className:b,onClick:this.handleMenuTransition},s.a.createElement("span",null,o("Advanced")))),s.a.createElement("div",{className:w},null,u,s.a.createElement("div",{className:k},s.a.createElement(m.a,{className:E,onClick:a},s.a.createElement("span",null,o(r?"Hide Video Stats":"Show Video Stats"))))))}}]),t}(s.a.Component);S.propTypes=v,S.defaultProps=g;var P=n.i(f.translate)()(S)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return R});var s=n(0),u=n.n(s),c=n(1),l=n.n(c),d=n(432),f=n.n(d),p=n(30),h=n(2),m=n.n(h),y=n(4),v=(n.n(y),n(41)),g=n(9),b=n(139),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={canChangePlaybackSpeed:l.a.bool,captionsAvailable:l.a.bool,currentSpeed:l.a.number,currentTime:l.a.number,isStaffUser:l.a.bool,isVod:l.a.bool.isRequired,onMenuTransition:l.a.func,onPopoutPlayer:l.a.func,onShowCaptionsOptions:l.a.func,selectedQualityName:l.a.string.isRequired,shouldShowQualityMenu:l.a.bool,t:l.a.func.isRequired,vodUrlWithTimestamp:l.a.string,windowObj:l.a.object.isRequired},k={canChangePlaybackSpeed:!1,captionsAvailable:!1,currentSpeed:1,currentTime:0,isStaffUser:!1,onMenuTransition:function(){},onPopoutPlayer:function(){},onShowCaptionsOptions:function(){},shouldShowQualityMenu:!0,vodUrlWithTimestamp:""},E=m()({"pl-menu__item":!0,"pl-menu__item--block":!0}),S=m()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),P=m()({ellipsis:!0,"qa-advanced-button":!0}),C=m()({ellipsis:!0,"qa-report-issue-button":!0}),T=m()({ellipsis:!0,"qa-popout-player-button":!0}),O=m()({ellipsis:!0,"qa-captions-options-button":!0}),x=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasRecentlyCopied:!1},e.copyUrlTimeoutId=0,e.handleAdvancedClick=e.handleAdvancedClick.bind(e),e.handlePlaybackSpeedClick=e.handlePlaybackSpeedClick.bind(e),e.handleQualityClick=e.handleQualityClick.bind(e),e.handleReportIssueClick=e.handleReportIssueClick.bind(e),e.handleStaffClick=e.handleStaffClick.bind(e),e.handleUrlCopied=e.handleUrlCopied.bind(e),e}return o(t,e),_(t,[{key:"componentWillUnmount",value:function(){0!==this.copyUrlTimeoutId&&this.props.windowObj.clearTimeout(this.copyUrlTimeoutId)}},{key:"handleQualityClick",value:function(){this.props.onMenuTransition(v.b)}},{key:"handlePlaybackSpeedClick",value:function(){this.props.onMenuTransition(v.c)}},{key:"handleAdvancedClick",value:function(){this.props.onMenuTransition(v.d)}},{key:"handleReportIssueClick",value:function(){this.props.onMenuTransition(v.e)}},{key:"handleStaffClick",value:function(){this.props.onMenuTransition(v.f)}},{key:"handleUrlCopied",value:function(){var e=this;this.setState({hasRecentlyCopied:!0}),this.copyUrlTimeoutId=this.props.windowObj.setTimeout(function(){e.setState({hasRecentlyCopied:!1}),e.copyUrlTimeoutId=0},2e3)}},{key:"render",value:function(){var e=this.props.shouldShowQualityMenu,t=this._renderQualityButton(),n=this._renderPlaybackSpeedButton(),r=this._renderCaptionsOptionsButton(),i=this._renderAdvancedMenuButton(),a=this._renderReportIssuesMenuButton(),o=this._renderStaffMenuButton(),s=this._renderPopoutPlayerButton(),c=this._renderCopyVideoUrlButton(),l=m()({"pl-menu__section":!0,"pl-menu__section--with-sep":e});return u.a.createElement("div",{className:"pl-menu__inner"},t,u.a.createElement("div",{className:l},n,r,i,a,o,s,c))}},{key:"_renderQualityButton",value:function(){var e=this.props,t=e.selectedQualityName,n=e.shouldShowQualityMenu,r=e.t;return n?u.a.createElement("div",{className:S},u.a.createElement(g.a,{onClick:this.handleQualityClick,className:"qa-quality-button"},u.a.createElement("span",null,r("Quality")),u.a.createElement("span",{className:"pl-pill mg-l-05 qa-quality-pill"},t))):null}},{key:"_renderPlaybackSpeedButton",value:function(){var e=this.props,t=e.currentSpeed,n=e.isVod,r=e.canChangePlaybackSpeed,i=e.t,a=t+"x";return n&&r?u.a.createElement("div",{className:S},u.a.createElement(g.a,{onClick:this.handlePlaybackSpeedClick,className:"qa-playback-speed-button"},u.a.createElement("span",null,i(b.a)),u.a.createElement("span",{className:"pl-pill mg-l-05 qa-playback-speed-pill"},a))):null}},{key:"_renderCaptionsOptionsButton",value:function(){var e=this.props,t=e.captionsAvailable,n=e.onShowCaptionsOptions,r=e.t;return t?u.a.createElement("div",{className:E},u.a.createElement(g.a,{className:O,onClick:n},u.a.createElement("span",null,r("Closed Captions Options")))):null}},{key:"_renderAdvancedMenuButton",value:function(){var e=this.props.t;return u.a.createElement("div",{className:S},u.a.createElement(g.a,{className:P,onClick:this.handleAdvancedClick},u.a.createElement("span",null,e("Advanced"))))}},{key:"_renderReportIssuesMenuButton",value:function(){var e=this.props.t;return u.a.createElement("div",{className:S},u.a.createElement(g.a,{className:C,onClick:this.handleReportIssueClick},u.a.createElement("span",null,e("Report Playback Issue"))))}},{key:"_renderStaffMenuButton",value:function(){return this.props.isStaffUser?u.a.createElement("div",{className:S},u.a.createElement(g.a,{className:"ellipsis qa-staff-button",onClick:this.handleStaffClick},u.a.createElement("span",null,"Staff"))):null}},{key:"_renderPopoutPlayerButton",value:function(){var e=this.props,t=e.onPopoutPlayer,n=e.t;return u.a.createElement("div",{className:E},u.a.createElement(g.a,{className:T,onClick:t},u.a.createElement("span",null,n("Popout Player"))))}},{key:"_renderCopyVideoUrlButton",value:function(){var e,t=this.props,i=t.currentTime,a=t.vodUrlWithTimestamp,o=t.isVod,s=t.t,c=s("Copy Video URL at {{time}}",{time:n.i(p.d)(i)}),l=this.state.hasRecentlyCopied?u.a.createElement(g.a,null,u.a.createElement("span",null,s("Copied!"))):u.a.createElement(f.a,{text:a,onCopy:this.handleUrlCopied,className:"qa-copy-to-clipboard-button"},u.a.createElement(g.a,null,u.a.createElement("span",null,c))),d=m()((e={},r(e,E,!0),r(e,"pl-menu__item--active",this.state.hasRecentlyCopied),e));return o?u.a.createElement("div",{className:d},l):null}}]),t}(u.a.Component);x.propTypes=w,x.defaultProps=k;var R=n.i(y.translate)()(x)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(9),d=n(2),f=n.n(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={isActive:c.a.bool.isRequired,label:c.a.string.isRequired,onClick:c.a.func,speedValue:c.a.number.isRequired},m={onClick:function(){}},y=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),p(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.speedValue)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.label,r=f()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return s.a.createElement("div",{className:r},s.a.createElement(l.a,{className:"ellipsis",onClick:this.handleClick},s.a.createElement("span",null,n)))}}]),t}(s.a.Component);y.propTypes=h,y.defaultProps=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(9),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={isActive:c.a.bool,qualityObj:c.a.shape({name:c.a.string}).isRequired,onQualitySelect:c.a.func},m={isActive:!1,onQualitySelect:function(){}},y=d()({ellipsis:!0,"pl-quality-option-button":!0}),v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectQuality=e.handleSelectQuality.bind(e),e}return a(t,e),p(t,[{key:"handleSelectQuality",value:function(){this.props.onQualitySelect(this.props.qualityObj)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.qualityObj,r=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return s.a.createElement("div",{className:r},s.a.createElement(f.a,{className:y,onClick:this.handleSelectQuality},s.a.createElement("span",null,n.name)))}}]),t}(s.a.Component);v.propTypes=h,v.defaultProps=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(41)),h=n(321),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={availableQualities:c.a.arrayOf(c.a.shape({group:c.a.string})).isRequired,selectedQuality:c.a.string.isRequired,onMenuTransition:c.a.func,onQualitySelect:c.a.func,t:c.a.func.isRequired},v={onMenuTransition:function(){},onQualitySelect:function(){}},g=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),b=d()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),_=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return a(t,e),m(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(p.g)}},{key:"render",value:function(){var e=this.props.t,t=this._getQualityItems();return s.a.createElement("div",{className:"pl-menu__inner"},s.a.createElement("div",{className:g},s.a.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e("Video Quality"))),s.a.createElement("div",{className:b},t))}},{key:"_getQualityItems",value:function(){var e=this.props,t=e.selectedQuality,n=e.onQualitySelect;return this.props.availableQualities.map(function(e){var r=e.group===t;return s.a.createElement(h.a,{isActive:r,key:e.group,onQualitySelect:n,qualityObj:e})})}}]),t}(s.a.Component);_.propTypes=y,_.defaultProps=v;var w=n.i(f.translate)()(_)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return v}),n.d(t,"b",function(){return P});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(41)),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m={t:c.a.func.isRequired,onReportIssueSubmit:c.a.func.isRequired,onMenuTransition:c.a.func,windowObj:c.a.object.isRequired},y={onMenuTransition:function(){}},v=2e3,g=d()({"pl-form__input":!0,ellipsis:!0}),b=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),_=d()({ellipsis:!0,"qa-header-button":!0}),w=d()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),k=d()({"pl-flex":!0,"pl-flex--horizontalEnd":!0,"pd-r-1":!0,"pd-t-1":!0,"pd-b-1":!0}),E=d()({"pl-button":!0,"pl-button--hollow":!0,"qa-submit-button":!0}),S=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={value:"",hasRecentlySubmitted:!1},e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleIssueSelected=e.handleIssueSelected.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return a(t,e),h(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(p.g)}},{key:"handleIssueSelected",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),""!==this.state.value&&(this.props.onReportIssueSubmit(this.state.value),this.setState({hasRecentlySubmitted:!0}),this.props.windowObj.setTimeout(function(){t.setState({hasRecentlySubmitted:!1})},v))}},{key:"render",value:function(){var e=this.props.t,t=this.state.hasRecentlySubmitted,n=this._createSelectElement();return s.a.createElement("div",{className:"pl-menu__inner"},s.a.createElement("div",{className:b},s.a.createElement("button",{className:_,onClick:this.handleMenuTransition},e("Report Playback Issue"))),s.a.createElement("div",{className:w},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form__group"},s.a.createElement("p",null,e("Noticed a video playback issue? Let us know!")),n),s.a.createElement("div",{className:k},s.a.createElement("button",{type:"submit",className:E},e(t?"Sent!":"Submit"))))))}},{key:"_createSelectElement",value:function(){var e=this.props.t;return s.a.createElement("select",{className:g,onBlur:this.handleIssueSelected},s.a.createElement("option",{value:"",disabled:!0,selected:!0},e("Select")),s.a.createElement("option",{value:"stutter-both"},e("Audio and video stutter")),s.a.createElement("option",{value:"stutter-video"},e("Video stutters, but audio is fine")),s.a.createElement("option",{value:"black-screen"},e("Video is completely black or doesn't load")),s.a.createElement("option",{value:"av-desync"},e("Audio and video aren't synced")),s.a.createElement("option",{value:"fullscreen-broken"},e("Fullscreen playback doesn't work")),s.a.createElement("option",{value:"ad-volume"},e("Advertisement can't be muted or is too loud")),s.a.createElement("option",{value:"ad-repeat"},e("Advertisement has played too many times")))}}]),t}(s.a.Component);S.propTypes=m,S.defaultProps=y;var P=n.i(f.translate)()(S)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(2),u=n.n(s),c={bannerLabel:o.a.string.isRequired,showBanner:o.a.bool.isRequired},l=u()({"pl-settings-container":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0}),d=function(e){var t=e.bannerLabel,n=e.showBanner,r=u()({"pl-pill":!0,"pl-settings-banner--animateIn":n,"pl-settings-banner--animateOut":!n,"qa-settings-banner-span":!0});return i.a.createElement("div",{className:l},i.a.createElement("span",{className:r},t))};d.propTypes=c},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(9),u=n(35),c=n(2),l=n.n(c),d={onClick:o.a.func,showSpinningAnimation:o.a.bool.isRequired},f={onClick:function(){}},p=function(e){var t=e.onClick,n=e.showSpinningAnimation,r=l()({"qa-settings-button":!0,"player-button--settings":!0,"player-button":!0}),a=l()({"pl-settings-icon":!0,"pl-settings-icon--spin":n});return i.a.createElement(s.a,{onClick:t,className:r},i.a.createElement(u.a,{label:"Settings",iconId:"#icon_settings",iconClass:a}))};p.propTypes=d,p.defaultProps=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return k});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),n(41)),h=n(9),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={onMenuTransition:c.a.func,onRunLocalPrerollAd:c.a.func,onRunLocalMidrollAd:c.a.func,onRunLocalPostrollAd:c.a.func,t:c.a.func.isRequired},v={onRunLocalPrerollAd:function(){},onRunLocalMidrollAd:function(){},onRunLocalPostrollAd:function(){},onMenuTransition:function(){}},g=d()({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),b=d()({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),_=d()({"pl-menu__item":!0,"pl-menu__item--block":!0}),w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return a(t,e),m(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(p.g)}},{key:"render",value:function(){var e=this.props.t,t=this._renderLocalAdButtons();return s.a.createElement("div",{className:"pl-menu__inner"},s.a.createElement("div",{className:g},s.a.createElement(h.a,{className:"qa-header-button",onClick:this.handleMenuTransition},e("Staff"))),s.a.createElement("div",{className:b},t))}},{key:"_renderLocalAdButtons",value:function(){var e=this.props,t=e.onRunLocalPrerollAd,n=e.onRunLocalMidrollAd,r=e.onRunLocalPostrollAd,i=s.a.createElement("div",{className:_},s.a.createElement(h.a,{className:"ellipsis",onClick:t},s.a.createElement("span",null,"Run Local Preroll Ad"))),a=s.a.createElement("div",{className:_},s.a.createElement(h.a,{className:"ellipsis",onClick:n},s.a.createElement("span",null,"Run Local Midroll Ad"))),o=s.a.createElement("div",{className:_},s.a.createElement(h.a,{className:"ellipsis",onClick:r},s.a.createElement("span",null,"Run Local Postroll Ad")));return s.a.createElement("div",null,i,a,o)}}]),t}(s.a.Component);w.propTypes=y,w.defaultProps=v;var k=n.i(f.translate)()(w)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(53),u={className:o.a.string,max:o.a.number.isRequired,min:o.a.number.isRequired,value:o.a.number.isRequired},c={className:""},l=function(e){var t=e.className,r=e.max,a=e.min,o=e.value,u=o-a,c=r-a,l=n.i(s.a)(u,c)+"%";return i.a.createElement("div",{style:{width:l},className:t})};l.propTypes=u,l.defaultProps=c},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(53),u={className:o.a.string,max:o.a.number.isRequired,min:o.a.number.isRequired,value:o.a.number.isRequired},c={className:""},l=function(e){var t=e.className,r=e.max,a=e.min,o=e.value,u=o-a,c=r-a,l=n.i(s.a)(u,c)+"%";return i.a.createElement("div",{style:{left:l},className:t})};l.propTypes=u,l.defaultProps=c},function(e,t,n){"use strict";function r(e){var t=e.statName,n=e.value,r=e.t;return a.a.createElement("li",{className:"pl-playback-stats--stat"},r(t)+": ",a.a.createElement("div",null,a.a.createElement("span",null,n)))}n.d(t,"a",function(){return l});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(4),c=(n.n(u),{statName:s.a.string.isRequired,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,t:s.a.func.isRequired});r.propTypes=c;var l=n.i(u.translate)()(r)},function(e,t,n){"use strict";function r(e){var t=e.stats,n=e.isLive,r=e.onClose,i=null,o=null;return n&&(i=a.a.createElement(l.a,{statName:"Latency To Broadcaster",value:t.hlsLatencyBroadcaster+" sec."}),o=a.a.createElement(l.a,{statName:"Latency To Encoder",value:t.hlsLatencyEncoder+" sec."})),a.a.createElement("ul",{className:"pl-playback-stats js-playback-stats"},a.a.createElement(d.a,{className:p,onClick:r},a.a.createElement("svg",null,a.a.createElement("use",{xlinkHref:"#icon_close"}))),a.a.createElement(l.a,{statName:"Video Resolution",value:t.videoResolution}),a.a.createElement(l.a,{statName:"Display Resolution",value:t.displayResolution}),a.a.createElement(l.a,{statName:"FPS",value:t.fps}),a.a.createElement(l.a,{statName:"Skipped Frames",value:t.skippedFrames}),a.a.createElement(l.a,{statName:"Buffer Size",value:t.bufferSize+" sec."}),i,o,a.a.createElement(l.a,{statName:"Playback Rate",value:t.playbackRate+" Kbps"}),a.a.createElement(l.a,{statName:"Memory Usage",value:t.memoryUsage}),a.a.createElement(l.a,{statName:"Backend Version",value:t.backendVersion}))}t.a=r;var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(2),c=n.n(u),l=n(329),d=n(9),f={stats:s.a.shape({bufferSize:s.a.number,displayResolution:s.a.string,skippedFrames:s.a.number,fps:s.a.number,hlsLatencyBroadcaster:s.a.number,hlsLatencyEncoder:s.a.number,memoryUsage:s.a.string,playbackRate:s.a.number,videoResolution:s.a.string,backendVersion:s.a.string}).isRequired,isLive:s.a.bool.isRequired,onClose:s.a.func.isRequired},p=c()("player-button","player-button--noscale","player-button--close");r.propTypes=f},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(4),u=(n.n(s),n(2)),c=n.n(u),l={gameName:o.a.string,gameUrl:o.a.string,lang:o.a.object,live:o.a.bool,name:o.a.string,onClick:o.a.func,streamUrl:o.a.string,title:o.a.string,viewerCount:o.a.number,className:o.a.string},d=c()("player-streaminfo__title","qa-stream-title"),f=c()("player-text-link","player-text-link--no-color","qa-game-name"),p={container:"player-streaminfo__name",a:c()("player-text-link","player-text-link--no-color","qa-display-name")},h=function(e){var t=e.gameName,n=e.gameUrl,r=e.lang,a=e.live,o=e.name,u=e.streamUrl,c=e.onClick,l=e.title,h=e.viewerCount,m=e.className,y=Number(h).toLocaleString(r.shortCode),v=i.a.createElement("a",{className:f,href:n,target:"_blank"},t),g=i.a.createElement("span",null,y),b=null;return a&&(b=i.a.createElement("div",{className:"player-streaminfo__viewers"},i.a.createElement(s.Interpolate,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:v,viewerCount:g,options:{count:h}}))),i.a.createElement("div",{className:m},i.a.createElement("div",{className:p.container},i.a.createElement("a",{className:p.a,href:u,target:"_blank",onClick:c},o)),i.a.createElement("div",{className:d},l),i.a.createElement("div",{className:"player-streaminfo__game"},b))};h.propTypes=l;var m=n.i(s.translate)()(h)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n.n(r),a=n(6),o=function(e){var t=e.isViewable,n=e.vodId,r=e.vodTitle;return n&&0!==n.length?t?i.a.createElement("span",null,": ",i.a.createElement("a",{href:a.i+"/videos/"+n,target:"_blank"},r)):i.a.createElement("span",null,": ",r):null};o.propTypes={vodId:r.PropTypes.string,vodTitle:r.PropTypes.string,isViewable:r.PropTypes.bool}},function(e,t,n){"use strict";function r(e,t){switch(e){case"highlight":return t.translate("Playing highlight");case"archive":return t.translate("Playing past broadcast");case"upload":return t.translate("Playing uploaded video");default:return t.translate("Playing pre-recorded video")}}n.d(t,"a",function(){return u});var i=n(0),a=n.n(i),o=n(332),s={container:"player-streaminfo__watchparty",divider:"player-streaminfo__watchparty-divider"},u=function(e){var t=e.lang,n=e.vodIsViewable,i=e.vodId,u=e.vodTitle,c=e.vodBroadcastType;return a.a.createElement("div",{className:s.container},r(c,t),a.a.createElement(o.a,{vodId:i,vodTitle:u,isViewable:n}),a.a.createElement("div",{className:s.divider}))};u.propTypes={lang:i.PropTypes.object,vodId:i.PropTypes.string,vodTitle:i.PropTypes.string,vodIsViewable:i.PropTypes.bool,vodBroadcastType:i.PropTypes.string}},function(e,t,n){"use strict";function r(e){var t=e.castingState,n=e.playerType,r=e.stopCast,i=e.startCast;if(n===d.i)return null;var o=void 0;return o=t===l.b?i:t===l.a?r:function(){},a.a.createElement(f.a,{castingState:t,onClick:o})}n.d(t,"a",function(){return v});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(71)),l=n(44),d=n(7),f=n(253),p={castingState:s.a.string.isRequired,playerType:s.a.string.isRequired,startCast:s.a.func,stopCast:s.a.func},h={startCast:function(){},stopCast:function(){}},m=function(e){var t=e.chromecast,n=e.env;return{castingState:t.castingState,playerType:n.playerType}},y=function(e){return{startCast:function(){e(n.i(c.c)())},stopCast:function(){e(n.i(c.d)())}}};r.propTypes=p,r.defaultProps=h;var v=n.i(u.connect)(m,y)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return P});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(12)),f=n(8),p=n(254),h=n(34),m=n(7),y=n(21),v=n(25),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={clipGenerator:c.a.shape({recordClip:c.a.func.isRequired}).isRequired,hasBroadcastId:c.a.bool.isRequired,hasPlayed:c.a.bool.isRequired,isClipsSupportedChannel:c.a.bool.isRequired,isInvalidStreamType:c.a.bool.isRequired,isLoggedIn:c.a.bool.isRequired,isOfflineLiveStream:c.a.bool.isRequired,isPausedLiveStream:c.a.bool.isRequired,isSitePlayer:c.a.bool.isRequired,isUnsupportedBackend:c.a.bool.isRequired,isUnsupportedPlayer:c.a.bool.isRequired,isValidPlayerType:c.a.bool.isRequired,trackClipRecord:c.a.func.isRequired},_=function(e){var t=(e.backendInfo,e.clips),n=e.env,r=e.onlineStatus,i=e.playback,a=e.stream,o=e.streamMetadata,s=e.user;return{clipGenerator:t.generator,hasBroadcastId:Boolean(o.broadcastID),hasPlayed:i.hasPlayed,isClipsSupportedChannel:-1===E.indexOf(o.channel.name),isInvalidStreamType:a.contentType!==d.a&&a.contentType!==f.a,isLoggedIn:s.loggedInStatus===h.b,isOfflineLiveStream:a.contentType===d.a&&r!==v.a,isPausedLiveStream:a.contentType===d.a&&i.paused,isSitePlayer:n.playerType===m.c,isUnsupportedBackend:!1,isUnsupportedPlayer:n.playerType===m.i,isValidPlayerType:-1===k.indexOf(n.playerType)}},w=function(e){return{trackClipRecord:function(){e(n.i(y.b)("player_click_clip"))}}},k=Object.freeze([m.a,m.e]),E=Object.freeze(["misterrogers"]),S=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClip=e.onClip.bind(e),e}return a(t,e),g(t,[{key:"onClip",value:function(){this.props.clipGenerator.recordClip(),this.props.trackClipRecord()}},{key:"_isValidChannelState",value:function(){return this.props.hasBroadcastId&&this.props.isClipsSupportedChannel}},{key:"_isValidPlaybackState",value:function(){var e=this.props,t=e.hasPlayed,n=e.isPausedLiveStream;return t&&!n}},{key:"_isValidStreamState",value:function(){var e=this.props,t=e.isOfflineLiveStream,n=e.isInvalidStreamType,r=e.isUnsupportedPlayer,i=e.isUnsupportedBackend;return!(t||n||r||i)}},{key:"render",value:function(){var e=this.props,t=e.isLoggedIn,n=e.isSitePlayer,r=e.isValidPlayerType;return t&&r&&this._isValidChannelState()&&this._isValidPlaybackState()&&this._isValidStreamState()?s.a.createElement(p.a,{onClip:this.onClip,hasAltShortcut:n}):null}}]),t}(s.a.Component);S.propTypes=b;var P=n.i(l.connect)(_,w)(S)},function(e,t,n){"use strict";function r(e){var t=e.captionsAvailable,n=e.captionsEnabled,r=e.onEnableCaptions,i=e.onDisableCaptions;return t?a.a.createElement(d.a,{captionsEnabled:n,onEnableCaptions:r,onDisableCaptions:i}):null}n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(26)),l=n(21),d=n(255),f={captionsAvailable:s.a.bool.isRequired,captionsEnabled:s.a.bool.isRequired,onEnableCaptions:s.a.func.isRequired,onDisableCaptions:s.a.func.isRequired},p=function(e){var t=e.captions;return{captionsAvailable:t.available,captionsEnabled:t.enabled}},h=function(e){return{onEnableCaptions:function(){e(n.i(c.b)(!0)),e(n.i(l.b)("player_click_cc"))},onDisableCaptions:function(){e(n.i(c.b)(!1)),e(n.i(l.b)("player_click_cc"))}}};r.propTypes=f;var m=n.i(u.connect)(p,h)(r)},function(e,t,n){"use strict";function r(e){var t=e.channelName,n=e.isFollowing,r=e.onFollowChannel,i=e.onUnfollowChannel,o=e.t;if(e.isOwnChannel)return null;var s=d()("pl-button","pl-button--follow","pl-button--icon","pl-button--status"),u=d()("pl-button","pl-button--follow","pl-button--icon"),l=a.a.createElement(c.a,{className:s,onClick:i},a.a.createElement("span",{className:"pl-button__status pl-button__status--hover"},a.a.createElement("figure",{className:"pl-icon"},a.a.createElement("svg",null,a.a.createElement("use",{xlinkHref:"#icon_unheart"}))),a.a.createElement("span",{className:"pl-button__text"},o("Unfollow"))),a.a.createElement("span",{className:"pl-button__status pl-button__status--primary"},a.a.createElement("figure",{className:"pl-icon"},a.a.createElement("svg",null,a.a.createElement("use",{xlinkHref:"#icon_heart"}))),a.a.createElement("span",{className:"pl-button__text"},o("Following")))),f=a.a.createElement(c.a,{className:u,onClick:r},a.a.createElement("figure",{className:"pl-icon"},a.a.createElement("svg",null,a.a.createElement("use",{xlinkHref:"#icon_heart"}))),a.a.createElement("span",{className:"pl-button__text"},o("Follow {{channelName}} on Twitch",{channelName:t})));return n?l:f}n.d(t,"a",function(){return y});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(9)),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),{channelName:s.a.string.isRequired,isOwnChannel:s.a.bool.isRequired,isFollowing:s.a.bool.isRequired,onFollowChannel:s.a.func.isRequired,onUnfollowChannel:s.a.func.isRequired,t:s.a.func.isRequired}),h=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isFollowing:e.follow.following}};r.propTypes=p;var m=n.i(u.connect)(h),y=n.i(f.translate)()(m(r))},function(e,t,n){"use strict";function r(e){var t=e.canFullScreen,n=e.hasBranding,r=e.isFullScreen,i=e.onFullScreen,o=e.onUnFullScreen;return a.a.createElement(c.a,{canFullScreen:t,hasBranding:n,isFullScreen:r,onFullScreen:i,onUnFullScreen:o})}n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(256)),l=n(28),d=n(21),f={canFullScreen:s.a.bool.isRequired,hasBranding:s.a.bool.isRequired,isFullScreen:s.a.bool.isRequired,onFullScreen:s.a.func.isRequired,onUnFullScreen:s.a.func.isRequired},p=function(e){var t=e.screenMode,n=e.playerOptions;return{canFullScreen:t.canFullScreen,hasBranding:n.branding,isFullScreen:t.isFullScreen}},h=function(e){return{onFullScreen:function(){e(n.i(l.b)(!0)),e(n.i(d.b)("player_click_fullscreen"))},onUnFullScreen:function(){e(n.i(l.b)(!1)),e(n.i(d.b)("player_click_fullscreen"))}}};r.propTypes=f;var m=n.i(u.connect)(p,h)(r)},function(e,t,n){"use strict";function r(e){var t=e.onPause,n=e.onPlay,r=e.paused;return a.a.createElement(c.a,{onPause:t,onPlay:n,paused:r})}n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(257)),l=n(16),d=n(21),f={onPause:s.a.func.isRequired,onPlay:s.a.func.isRequired,paused:s.a.bool.isRequired},p=function(e){return{paused:e.playback.paused}},h=function(e){return{onPlay:function(){e(n.i(l.b)()),e(n.i(d.b)("player_click_playpause"))},onPause:function(){e(n.i(l.c)()),e(n.i(d.b)("player_click_playpause"))}}};r.propTypes=f;var m=n.i(u.connect)(p,h)(r)},function(e,t,n){"use strict";function r(e){if(!e.isSubscribable||e.isOwnChannel)return null;var t=d()({"pl-button":!0,"pl-button--subscribe":!0,"pl-button--success":e.isSubscribed}),n=void 0,r=void 0;return e.isSubscribed?(n=e.t("Subscribed"),r=n):(n=e.t("Subscribe to {{channelName}}",{channelName:e.channelName}),r=e.t("Subscribe")),a.a.createElement(c.a,{className:t,onClick:e.onSubscribe},a.a.createElement("span",{className:"pl-button__text pl-button__text--desktop"},n),a.a.createElement("span",{className:"pl-button__text pl-button__text--mobile"},r))}n.d(t,"a",function(){return y});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(9)),l=n(2),d=n.n(l),f=n(4),p=(n.n(f),{channelName:s.a.string.isRequired,isOwnChannel:s.a.bool.isRequired,isSubscribed:s.a.bool.isRequired,isSubscribable:s.a.bool.isRequired,onSubscribe:s.a.func.isRequired,t:s.a.func.isRequired}),h=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isSubscribed:e.subscriptions.isSubscribed,isSubscribable:e.subscriptions.isSubscribable}};r.propTypes=p;var m=n.i(u.connect)(h),y=n.i(f.translate)()(m(r))},function(e,t,n){"use strict";function r(e){var t=e.canTheatreMode,n=e.isTheatreMode,r=e.enableTheatreMode,i=e.disableTheatreMode,o=e.isFullScreen;return t&&!o?a.a.createElement(c.a,{theatreModeEnabled:n,turnOn:r,turnOff:i}):null}n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(258)),l=n(28),d=n(21),f={canTheatreMode:s.a.bool.isRequired,disableTheatreMode:s.a.func.isRequired,enableTheatreMode:s.a.func.isRequired,isFullScreen:s.a.bool.isRequired,isTheatreMode:s.a.bool.isRequired},p=function(e){var t=e.screenMode;return{canTheatreMode:t.canTheatreMode,isFullScreen:t.isFullScreen,isTheatreMode:t.isTheatreMode}},h=function(e){return{enableTheatreMode:function(){e(n.i(l.c)(!0)),e(n.i(d.b)("player_click_theater"))},disableTheatreMode:function(){e(n.i(l.c)(!1)),e(n.i(d.b)("player_click_theater"))}}};r.propTypes=f;var m=n.i(u.connect)(p,h)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return P});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(259)),f=n(16),p=n(10),h=n(6),m=n(30),y=n(12),v=n(8),g=n(52),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_={currentTime:c.a.number.isRequired,streamType:c.a.string,channelName:c.a.string.isRequired,videoId:c.a.string,windowObj:c.a.object.isRequired,showBranding:c.a.bool.isRequired,pausePlayer:c.a.func.isRequired},w={streamType:g.b,videoId:""},k=function(e){var t=e.playback,n=e.stream,r=e.streamMetadata,i=e.window,a=e.playerOptions;return{currentTime:t.currentTime,streamType:n.contentType,channelName:r.channel.name,videoId:r.videoId,windowObj:i,showBranding:a.branding}},E=function(e){return{pausePlayer:function(){e(n.i(f.c)())}}},S=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),b(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=function(n){return e[n]!==t.props[n]};return n("streamType")||n("channelName")||n("videoId")||n("showBranding")||n("pausePlayer")}},{key:"render",value:function(){return this.props.showBranding?s.a.createElement(d.a,{onClick:this.handleClick}):null}},{key:"handleClick",value:function(){var e=this.props,t=e.streamType,n=e.windowObj,r=e.pausePlayer,i="";switch(t){case y.a:i=this._getLiveURL();break;case v.a:i=this._getVODURL();break;case g.b:i=h.i}n.open(i,"_blank"),r()}},{key:"_getVODURL",value:function(){var e=this.props,t=e.channelName,r=e.videoId,i=e.currentTime,a=n.i(m.c)(Math.round(i));return n.i(p.r)(t,r,{t:a})}},{key:"_getLiveURL",value:function(){return n.i(p.s)(this.props.channelName)}}]),t}(s.a.Component);S.propTypes=_,S.defaultProps=w;var P=n.i(l.connect)(k,E)(S)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var o=n(0),s=n.n(o),u=n(85),c=n.n(u),l=n(1),d=n.n(l),f=n(3),p=(n.n(f),n(262)),h=n(26),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={onClose:d.a.func.isRequired,showPanel:d.a.bool.isRequired},v=function(e){return{showPanel:e.captions.showCCModal}},g=function(e){return{onClose:function(){e(n.i(h.h)(!1))}}},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClickOutside=e.handleClickOutside.bind(e),e}return a(t,e),m(t,[{key:"handleClickOutside",value:function(){var e=this.props,t=e.onClose;e.showPanel&&t()}},{key:"render",value:function(){var e=this.props,t=e.onClose;return e.showPanel?s.a.createElement(p.a,{onClose:t}):null}}]),t}(s.a.Component);b.propTypes=y;var _=n.i(f.connect)(v,g)(c()(b))},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),i=n.n(r),a=n(3),o=(n.n(a),n(15)),s=n(273),u={shouldShow:r.PropTypes.bool.isRequired},c=function(e){var t=e.screen,n=e.ui;return{shouldShow:t[0]===o.e&&!n.isMini}},l=function(e){return e.shouldShow?i.a.createElement(s.a,null):null};l.propTypes=u;var d=n.i(a.connect)(c)(l)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return O});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(85),d=n.n(l),f=n(431),p=n.n(f),h=n(83),m=n.n(h),y=n(3),v=(n.n(y),n(45)),g=n(276),b=n(31),_=n(19),w=n(15),k=n(8),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),S={collection:c.a.object.isRequired,showSidebar:c.a.bool.isRequired,currentVideoId:c.a.string.isRequired,onCloseSidebar:c.a.func.isRequired,onSelectCollectionItem:c.a.func.isRequired,windowObj:c.a.object.isRequired,shouldRender:c.a.bool.isRequired},P=function(e){var t=e.collection,n=e.stream,r=e.window,i=e.ui,a=e.screen;return{collection:t,showSidebar:t.currentView===v.a,currentVideoId:n.contentType===k.a?n.videoId:"",windowObj:r,shouldRender:!i.isMini&&a[0]!==w.f&&a[0]!==w.g&&""!==t.id&&n.contentType===k.a}},C=function(e){return{onCloseSidebar:function(){e(n.i(b.c)())},onSelectCollectionItem:function(t,r){e(n.i(_.h)("v"+t,r))}}},T=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectItem=e.handleSelectItem.bind(e),e.beginClosingSidebar=e.beginClosingSidebar.bind(e),e.stopClosingSidebar=e.stopClosingSidebar.bind(e),e.closeSidebarTimeout=null,e}return a(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.collection,n=e.currentVideoId,r=e.showSidebar,i=e.onCloseSidebar;if(!e.shouldRender)return null;this._preloadThumbnails();var a=m()(t.items,function(e){return"v"+e.itemId===n}),o=s.a.createElement(g.a,{currentItemIndex:a,collection:t,onSelectItem:this.handleSelectItem,onClose:i,key:t.id+"_"+a,onMouseLeave:this.beginClosingSidebar,onMouseEnter:this.stopClosingSidebar}),u=r?o:null;return s.a.createElement(p.a,{component:"div"},u)}},{key:"_preloadThumbnails",value:function(){this.props.collection.items.forEach(function(e){(new Image).src=e.thumbnails.small})}},{key:"handleSelectItem",value:function(e){this.props.onSelectCollectionItem(e,this.props.collection.id)}},{key:"beginClosingSidebar",value:function(){var e=this.props,t=e.windowObj,n=e.onCloseSidebar;this.closeSidebarTimeout=t.setTimeout(function(){return n()},400)}},{key:"stopClosingSidebar",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}},{key:"handleClickOutside",value:function(){this.props.showSidebar&&this.props.onCloseSidebar()}},{key:"componentWillUnmount",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}}]),t}(s.a.Component);T.propTypes=S;var O=n.i(y.connect)(P,C)(d()(T))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return k});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(45)),f=n(31),p=n(277),h=n(15),m=n(8),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={collectionItems:c.a.array.isRequired,shouldShowTopBar:c.a.bool.isRequired,showDivider:c.a.bool.isRequired,stream:c.a.object.isRequired,showSidebar:c.a.func,title:c.a.string.isRequired,win:c.a.object.isRequired},g={showSidebar:function(){}},b=function(e){var t=e.collection,n=e.playerOptions,r=e.ui,i=e.stream,a=e.window,o=e.screenMode,s=e.screen;return{title:t.title,shouldShowTopBar:t.currentView===d.b&&!r.isMini&&s[0]===h.d,showDivider:n.showInfo||o.isTheatreMode,collectionItems:t.items,stream:i,win:a}},_=function(e){return{showSidebar:function(){e(n.i(f.j)())}}},w=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showSidebar=e.showSidebar.bind(e),e.onMouseEnter=e.onMouseEnter.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e._hoverTimeout=0,e}return a(t,e),y(t,[{key:"onMouseEnter",value:function(){this._hoverTimeout=this.props.win.setTimeout(this.showSidebar,250)}},{key:"onMouseLeave",value:function(){this.props.win.clearTimeout(this._hoverTimeout),this._hoverTimeout=0}},{key:"showSidebar",value:function(){this.props.showSidebar()}},{key:"render",value:function(){var e=this.props,t=e.collectionItems,n=e.shouldShowTopBar,r=e.showDivider,i=e.stream,a=e.title;return n&&i.contentType===m.a?s.a.createElement(p.a,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,collectionItems:t,showDivider:r,showSidebar:this.showSidebar,streamId:String(i.videoId).substr(1),title:a}):null}}]),t}(s.a.Component);w.propTypes=v,w.defaultProps=g;var k=n.i(l.connect)(b,_)(w)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(278)),f=n(31),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={featuredCollection:c.a.shape({id:c.a.string,title:c.a.string,itemsCount:c.a.number,thumbnails:c.a.shape({large:c.a.string,medium:c.a.string,small:c.a.string,template:c.a.string}).isRequired,owner:c.a.shape({displayName:c.a.string,id:c.a.string,name:c.a.string})}).isRequired,requestCollection:c.a.func,showFeaturedCollection:c.a.bool.isRequired,trackEvent:c.a.func},m={requestCollection:function(){},trackEvent:function(){}},y=function(e){var t=e.analyticsTracker,n=e.collection;return{trackEvent:t.trackEvent,featuredCollection:n.featuredCollection,showFeaturedCollection:!(""===n.featuredCollection.id)}},v=function(e){return{requestCollection:function(t){e(n.i(f.b)(t))}}},g=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return a(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.featuredCollection;e.showFeaturedCollection&&!this.props.showFeaturedCollection&&(this._preloadThumbnail(),this.props.trackEvent("player_rec_show_collection",{recommended_collection_id:t.id}))}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent;(0,t.requestCollection)(e.id),n("player_rec_select",{recommended_vod_view:"collection",recommended_collection_id:e.id})}},{key:"_preloadThumbnail",value:function(){var e=this.props.featuredCollection;(new Image).src=e.thumbnails.medium}},{key:"render",value:function(){var e=this.props,t=e.showFeaturedCollection,n=e.featuredCollection;return t?s.a.createElement(d.a,{thumbnailURL:n.thumbnails.medium,featuredCollection:n,onSelect:this.handleSelect}):null}}]),t}(s.a.Component);g.propTypes=h,g.defaultProps=m;var b=n.i(l.connect)(y,v)(g)},function(e,t,n){"use strict";function r(e){var t=e.t,n=e.hideFollowPanel,r=e.streamType,i=n?null:a.a.createElement(l.a,null),o=a.a.createElement("div",{className:v},a.a.createElement("h2",{className:"pl-pinned-panel__title"},t("Live Broadcast has ended")),i);return r===d.b?o:null}n.d(t,"a",function(){return g});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(4)),l=(n.n(c),n(355)),d=n(46),f=n(7),p=n(2),h=n.n(p),m={t:s.a.func.isRequired,streamType:s.a.string.isRequired,hideFollowPanel:s.a.bool.isRequired},y=function(e){var t=e.env,n=e.streamMetadata,r=e.user;return{streamType:n.streamType,hideFollowPanel:n.channel.id===r.id||t.playerType===f.k}},v=h()("pl-pinned-panel","pl-pinned-panel--embed");r.propTypes=m;var g=n.i(c.translate)()(n.i(u.connect)(y)(r))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return A});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(5),d=n.n(l),f=n(85),p=n.n(f),h=n(3),m=(n.n(h),n(289)),y=n(290),v=n(33),g=n(32),b=n(49),_=n(12),w=n(25),k=n(46),E=n(34),S=n(36),P=n(62),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T={isLoggedIn:c.a.bool.isRequired,isSettingsShown:c.a.bool.isRequired,onShowSettings:c.a.func,onIdentityToggle:c.a.func.isRequired,playerHeight:c.a.number.isRequired,loginId:c.a.number.isRequired,locale:c.a.string.isRequired,playerType:c.a.string.isRequired,trackEvent:c.a.func.isRequired,windowObj:c.a.object.isRequired,extensions:c.a.arrayOf(g.a).isRequired,shouldEnableExtensions:c.a.bool.isRequired},O={showSettings:function(){},extensions:[]},x=function(e){return{extensions:e.extensions.activeOverlayExtensions,isLoggedIn:e.user.loggedInStatus===E.b,isSettingsShown:e.ui.showSettings===v.b,shouldEnableExtensions:e.env.platform!==b.a&&!S.c.hasOwnProperty(e.env.playerType)&&e.stream.contentType===_.a&&e.streamMetadata.streamType!==k.a&&e.playback.contentShowing&&e.onlineStatus===w.a,playerHeight:e.playerDimensions.height,loginId:e.user.id,locale:e.lang.langCode,playerType:e.env.playerType,trackEvent:e.analyticsTracker.trackEvent,windowObj:e.window}},R=function(e){return{onShowSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.c;e(n.i(v.d)(t))},onIdentityToggle:function(t){e(n.i(P.c)(t.id))}}},I=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSettingsButtonClick=e.handleSettingsButtonClick.bind(e),e.handleWindowBlur=e.handleWindowBlur.bind(e),e.handleIdentityToggleClick=e.handleIdentityToggleClick.bind(e),e.trackEvent=e.trackEvent.bind(e),e}return a(t,e),C(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this.handleWindowBlur)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this.handleWindowBlur)}},{key:"trackEvent",value:function(e,t,n){this.props.trackEvent(e,d()(n,{extension_id:t.id,extension_version:t.version,extension_anchor:t.anchor,extension_mode:"viewer",locale:this.props.locale,login_id:this.props.loginId,player_type:this.props.playerType}))}},{key:"handleWindowBlur",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(v.c)}},{key:"handleClickOutside",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(v.c)}},{key:"handleIdentityToggleClick",value:function(e){this.props.onIdentityToggle(e),this.props.onShowSettings(v.c)}},{key:"handleSettingsButtonClick",value:function(){var e=this.props.isSettingsShown?v.c:v.b;this.props.onShowSettings(e)}},{key:"render",value:function(){var e=this.props.extensions.filter(function(e){return e.anchor!==S.d});if(!this.props.shouldEnableExtensions||0===e.length)return null;var t=this.props.isSettingsShown?s.a.createElement(y.a,{extensions:e,isLoggedIn:this.props.isLoggedIn,onIdentityToggle:this.handleIdentityToggleClick,playerHeight:this.props.playerHeight,trackEvent:this.trackEvent,windowObj:this.props.windowObj}):null;return s.a.createElement("div",{className:"pl-flex"},s.a.createElement(m.a,{onClick:this.handleSettingsButtonClick,tooltip:"Extensions"}),t)}}]),t}(s.a.Component);I.propTypes=T,I.defaultProps=O;var L=p()(I),A=n.i(h.connect)(x,R)(L)},function(e,t,n){"use strict";function r(e){var t=e.purchaseIntent,n=e.clearPurchaseIntent;if(!t)return null;var r=t.payload,i=t.makePurchase,o=function(){n(),i()},s=function(){n()};return a.a.createElement(l.b,{cancel:s,confirm:o,productPayload:r})}n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(62)),l=n(281),d={clearPurchaseIntent:s.a.func.isRequired,purchaseIntent:s.a.shape({payload:l.a,makePurchase:s.a.func.isRequired})},f=function(e){return{purchaseIntent:e.extensions.purchaseIntent}},p=function(e){return{clearPurchaseIntent:function(){e(n.i(c.s)(null))}}};r.propTypes=d;var h=n.i(u.connect)(f,p)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return A});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(5)),f=n.n(d),p=n(287),h=n(49),m=n(12),y=n(34),v=n(32),g=n(18),b=n(62),_=n(7),w=n(25),k=n(28),E=n(46),S=n(2),P=n.n(S),C=n(36),T=n(291),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x={onExtensionDoubleClick:c.a.func.isRequired,onIdentityLinked:c.a.func.isRequired,onModalRequested:c.a.func.isRequired,onModalClose:c.a.func.isRequired,onPurchaseIntent:c.a.func.isRequired,shouldEnableExtensions:c.a.bool.isRequired,shouldShowExtensions:c.a.bool.isRequired,extensions:c.a.arrayOf(v.a).isRequired,modalRequest:v.b,game:c.a.string.isRequired,width:c.a.number.isRequired,height:c.a.number.isRequired,videoResolution:c.a.string.isRequired,isLoggedIn:c.a.bool.isRequired,login:c.a.string.isRequired,loginId:c.a.number.isRequired,channel:c.a.string.isRequired,channelId:c.a.number.isRequired,deviceId:c.a.string.isRequired,platform:c.a.string.isRequired,locale:c.a.string.isRequired,playerType:c.a.string.isRequired,trackEvent:c.a.func.isRequired},R=function(e){return{extensions:e.extensions.activeOverlayExtensions,modalRequest:e.extensions.modalRequest,game:e.streamMetadata.game,width:e.playerDimensions.width,height:e.playerDimensions.height,videoResolution:e.stats.videoStats.videoResolution,shouldEnableExtensions:e.env.platform!==h.a&&!C.c.hasOwnProperty(e.env.playerType)&&e.stream.contentType===m.a&&e.streamMetadata.streamType!==E.a&&e.playback.contentShowing&&e.onlineStatus===w.a,shouldShowExtensions:e.env.playerType!==_.m&&e.ads.currentMetadata.contentType===g.c.NONE,isLoggedIn:e.user.loggedInStatus===y.b,login:e.user.name,loginId:e.user.id,channel:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,deviceId:e.env.deviceId,platform:e.env.platform,locale:e.lang.langCode,playerType:e.env.playerType,trackEvent:e.analyticsTracker.trackEvent}},I=function(e){return{onExtensionDoubleClick:function(){e(n.i(k.d)())},onIdentityLinked:function(t,r){e(n.i(b.p)(t,r))},onModalRequested:function(t){e(n.i(b.q)(t))},onModalClose:function(){e(n.i(b.r)())},onPurchaseIntent:function(t,r){var i={payload:t,makePurchase:r};e(n.i(b.s)(i))}}},L=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundTrackEvent=e._trackEvent.bind(e),e}return a(t,e),O(t,[{key:"render",value:function(){var e=this.props,t=e.shouldEnableExtensions,n=e.shouldShowExtensions,r=e.extensions,i=e.game,a=e.videoResolution,o=this._getAspectRatio(a),u=this._computeDimensions(this.props.width,this.props.height,o),c=u.width,l=u.height,d=this._getTrackingProperties();if(!t||!r.length)return null;var f=r[0],h=P()({"extension-container":!0,hide:!n||f.anchor===C.d}),m=s.a.createElement(T.a,{playerHeight:l,extensions:r,modalRequest:this.props.modalRequest,onModalClose:this.props.onModalClose});return s.a.createElement("div",{className:h},s.a.createElement("div",{className:"extension-overlays"},s.a.createElement(p.a,{ref:this._boundExtensionOverlayRefHandler,width:c,height:l,key:f.id,extension:f,game:i,locale:this.props.locale,onIdentityLinked:this.props.onIdentityLinked,onModalRequested:this.props.onModalRequested,trackingProperties:d,onDoubleClick:this.props.onExtensionDoubleClick,onBeginPurchase:this.props.onPurchaseIntent})),m)}},{key:"_trackEvent",value:function(e,t){var n=this.props.extensions[0];this.props.trackEvent(e,f()(t,{extension_id:n.id,extension_version:n.version,extension_anchor:n.anchor,extension_mode:"viewer",locale:this.props.locale,login_id:this.props.loginId,player_type:this.props.playerType}))}},{key:"_getTrackingProperties",value:function(){return{login:this.props.login,loginId:this.props.loginId,channel:this.props.channel,channelId:this.props.channelId,deviceId:this.props.deviceId,platform:this.props.platform,locale:this.props.locale,playerType:this.props.playerType}}},{key:"_computeDimensions",value:function(e,t,n){var r=e/t>n;return{width:r?Math.ceil(t*n):e,height:r?t:Math.ceil(e/n)}}},{key:"_getAspectRatio",value:function(e){var t=/(\d+)\D*(\d+)/g,n=t.exec(e);if(!n)return 16/9;var r=parseInt(n[1],10),i=parseInt(n[2],10);return i?r/i:16/9}}]),t}(s.a.Component);L.propTypes=x;var A=n.i(l.connect)(R,I)(L)},function(e,t,n){"use strict";function r(e){var t=e.playerType;if(e.streamType===f.b)return null;switch(t){case d.n:case d.c:case d.o:return a.a.createElement(c.a,null);case d.l:return a.a.createElement(l.a,null);default:return null}}n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(354)),l=n(353),d=n(7),f=n(46),p={playerType:s.a.string.isRequired,streamType:s.a.string.isRequired},h=function(e){var t=e.env,n=e.streamMetadata;return{playerType:t.playerType,streamType:n.streamType}};r.propTypes=p;var m=n.i(u.connect)(h)(r)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(102),i=n(292),a=n.i(r.a)(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(102),i=n(293),a=n.i(r.a)(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(102),i=n(295),a=n.i(r.a)(i.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f={i18n:c.a.object,shouldShowMutedSegmentsAlert:c.a.bool},p=function(e){return{i18n:e.lang,shouldShowMutedSegmentsAlert:e.timelineMetadata.mutedSegments.length>0}},h=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasDismissedAlert:!1},e.handleCloseAlertClick=e.handleCloseAlertClick.bind(e),e}return a(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.shouldShowMutedSegmentsAlert,r=this.state.hasDismissedAlert;return!n||r?null:s.a.createElement("div",{className:"player-alert"},s.a.createElement("p",null,t.translate("Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.")),s.a.createElement("button",{type:"button",className:"player-button player-button--noscale player-button--close",onClick:this.handleCloseAlertClick},s.a.createElement("svg",null,s.a.createElement("use",{xlinkHref:"#icon_close"}))))}},{key:"handleCloseAlertClick",value:function(){this.setState({hasDismissedAlert:!0})}}]),t}(s.a.Component);h.propTypes=f;var m=n.i(l.connect)(p)(h)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(95)),f=n(33),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={i18n:c.a.object.isRequired,windowObj:c.a.object.isRequired,notifications:c.a.arrayOf(c.a.func).isRequired,removeCurrentNotification:c.a.func,currentMenu:c.a.string.isRequired},m=function(e){var t=e.notifications,n=e.lang,r=e.ui,i=e.window;return{notifications:t,i18n:n,currentMenu:r.showSettings,windowObj:i}},y=function(e){return{removeCurrentNotification:function(){e(n.i(d.a)())}}},v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return a(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.currentMenu,r=n!==f.c;if(!t.length||r)return null;var i=t[0];return s.a.createElement(i,{onClose:this.handleClose,showNotification:!r})}},{key:"handleClose",value:function(){this.props.removeCurrentNotification()}}]),t}(s.a.Component);v.propTypes=h;var g=n.i(l.connect)(m,y)(v)},function(e,t,n){"use strict";function r(e){var t=e.clickThroughUrl,n=e.isPartner,r=e.displayName,i=void 0;return i=n?"This Ad supports "+r:"Advertisement",a.a.createElement(c.a,{clickThroughUrl:t,adLabel:i})}n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(298)),l={clickThroughUrl:s.a.string.isRequired,isPartner:s.a.bool.isRequired,displayName:s.a.string.isRequired},d=function(e){var t=e.ads,n=e.streamMetadata;return{clickThroughUrl:t.clickThrough,isPartner:n.channel.partner,displayName:n.channel.displayName}};r.propTypes=l;var f=n.i(u.connect)(d)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(11)),f=n.n(d),p=n(299),h=n(22),m=n(16),y=n(19),v=n(18),g=n(40),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=["budlight"],w={playback:c.a.object.isRequired,streamMetadata:c.a.object.isRequired,mutePlayer:c.a.func.isRequired,contentIsShowing:c.a.func.isRequired,play:c.a.func.isRequired,pause:c.a.func.isRequired,requestAds:c.a.func.isRequired},k={playback:function(){},streamMetadata:function(){},mutePlayer:function(){},contentIsShowing:function(){},play:function(){},pause:function(){},requestAds:function(){}},E=function(e){return{playback:e.playback,streamMetadata:e.streamMetadata}},S=function(e){return{mutePlayer:function(t,r){e(n.i(m.a)(t,r))},contentIsShowing:function(){e(n.i(y.c)())},play:function(){e(n.i(m.b)())},pause:function(){e(n.i(m.c)())},requestAds:function(t,r){e(n.i(v.d)(t,r))}}},P=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showAgeGateOverlay:!1},e.handleAgeGatePassed=e.handleAgeGatePassed.bind(e),e}return a(t,e),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=this._shouldShowOverlay(e),n=this.state.showAgeGateOverlay;t&&!n?(this.setState({showAgeGateOverlay:!0}),this.props.mutePlayer(!0,!0),this.props.pause(),this.props.contentIsShowing()):!t&&n&&this.setState({showAgeGateOverlay:!1})}},{key:"_shouldShowOverlay",value:function(e){var t=e.streamMetadata,n=h.a.get("age_gate",{});return f()(_,t.channel.name)&&!n[t.channel.name]}},{key:"render",value:function(){var e=this.props.streamMetadata;return this.state.showAgeGateOverlay?s.a.createElement(p.a,{handleAgeGatePassed:this.handleAgeGatePassed,channelName:e.channel.name}):null}},{key:"handleAgeGatePassed",value:function(){var e=this.props,t=e.playback,n=e.streamMetadata,r=h.a.get("age_gate",{});r[n.channel.name]=!0,h.a.set("age_gate",r),this.setState({showAgeGateOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0),t.autoplay&&this.props.requestAds(g.b,v.e)}}]),t}(s.a.Component);P.propTypes=w,P.defaultProps=k;var C=n.i(l.connect)(E,S)(P)},function(e,t,n){"use strict";function r(e){var t=e.deviceName;return e.castingState!==u.a?null:a.a.createElement(l.a,{deviceName:t})}n.d(t,"a",function(){return p});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(44),c=n(3),l=(n.n(c),n(300)),d={deviceName:s.a.string.isRequired,castingState:s.a.string.isRequired},f=function(e){var t=e.chromecast;return{castingState:t.castingState,deviceName:t.deviceName}};r.propTypes=d;var p=n.i(c.connect)(f)(r)},function(e,t,n){"use strict";function r(e){var t=e.hasError,n=e.error,r=e.isVODRestricted;return!t||t&&r?null:a.a.createElement(u.a,{errorMessage:n.message})}n.d(t,"a",function(){return p});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(301),c=n(3),l=(n.n(c),n(15)),d={error:s.a.object.isRequired,hasError:s.a.bool.isRequired,isVODRestricted:s.a.bool.isRequired},f=function(e){var t=e.error,n=e.screen;return{error:t.error,hasError:t.hasError,isVODRestricted:n[0]===l.a}};r.propTypes=d;var p=n.i(c.connect)(f)(r)},function(e,t,n){"use strict";function r(e){var t=e.showOverlay,n=e.play,r=e.collectionsSidebarOpen;return t?a.a.createElement(l.a,{onClick:n,collectionsSidebarOpen:r}):null}n.d(t,"a",function(){return b});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(3),c=(n.n(u),n(16)),l=n(304),d=n(8),f=n(44),p=n(15),h=n(25),m=n(45),y={showOverlay:s.a.bool.isRequired,play:s.a.func.isRequired,collectionsSidebarOpen:s.a.bool.isRequired},v=function(e){var t=e.chromecast,n=e.collection,r=e.error,i=e.playback,a=e.onlineStatus,o=e.screen,s=e.stream,u=e.ui,c=i.paused,l=u.isMini,y=r.hasError,v=a===h.b,g=s.contentType===d.a&&i.ended,b=t.castingState===f.e||t.castingState===f.a,_=o[0]===p.b||o[0]===p.g;return{collectionsSidebarOpen:n.currentView===m.a,showOverlay:(c||g)&&!b&&!l&&!_&&!y&&!v}},g=function(e){return{play:function(){e(n.i(c.b)())}}};r.propTypes=y;var b=n.i(u.connect)(v,g)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var o=n(0),s=n.n(o),u=n(3),c=(n.n(u),n(1)),l=n.n(c),d=n(6),f=n(19),p=n(15),h=n(305),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={channelName:l.a.string.isRequired,contentIsShowing:l.a.func.isRequired,shouldRenderSubOverlay:l.a.bool.isRequired},v={shouldRenderSubOverlay:!1},g=function(e){var t=e.screen;return{channelName:e.streamMetadata.channel.name,shouldRenderSubOverlay:t[0]===p.a}},b=function(e){return{contentIsShowing:function(){e(n.i(f.c)())}}},_=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),m(t,[{key:"componentDidMount",value:function(){this.props.contentIsShowing()}},{key:"render",value:function(){var e=this.props,t=e.channelName;if(e.shouldRenderSubOverlay){var n=d.i+"/"+t+"/subscribe?ref=chansub_overlay_subscribe";return s.a.createElement(h.a,{channelName:t,subscribeUrl:n})}return null}}]),t}(s.a.Component);_.propTypes=y,_.defaultProps=v;var w=n.i(u.connect)(g,b)(_)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(15)),f=n(309),p=n(50),h=n(19),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={recommendedVideos:c.a.array.isRequired,recommendationType:c.a.string.isRequired,windowObj:c.a.object.isRequired,showRecommendations:c.a.bool.isRequired,selectRecommendedVideo:c.a.func.isRequired,popScreen:c.a.func.isRequired,clearRecommendedVODs:c.a.func.isRequired,i18n:c.a.object.isRequired,playerDimensions:c.a.shape({height:c.a.number,width:c.a.number}).isRequired,trackEvent:c.a.func.isRequired,streamHasPlayed:c.a.bool.isRequired},v=function(e){var t=e.lang,n=e.screen,r=e.recommendations,i=e.window,a=e.playerDimensions,o=e.analyticsTracker,s=e.playback;return{recommendedVideos:r.videos,recommendationType:r.type,windowObj:i,showRecommendations:n[0]===d.b&&s.ended,i18n:t,playerDimensions:a,trackEvent:o.trackEvent,streamHasPlayed:s.hasPlayed}},g=function(e){return{selectRecommendedVideo:function(t){e(n.i(h.f)(t))},popScreen:function(){e(n.i(d.c)())},clearRecommendedVODs:function(){e(n.i(p.b)())}}},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e}return a(t,e),m(t,[{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.windowObj,r=e.showRecommendations,i=e.i18n,a=e.playerDimensions,o=e.recommendationType,u=e.trackEvent,c=e.streamHasPlayed;if(t.length>0&&this._preloadVideoThumbnails(),!r||0===t.length)return null;switch(o){case p.d:return s.a.createElement(f.a,{videos:t,i18n:i,onSelectVOD:this.handleSelectVOD,windowObj:n,playerHeight:a.height,playerWidth:a.width,onExit:this.handleExitRecommendations,trackEvent:u,streamWasOnline:c});default:return null}}},{key:"_preloadVideoThumbnails",value:function(){this.props.recommendedVideos.forEach(function(e){(new Image).src=e.thumbnailURL})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen(),this.props.clearRecommendedVODs()}}]),t}(s.a.Component);b.propTypes=y;var _=n.i(l.connect)(v,g)(b)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return g});var o=n(0),s=n.n(o),u=n(3),c=(n.n(u),n(15)),l=n(311),d=n(50),f=n(19),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h={recommendedVideos:o.PropTypes.array.isRequired,windowObj:o.PropTypes.object.isRequired,showRecommendations:o.PropTypes.bool.isRequired,selectRecommendedVideo:o.PropTypes.func.isRequired,popScreen:o.PropTypes.func.isRequired,clearRecommendedVODs:o.PropTypes.func.isRequired,i18n:o.PropTypes.object.isRequired,playerDimensions:o.PropTypes.shape({height:o.PropTypes.number,width:o.PropTypes.number}).isRequired,trackEvent:o.PropTypes.func.isRequired,isMiniPlayer:o.PropTypes.bool.isRequired},m=function(e){var t=e.lang,n=e.screen,r=e.recommendations,i=e.window,a=e.playerDimensions,o=e.analyticsTracker,s=e.ui;return{recommendedVideos:r.videos,windowObj:i,showRecommendations:n[0]===c.b&&r.type===d.a,i18n:t,playerDimensions:a,trackEvent:o.trackEvent,isMiniPlayer:s.isMini}},y=function(e){return{selectRecommendedVideo:function(t){e(n.i(f.f)(t))},popScreen:function(){e(n.i(c.c)())},clearRecommendedVODs:function(){e(n.i(d.b)())}}},v=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e}return a(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){e.recommendedVideos!==this.props.recommendedVideos&&e.recommendedVideos.length>0&&this._preloadVideoThumbnails(e.recommendedVideos)}},{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.windowObj,r=e.showRecommendations,i=e.i18n,a=e.playerDimensions,o=e.trackEvent,u=e.isMiniPlayer;return r&&0!==t.length?s.a.createElement(l.a,{videos:t,i18n:i,onSelectVOD:this.handleSelectVOD,windowObj:n,playerHeight:a.height,playerWidth:a.width,onExit:this.handleExitRecommendations,trackEvent:o,isMiniPlayer:u}):null}},{key:"_preloadVideoThumbnails",value:function(e){e.forEach(function(e){(new Image).src=e.thumbnailURL})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen(),this.props.clearRecommendedVODs()}}]),t}(s.a.Component);v.propTypes=h;var g=n.i(u.connect)(m,y)(v)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return I});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(70),d=n.n(l),f=n(103),p=n.n(f),h=n(3),m=(n.n(h),n(312)),y=n(313),v=n(315),g=n(140),b=n(8),_=n(19),w=n(16),k=n(316),E=n(317),S=n(314),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C={buffer:c.a.shape({start:c.a.number,end:c.a.number}),currentTime:c.a.number,duration:c.a.number,getCurrentTime:c.a.func,isSeekableStream:c.a.bool.isRequired,mutedSegments:c.a.arrayOf(c.a.shape({duration:c.a.number,offset:c.a.number})),seek:c.a.func.isRequired,seekbarMarkers:c.a.array,thumbnailPreviews:c.a.object,windowObj:c.a.object,trackEvent:c.a.func.isRequired},T=function(e){var t=e.playback,n=e.stream,r=e.timelineMetadata,i=e.window,a=e.analyticsTracker;return{buffer:t.buffer,currentTime:t.currentTime,duration:t.duration,isSeekableStream:n.contentType===b.a,mutedSegments:r.mutedSegments,seekbarMarkers:r.markers,thumbnailPreviews:r.previews,windowObj:i,trackEvent:a.trackEvent}},O=function(e){return{seek:function(t){e(n.i(w.g)(t)),e(n.i(_.g)(!0))}}},x={slider:"player-slider player-slider--roundhandle js-player-slider",sliderLeft:"ui-slider-range",sliderThumb:"ui-slider-handle"},R=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,isShowingMarkerPreview:!1,mouseMoveClientX:0,mouseMoveOnSeekbar:!1},e.$seekbar=null,e.handleDragStart=e.handleDragStart.bind(e),e.handleDragStop=e.handleDragStop.bind(e),e.handleClick=e.handleClick.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e.seekbarRefHandler=e.seekbarRefHandler.bind(e),e.seekToPosition=e.seekToPosition.bind(e),e.handleShowingMarkerPreview=e.handleShowingMarkerPreview.bind(e),e.handleHidingMarkerPreview=e.handleHidingMarkerPreview.bind(e),e}return a(t,e),P(t,[{key:"render",value:function(){var e=this.props,t=e.currentTime,n=e.duration;if(!e.isSeekableStream)return null;var r=this.createSliderComponent(),i=s.a.createElement(v.a,{currentTime:t,duration:n});return s.a.createElement("div",{className:"player-seek"},i,r)}},{key:"createSliderComponent",value:function(){var e=this.state,t=e.isDragging,n=e.isShowingMarkerPreview,r=e.mouseMoveOnSeekbar,i=this.props,a=i.buffer,o=i.currentTime,u=i.duration,c=i.getCurrentTime,l=i.mutedSegments,d=i.seekbarMarkers,f=i.trackEvent,p=i.windowObj,h=this.getSeekbarDimensions(),v=h.seekbarWidth,b=t?null:s.a.createElement(y.a,{start:a.start,end:a.end,max:u,min:0}),_=s.a.createElement(m.a,{duration:u,mutedSegments:l}),w=null;r&&!n&&u>0&&(w=this.createSeekbarPreviews());var k=s.a.createElement(S.a,{currentTime:o,duration:u,markers:d,onHidingMarkerPreview:this.handleHidingMarkerPreview,onMarkerSeek:this.seekToPosition,onShowingMarkerPreview:this.handleShowingMarkerPreview,seekbarWidth:v,trackEvent:f});return s.a.createElement(g.a,{classNames:x,max:u,min:0,onClick:this.handleClick,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut,ref:this.seekbarRefHandler,dragHandlers:{onStart:this.handleDragStart,onStop:this.handleDragStop},windowObj:p,getOptimizedValue:c,valueOptimizationEnabled:!0,behindSliderChildren:b,afterSliderChildren:[_,w,k]})}},{key:"getSeekbarDimensions",value:function(){var e=0,t=0;if(this.$seekbar){var n=this.$seekbar.getBoundingClientRect();e=n.width,t=n.left}return{seekbarWidth:e,seekbarLeftOffset:t}}},{key:"createSeekbarPreviews",value:function(){var e=this.state.mouseMoveClientX,t=this.props,n=t.duration,r=t.thumbnailPreviews,i=this.getSeekbarDimensions(),a=i.seekbarWidth,o=i.seekbarLeftOffset,u=d.a.msedge||d.a.msie;return r.count>0&&!u?s.a.createElement(k.a,{duration:n,previews:r,mouseMoveClientX:e,seekbarLeftOffset:o,seekbarWidth:a}):s.a.createElement(E.a,{duration:n,mouseMoveClientX:e,seekbarLeftOffset:o,seekbarWidth:a})}},{key:"seekbarRefHandler",value:function(e){this.$seekbar=p.a.findDOMNode(e)}},{key:"handleClick",value:function(e){this.state.isDragging&&this.seekToPosition(e)}},{key:"handleMouseMove",value:function(e){this.setState({mouseMoveOnSeekbar:!0,mouseMoveClientX:e.clientX})}},{key:"handleMouseOut",value:function(){this.setState({mouseMoveOnSeekbar:!1,mouseMoveClientX:0})}},{key:"handleDragStart",value:function(){this.setState({isDragging:!0})}},{key:"handleDragStop",value:function(e){this.setState({isDragging:!1}),this.seekToPosition(e)}},{key:"handleShowingMarkerPreview",value:function(){this.setState({isShowingMarkerPreview:!0})}},{key:"handleHidingMarkerPreview",value:function(){this.setState({isShowingMarkerPreview:!1})}},{key:"seekToPosition",value:function(e,t){var n=t?{markerId:t}:{};this.props.seek(e),this.props.trackEvent("player_click_vod_seek",n)}}]),t}(s.a.Component);R.propTypes=C;var I=n.i(h.connect)(T,O)(R)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return S});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(85),d=n.n(l),f=n(3),p=(n.n(f),n(373)),h=n(325),m=n(41),y=n(33),v=n(48),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={isAutoQuality:c.a.bool.isRequired,isEnded:c.a.bool.isRequired,isPaused:c.a.bool.isRequired,isSettingsShown:c.a.bool.isRequired,onShowSettings:c.a.func,playerHeight:c.a.number.isRequired,qualitiesAvailable:c.a.bool.isRequired,qualityIsChanging:c.a.bool.isRequired,trackEvent:c.a.func.isRequired,windowObj:c.a.object.isRequired},_={showSettings:function(){}},w=function(e){var t=e.analyticsTracker,n=e.quality,r=e.playback,i=e.playerDimensions,a=e.ui,o=e.window;return{isAutoQuality:n.selected===v.e,isEnded:r.ended,isPaused:r.paused,isSettingsShown:a.showSettings===y.e,playerHeight:i.height,qualitiesAvailable:n.available.length>0,qualityIsChanging:n.selected!==n.current,trackEvent:t.trackEvent,windowObj:o}},k=function(e){return{onShowSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.c;e(n.i(y.d)(t))}}},E=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSettingsButtonClick=e.handleSettingsButtonClick.bind(e),e.handleWindowBlur=e.handleWindowBlur.bind(e),e}return a(t,e),g(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this.handleWindowBlur)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this.handleWindowBlur)}},{key:"handleWindowBlur",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(y.c)}},{key:"handleClickOutside",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(y.c)}},{key:"handleSettingsButtonClick",value:function(){var e=this.props.isSettingsShown?y.c:y.e;this.props.onShowSettings(e),this.props.trackEvent("player_click_options")}},{key:"render",value:function(){var e=this.props,t=e.isAutoQuality,n=e.isEnded,r=e.isPaused,i=e.isSettingsShown,a=e.playerHeight,o=e.qualitiesAvailable,u=e.qualityIsChanging,c=i?s.a.createElement(m.h,{playerHeight:a}):null,l=!t&&o&&u,d=!n&&!r,f=l&&d;return s.a.createElement("div",{className:"pl-flex"},s.a.createElement(p.a,null),s.a.createElement(h.a,{onClick:this.handleSettingsButtonClick,showSpinningAnimation:f}),c)}}]),t}(s.a.Component);E.propTypes=b,E.defaultProps=_;var S=n.i(f.connect)(w,k)(d()(E))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return S});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(318)),f=n(59),p=n(7),h=n(63),m=n(74),y=(n(16),n(101)),v=n(27),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b={isCursePlayer:c.a.bool.isRequired,isHTML5Player:c.a.bool.isRequired,isMiniPlayerEnabled:c.a.bool.isRequired,isSitePlayer:c.a.bool.isRequired,onMenuTransition:c.a.func,statsDisplayed:c.a.bool.isRequired,toggleHTML5Player:c.a.func.isRequired,toggleMiniPlayer:c.a.func.isRequired,toggleVideoStats:c.a.func.isRequired},_={onMenuTransition:function(){}},w=function(e){var t=e.backendInfo,n=e.env,r=e.settings,i=e.stats;return t.playerBackendType,{isCursePlayer:n.playerType===p.b,isHTML5Player:!0,isMiniPlayerEnabled:r.persistenceEnabled,isSitePlayer:n.playerType===p.c,statsDisplayed:i.displayed}},k=function(e){return{toggleVideoStats:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?n.i(h.a)(!0):n.i(h.a)(!1))},toggleMiniPlayer:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?n.i(m.b)():n.i(m.c)())},toggleHTML5Player:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}}},E=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.toggleVideoStats=e.toggleVideoStats.bind(e),e.toggleMiniPlayer=e.toggleMiniPlayer.bind(e),e.toggleHTML5Player=e.toggleHTML5Player.bind(e),e}return a(t,e),g(t,[{key:"toggleVideoStats",value:function(){this.props.toggleVideoStats(!this.props.statsDisplayed)}},{key:"toggleMiniPlayer",value:function(){this.props.toggleMiniPlayer(!this.props.isMiniPlayerEnabled)}},{key:"toggleHTML5Player",value:function(){this.props.toggleHTML5Player(!this.props.isHTML5Player)}},{key:"render",value:function(){var e=this.props,t=e.statsDisplayed,n=e.isCursePlayer,r=e.isHTML5Player,i=e.isMiniPlayerEnabled,a=e.isSitePlayer,o=e.onMenuTransition,u=f.b.canPlay(),c=!n&&u;return s.a.createElement("div",null,s.a.createElement(y.a,{uuid:v.v,renderValue:"keep"},s.a.createElement(d.a,{html5PlayerEnabled:r,html5ToggleEnabled:c,isShowingVideoStats:t,miniPlayerEnabled:i,miniPlayerToggleEnabled:a,onMenuTransition:o,onMiniPlayerToggle:this.toggleMiniPlayer,onStatsToggle:this.toggleVideoStats,onHTML5Toggle:this.toggleHTML5Player})),s.a.createElement(y.a,{uuid:v.v,renderValue:"remove"},s.a.createElement(d.a,{html5PlayerEnabled:r,html5ToggleEnabled:!1,isShowingVideoStats:t,miniPlayerEnabled:i,miniPlayerToggleEnabled:a,onMenuTransition:o,onMiniPlayerToggle:this.toggleMiniPlayer,onStatsToggle:this.toggleVideoStats,onHTML5Toggle:this.toggleHTML5Player})))}}]),t}(s.a.Component);E.propTypes=b,E.defaultProps=_;var S=n.i(l.connect)(w,k)(E)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(37),d=n.n(l),f=n(3),p=(n.n(f),n(319)),h=n(397),m=n(16),y=n(30),v=n(8),g=(n(59),n(33)),b=n(26),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={availableQualities:c.a.array.isRequired,backendType:c.a.string.isRequired,captionsAvailable:c.a.bool.isRequired,collection:c.a.object.isRequired,currentSpeed:c.a.number.isRequired,currentTime:c.a.number,hideSettingsMenu:c.a.func,isStaffUser:c.a.bool,isVod:c.a.bool.isRequired,onMenuTransition:c.a.func,pausePlayback:c.a.func,playback:c.a.object.isRequired,playerType:c.a.string,selectedQuality:c.a.string.isRequired,showCaptionsOptions:c.a.func.isRequired,stream:c.a.object.isRequired,streamUrl:c.a.string,windowObj:c.a.object.isRequired},k={currentTime:0,isStaffUser:!1,hideSettingsMenu:function(){},onMenuTransition:function(){},pausePlayback:function(){},streamUrl:"",playerType:""},E=function(e){var t=e.backendInfo,n=e.captions,r=e.collection,i=e.env,a=e.playback,o=e.quality,s=e.stream,u=e.streamMetadata,c=e.user,l=e.window;return{availableQualities:o.available,backendType:t.playerBackendType,captionsAvailable:n.available,collection:r,currentSpeed:a.playbackRate,currentTime:a.currentTime,isStaffUser:c.isStaff,isVod:s.contentType===v.a,playback:a,playerType:i.playerType,selectedQuality:o.selected,stream:s,streamUrl:u.url,windowObj:l}},S=function(e){return{pausePlayback:function(){e(n.i(m.c)())},hideSettingsMenu:function(){e(n.i(g.d)(g.c))},showCaptionsOptions:function(){e(n.i(b.h)(!0))}}},P=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showCaptionsOptions=e.showCaptionsOptions.bind(e),e.popoutPlayer=e.popoutPlayer.bind(e),e}return a(t,e),_(t,[{key:"showCaptionsOptions",value:function(){this.props.hideSettingsMenu(),this.props.showCaptionsOptions()}},{key:"popoutPlayer",value:function(){this.props.pausePlayback(),this.props.hideSettingsMenu(),n.i(h.a)({collection:this.props.collection,playback:this.props.playback,stream:this.props.stream,window:this.props.windowObj,playerType:this.props.playerType})}},{key:"render",value:function(){var e=this.props,t=e.availableQualities,r=(e.backendType,e.captionsAvailable),i=e.currentTime,a=e.currentSpeed,o=e.isStaffUser,u=e.isVod,c=e.onMenuTransition,l=e.selectedQuality,f=e.streamUrl,h=e.windowObj,m=d()(t,function(e){return e.group===l}),v=m?m.name:"",g=f+"?t="+n.i(y.c)(i),b=t.length>0;return s.a.createElement(p.a,{canChangePlaybackSpeed:!0,captionsAvailable:r,currentTime:i,currentSpeed:a,isStaffUser:o,isVod:u,onMenuTransition:c,onPopoutPlayer:this.popoutPlayer,onShowCaptionsOptions:this.showCaptionsOptions,selectedQualityName:v,shouldShowQualityMenu:b,vodUrlWithTimestamp:g,windowObj:h})}}]),t}(s.a.Component);P.propTypes=w,P.defaultProps=k;var C=n.i(f.connect)(E,S)(P)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(139)),f=n(16),p=n(33),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m={currentSpeed:c.a.number.isRequired,onMenuTransition:c.a.func,selectNewPlaybackRate:c.a.func,tracker:c.a.object},y={onMenuTransition:function(){},selectNewPlaybackRate:function(){},tracker:{trackEvent:function(){}}},v=function(e){var t=e.analyticsTracker;return{currentSpeed:e.playback.playbackRate,tracker:t}},g=function(e){return{selectNewPlaybackRate:function(t){e(n.i(f.d)(t)),e(n.i(p.d)(p.c))}}},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectPlaybackRate=e.handleSelectPlaybackRate.bind(e),e}return a(t,e),h(t,[{key:"handleSelectPlaybackRate",value:function(e){var t=this.props,n=t.selectNewPlaybackRate;t.tracker.trackEvent("player_click_playback",{speed:e}),n(e)}},{key:"render",value:function(){var e=this.props,t=e.currentSpeed,n=e.onMenuTransition;return s.a.createElement(d.b,{currentSpeed:t,onMenuTransition:n,onSelectPlaybackSpeed:this.handleSelectPlaybackRate})}}]),t}(s.a.Component);b.propTypes=m,b.defaultProps=y;var _=n.i(l.connect)(v,g)(b)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(3),u=(n.n(s),n(322)),c=n(48),l=n(33),d=n(21),f={availableQualities:o.a.array.isRequired,selectedQuality:o.a.string.isRequired,onMenuTransition:o.a.func,handleSelectQuality:o.a.func},p={onMenuTransition:function(){},handleSelectQuality:function(){}},h=function(e){var t=e.quality;return{availableQualities:t.available,selectedQuality:t.selected}},m=function(e){return{handleSelectQuality:function(t){e(n.i(c.c)(t.group)),e(n.i(c.d)(t)),e(n.i(l.d)(l.c)),e(n.i(d.b)("player_click_quality_change"))}}},y=function(e){var t=e.availableQualities,n=e.selectedQuality,r=e.handleSelectQuality,a=e.onMenuTransition;return i.a.createElement(u.a,{availableQualities:t,selectedQuality:n,onMenuTransition:a,onQualitySelect:r})};y.propTypes=f,y.defaultProps=p;var v=n.i(s.connect)(h,m)(y)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return _});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(323)),f=n(16),p=n(33),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m={handleVideoIssueReport:c.a.func,hideSettingsMenu:c.a.func,onMenuTransition:c.a.func,windowObj:c.a.object.isRequired},y={handleVideoIssueReport:function(){},hideSettingsMenu:function(){},onMenuTransition:function(){}},v=function(e){return{windowObj:e.window}},g=function(e){return{handleVideoIssueReport:function(t){e(n.i(f.e)(t))},hideSettingsMenu:function(){e(n.i(p.d)(p.c))}}},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleVideoIssueReport=e.handleVideoIssueReport.bind(e),e}return a(t,e),h(t,[{key:"handleVideoIssueReport",value:function(e){var t=this;this.props.handleVideoIssueReport(e),this.props.windowObj.setTimeout(function(){t.props.hideSettingsMenu()},d.a)}},{key:"render",value:function(){var e=this.props,t=e.onMenuTransition,n=e.handleVideoIssueReport,r=e.windowObj;return s.a.createElement(d.b,{onMenuTransition:t,onReportIssueSubmit:n,windowObj:r})}}]),t}(s.a.Component);b.propTypes=m,b.defaultProps=y;var _=n.i(l.connect)(v,g)(b)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(37),d=n.n(l),f=n(3),p=(n.n(f),n(4)),h=(n.n(p),n(324)),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={availableQualities:c.a.array.isRequired,currentQuality:c.a.string.isRequired,playbackRate:c.a.number.isRequired,t:c.a.func.isRequired,windowObj:c.a.object.isRequired},v=function(e){var t=e.playback,n=e.quality,r=e.window;return{availableQualities:n.available,currentQuality:n.current,playbackRate:t.playbackRate,windowObj:r}},g=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={canRenderBanner:!1,lastQuality:"",hasChangedQuality:!1},e.bannerHideTimeout=0,e}return a(t,e),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.currentQuality!==this.state.lastQuality&&(0!==this.bannerHideTimeout&&this.clearBannerHideTimeout(),this.showBannerForQuality(e.currentQuality),this.bannerHideTimeout=e.windowObj.setTimeout(function(){t.hideBannerForQuality()},5e3)),e.currentQuality===this.state.lastQuality&&1===e.playbackRate||this.setState({canRenderBanner:!0})}},{key:"componentWillUnmount",value:function(){0!==this.bannerHideTimeout&&this.props.windowObj.clearTimeout(this.bannerHideTimeout)}},{key:"clearBannerHideTimeout",value:function(){this.props.windowObj.clearTimeout(this.bannerHideTimeout),this.bannerHideTimeout=0}},{key:"showBannerForQuality",value:function(e){this.setState({lastQuality:e,hasChangedQuality:!0})}},{key:"hideBannerForQuality",value:function(){this.setState({hasChangedQuality:!1}),this.bannerHideTimeout=0}},{key:"render",value:function(){var e=this.props.playbackRate,t=this.state,n=t.canRenderBanner,r=t.hasChangedQuality,i=r||1!==e,a=this._getBannerLabel();return n?s.a.createElement(h.a,{bannerLabel:a,showBanner:i}):null}},{key:"_getBannerLabel",value:function(){var e=this.props.playbackRate;return this.state.hasChangedQuality?this._getQualityName():1!==e?e+"x":""}},{key:"_getQualityName",value:function(){var e=this.props,t=e.availableQualities,n=e.currentQuality,r=e.t,i=d()(t,function(e){return e.group===n});return r(i?i.name:"")}}]),t}(s.a.Component);g.propTypes=y;var b=n.i(p.translate)()(n.i(f.connect)(v)(g))},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(1),i=n.n(r),a=n(0),o=n.n(a),s=n(3),u=(n.n(s),n(326)),c=n(18),l={onMenuTransition:i.a.func,onRunLocalPrerollAd:i.a.func.isRequired,onRunLocalMidrollAd:i.a.func.isRequired,onRunLocalPostrollAd:i.a.func.isRequired},d={onMenuTransition:function(){}},f=function(e){return{onRunLocalPrerollAd:function(){e(n.i(c.d)(c.f.PREROLL,c.e,!0))},onRunLocalMidrollAd:function(){e(n.i(c.d)(c.f.MIDROLL,c.e,!0))},onRunLocalPostrollAd:function(){e(n.i(c.d)(c.f.POSTROLL,c.e,!0))}}},p=function(e){var t=e.onMenuTransition,n=e.onRunLocalPrerollAd,r=e.onRunLocalMidrollAd,i=e.onRunLocalPostrollAd;return o.a.createElement(u.a,{onMenuTransition:t,onRunLocalPrerollAd:n,onRunLocalMidrollAd:r,onRunLocalPostrollAd:i})};p.propTypes=l,p.defaultProps=d;var h=n.i(s.connect)(null,f)(p)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return b});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(330)),f=n(63),p=n(12),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m={stats:c.a.shape({bufferSize:c.a.number,displayResolution:c.a.string,skippedFrames:c.a.number,fps:c.a.number,hlsLatencyBroadcaster:c.a.number,hlsLatencyEncoder:c.a.number,memoryUsage:c.a.string,playbackRate:c.a.number,videoResolution:c.a.string,backendVersion:c.a.string}).isRequired,isLive:c.a.bool.isRequired,displayed:c.a.bool.isRequired,closeStats:c.a.func.isRequired},y=function(e){var t=e.stats;return{isLive:e.stream.contentType===p.a,displayed:t.displayed,stats:t.videoStats}},v=function(e){return{closeStats:function(){e(n.i(f.a)(!1))}}},g=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClose=e.onClose.bind(e),e}return a(t,e),h(t,[{key:"onClose",value:function(){this.props.closeStats()}},{key:"render",value:function(){var e=this.props,t=e.isLive,n=e.displayed,r=e.stats;return n?s.a.createElement(d.a,{isLive:t,onClose:this.onClose,stats:r}):null}}]),t}(s.a.Component);g.propTypes=m;var b=n.i(l.connect)(y,v)(g)},function(e,t,n){"use strict";function r(e){return e.showTopBar?a.a.createElement("div",{className:h},a.a.createElement(u.a,null),a.a.createElement(c.a,null)):null}n.d(t,"a",function(){return v});var i=n(0),a=n.n(i),o=n(1),s=n.n(o),u=n(346),c=n(377),l=n(3),d=(n.n(l),n(2)),f=n.n(d),p=n(7),h=f()("player-hover","player-controls-top","js-controls-top"),m=Object.freeze({showTopBar:s.a.bool.isRequired}),y=function(e){return{showTopBar:e.env.playerType!==p.e}};r.propTypes=m;var v=n.i(l.connect)(y)(r)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(279)),f=n(331),p=n(6),h=n(16),m=n(7),y=n(379),v=n(333),g=n(2),b=n.n(g),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={channelName:c.a.string,displayName:c.a.string,gameName:c.a.string,lang:c.a.object,logo:c.a.string,name:c.a.string,pause:c.a.func,status:c.a.string,streamUrl:c.a.string,viewerCount:c.a.number,playerType:c.a.string,isWatchParty:c.a.bool,vodId:c.a.string,vodTitle:c.a.string,vodIsViewable:c.a.bool,vodBroadcastType:c.a.string},k=function(e){var t=e.env,n=e.lang,r=e.streamMetadata,i=e.viewercount,a=e.watchParty;return{channelName:r.channelName,displayName:r.channel.displayName,gameName:r.game,lang:n,logo:r.channel.logo,name:r.name,status:r.channel.status,streamUrl:r.url,viewerCount:i,playerType:t.playerType,isWatchParty:"watch_party"===r.streamType,vodId:a.vodId,vodTitle:a.title,vodIsViewable:"public"===a.viewable,vodBroadcastType:a.broadcastType}},E=function(e){return{pause:function(){e(n.i(h.c)())}}},S={a:"player-streaminfo__picture",img:"qa-broadcaster-logo"},P=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),_(t,[{key:"render",value:function(){if(this.props.playerType===m.a)return null;var e=this.props.playerType===m.g,t=e?s.a.createElement(y.a,null):null,n=e?null:this._createLogoComponent(),r=this.props.isWatchParty?s.a.createElement(v.a,this.props):null;return s.a.createElement("div",{className:"player-streaminfo"},r,n,this._createStreamInfoDisplay(),t)}},{key:"_createLogoComponent",value:function(){var e=this.props,t=e.logo,n=e.streamUrl;return t?s.a.createElement(d.a,{classNames:S,imgSrc:t,href:n,onClick:this.props.pause,target:"_blank"}):null}},{key:"_createStreamInfoDisplay",value:function(){var e=this.props,t=e.displayName,n=e.channelName,r=e.name,i=e.status,a=e.gameName,o=e.streamUrl,u=e.viewerCount,c=e.playerType,l=e.lang,d=Boolean(n),h=d?i:r,y=p.w+"/"+encodeURIComponent(a),v=c===m.g,g=b()({"player-streaminfo__meta-container":!v});return t?s.a.createElement(f.a,{className:g,live:d,name:t,title:h,gameName:a,gameUrl:y,onClick:this.props.pause,streamUrl:o,viewerCount:u,lang:l}):null}}]),t}(s.a.PureComponent);P.propTypes=w;var C=n.i(l.connect)(k,E)(P)},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n(0),i=n.n(r),a=n(1),o=n.n(a),s=n(3),u=(n.n(s),n(12)),c=n(15),l=n(25),d=n(27),f=n(101),p=n(2),h=n.n(p),m={streamType:o.a.string,i18n:o.a.object.isRequired,isOnline:o.a.bool,inCollection:o.a.bool,isWatchParty:o.a.bool.isRequired,showingRecommendations:o.a.bool},y=function(e){var t=e.lang,n=e.onlineStatus,r=e.stream,i=e.collection,a=e.streamMetadata,o=e.screen;return{streamType:r.contentType,i18n:t,isOnline:n===l.a,inCollection:Boolean(i.id),isWatchParty:"watch_party"===a.streamType,showingRecommendations:o[0]===c.b}},v=h()("player-hover","player-streamstatus"),g=function(e){var t=e.streamType,n=e.i18n,r=e.isOnline,a=e.inCollection,o=e.isWatchParty,s=e.showingRecommendations,c=null;if(!a&&!s){var l=h()("player-streamstatus__type","player-streamstatus__type--live","qa-live-label"),p=h()("player-streamstatus__type","player-streamstatus__type--offline"),m=h()("player-streamstatus__type","player-streamstatus__type--watchparty");t===u.a&&(c=o&&r?i.a.createElement("span",null,i.a.createElement(f.a,{uuid:d.x,renderValue:"yes"},i.a.createElement("span",{className:m},i.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Vodcast")))),i.a.createElement(f.a,{uuid:d.x,renderValue:"no"},i.a.createElement("span",{className:l},i.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Live"))))):r?i.a.createElement("span",{className:l},i.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Live"))):i.a.createElement("span",{className:p},i.a.createElement("span",{className:"player-streamstatus__label"},n.translate("Offline"))))}return i.a.createElement("div",{className:v},c)};g.propTypes=m;var b=n.i(s.connect)(y)(g)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return w});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(42),d=n(3),f=(n.n(d),n(294)),p=n(34),h=n(7),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y={avatarURL:c.a.string,channelName:c.a.string.isRequired,channelId:c.a.number.isRequired,userId:c.a.number.isRequired,isLoggedIn:c.a.bool.isRequired,isFollowing:c.a.bool.isRequired,didFetchFollow:c.a.bool.isRequired,didFetchSubscriptions:c.a.bool.isRequired,followChannel:c.a.func.isRequired,unfollowChannel:c.a.func.isRequired,window:c.a.object.isRequired,notificationsEnabled:c.a.bool.isRequired,analytics:c.a.object.isRequired,targetOrigin:c.a.string.isRequired},v=function(e){return{avatarURL:e.streamMetadata.channel.logo,channelName:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,userId:e.user.id,isLoggedIn:e.user.loggedInStatus===p.b,isFollowing:e.follow.following,didFetchSubscriptions:e.subscriptions.didFetch,didFetchFollow:e.follow.fetched,window:e.window,notificationsEnabled:e.follow.notificationsEnabled,analytics:e.analyticsTracker,targetOrigin:e.env.twitchEverywhere.targetOrigin}},g=function(e){return{followChannel:function(t,r){e(n.i(l.j)(t,r))},unfollowChannel:function(t,r){e(n.i(l.k)(t,r))}}},b=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribe=e.handleSubscribe.bind(e),e}return a(t,e),m(t,[{key:"componentDidMount",value:function(){this.props.analytics.trackEvent(l.e,{follow_state:this.props.isFollowing,notif_state:this.props.notificationsEnabled,src:h.g})}},{key:"postMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.window.parent.postMessage({eventName:e,namespace:"twitch-everywhere",params:t},this.props.targetOrigin)}},{key:"handleFollowChannel",value:function(){this.props.isLoggedIn?this.props.followChannel(this.props.userId,this.props.channelId):this.postMessage("authentication-required")}},{key:"handleUnfollowChannel",value:function(){this.props.unfollowChannel(this.props.userId,this.props.channelId)}},{key:"handleSubscribe",value:function(){var e=this.props.channelName;this.postMessage("subscribe",{channelName:e})}},{key:"render",value:function(){var e=!this.props.isLoggedIn&&this.props.channelName,t=this.props.didFetchFollow&&this.props.didFetchSubscriptions,n=this.props.channelId===this.props.userId;return e||t&&!n?s.a.createElement(f.a,{avatarURL:this.props.avatarURL,onFollowChannel:this.handleFollowChannel,onUnfollowChannel:this.handleUnfollowChannel,onSubscribe:this.handleSubscribe}):null}}]),t}(s.a.Component);b.propTypes=y;var _=n.i(d.connect)(v,g),w=_(b)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return E});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(140)),f=n(16),p=n(6),h=n(2),m=n.n(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={i18n:c.a.object,muted:c.a.bool,mutePlayer:c.a.func,changeVolume:c.a.func,volume:c.a.number},g=function(e){var t=e.lang,n=e.playback;return{i18n:t,muted:n.muted,volume:n.volume}},b=function(e){return{mutePlayer:function(t){e(n.i(f.a)(t,!1))},changeVolume:function(t){e(n.i(f.f)(t))}}},_={slider:"player-volume__slider player-slider",sliderLeft:"ui-slider-range",sliderThumb:"ui-slider-handle"},w=m()("pl-flex","pl-flex__item--grow","player-volume"),k=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleIconClick=e.handleIconClick.bind(e),e.changeVolume=e.changeVolume.bind(e),e}return a(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.muted,n=e.volume,r=t?0:n,i=this.getVolumeIcon();return s.a.createElement("div",{className:w},s.a.createElement("button",{type:"button",className:"player-button player-button--volume qa-control-volume",onClick:this.handleIconClick},i),s.a.createElement("div",{className:"player-volume__slider-container"},s.a.createElement(d.a,{classNames:_,max:1,min:0,value:r,skipAnimation:!0,dragHandlers:{onDrag:this.changeVolume,onStop:this.changeVolume},onClick:this.changeVolume})))}},{key:"changeVolume",value:function(e){this.props.changeVolume(e),0===e?this.props.mutePlayer(!0):this.props.mutePlayer(!1)}},{key:"handleIconClick",value:function(){if(0===this.props.volume)return void this.props.changeVolume(p.u);var e=!this.props.muted;this.props.mutePlayer(e)}},{key:"getVolumeIcon",value:function(){var e=this.props,t=e.i18n,n=e.muted,r=e.volume;if(n||0===r){var i=t.translate("Unmute");return s.a.createElement("span",{className:"unmute-button"},s.a.createElement("span",{className:"player-tip","data-tip":i}),s.a.createElement("svg",{className:"player-icon-volumemute"},s.a.createElement("use",{xlinkHref:"#icon_volumemute"})))}var a=t.translate("Mute");return s.a.createElement("span",{className:"mute-button"},s.a.createElement("span",{className:"player-tip","data-tip":a}),s.a.createElement("svg",{className:"player-icon-volumefull"},s.a.createElement("use",{xlinkHref:"#icon_volumefull"})))}}]),t}(s.a.Component);k.propTypes=v;var E=n.i(l.connect)(g,b)(k)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return d});var i=n(6),a=n(45),o=n(392),s=n(395),u=n(7),c=n(13),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(){function e(t,i,a){r(this,e),this._player=t,this._root=i,this._store=a,this.unsubs=[],this.unsubs.push(n.i(c.a)(this._store,["collection.currentView"],this.onCollectionViewChange.bind(this))),this.unsubs.push(n.i(c.a)(this._store,["quality"],this.onQualityChange.bind(this))),this._hovering=!1,this._hideControlsTimeout=null,this._mouseX=0,this._mouseY=0;var o=this._root.querySelectorAll(".js-controls-top, #js-controls-bottom");this.onMouseEnterTopBottom=this.onMouseEnterTopBottom.bind(this),this.onMouseLeaveTopBottom=this.onMouseLeaveTopBottom.bind(this);for(var s=0;s<o.length;s++){var u=o[s];u.addEventListener("mouseenter",this.onMouseEnterTopBottom),u.addEventListener("mouseleave",this.onMouseLeaveTopBottom)}this.hideControls=this.hideControls.bind(this),this._root.addEventListener("mouseleave",this.hideControls),this.onMouseMoveRoot=this.onMouseMoveRoot.bind(this),this._root.addEventListener("mousemove",this.onMouseMoveRoot)}return l(e,[{key:"onMouseMoveRoot",value:function(e){this._store.getState().collection.currentView!==a.a&&(this._mouseX===e.screenX&&this._mouseY===e.screenY||(this._mouseX=e.screenX,this._mouseY=e.screenY,this.showControls(i.z)))}},{key:"onMouseEnterTopBottom",value:function(){this.setHovering(!0)}},{key:"onMouseLeaveTopBottom",value:function(){this.setHovering(!1)}},{key:"onCollectionViewChange",value:function(e){e.collection.currentView===a.a?this.hideControls():this.showControls(i.z)}},{key:"onQualityChange",value:function(e){var t=e.quality;t.current!==this._previousQuality&&(this._previousQuality=t.current,this.showControls(i.A))}},{key:"setHovering",value:function(e){n.i(s.a)()||(this._hovering=e)}},{key:"showControls",value:function(e){this._root.setAttribute("data-controls","true"),e&&(this._hideControlsTimeout=n.i(o.a)(this._hideControlsTimeout,this.hideControls.bind(this),e))}},{key:"hideControls",value:function(){if(!this._hovering){var e=this._root.querySelector(".js-menu");if(e&&"open"===e.getAttribute("data-state"))return;var t=this._store.getState().chromecast.castingState;"connected"!==t&&"connecting"!==t&&this._store.getState().env.playerType!==u.i&&this._root.setAttribute("data-controls","false")}}},{key:"destroy",value:function(){for(var e=this._root.querySelectorAll(".js-controls-top, #js-controls-bottom"),t=0;t<e.length;t++){var n=e[t];n.removeEventListener("mouseenter",this.onMouseEnterTopBottom),n.removeEventListener("mouseleave",this.onMouseLeaveTopBottom)}this._root.removeEventListener("mouseleave",this.hideControls),this._root.removeEventListener("mousemove",this.onMouseMoveRoot),this.unsubs.forEach(function(e){return e()})}}]),e}()},function(e,t,n){"use strict";function r(e,t,r,c,l){function d(){e.addEventListener(s.k,w)}function f(e,n){var r=t.querySelector(e);r&&n(r)}function p(e){e.player!==i.h&&f(".js-control-fullscreen-overlay",function(e){return e.addEventListener("dblclick",h)}),f(".js-player-alert__close",function(e){return e.addEventListener("click",y)}),f(".js-player-product-close",function(e){return e.addEventListener("click",m)})}function h(e){e.preventDefault(),v()}function m(e){e.preventDefault(),E()}function y(){var e=t.closest(".js-player-alert");e&&e.setAttribute("data-active","false")}function v(){var e=r.getState(),t=e.analyticsTracker,i=e.screenMode;t.trackEvent("player_click_fullscreen",{action:!i.isFullScreen}),r.dispatch(n.i(u.d)())}function g(){return n.i(o.a)(r,["screenMode.isTheatreMode","screenMode.canTheatreMode"],function(e){_(e.screenMode)})}function b(){return n.i(o.a)(r,["chromecast.castingState"],function(){k()})}function _(e){var n=e.isTheatreMode;t.setAttribute("data-theatre",n.toString()),c.setHovering(!1),c.showControls(a.z)}function w(){c.showControls(a.z)}function k(){if(r.getState().env.playerType!==i.i){var e=r.getState().chromecast.castingState;"connected"===e||"connecting"===e?c.showControls():c.showControls(a.z)}}function E(){var e=t.querySelector(".js-player-product-overlay");e&&e.setAttribute("data-active","false")}var S=[];this.destroy=function(){f(".js-control-fullscreen-overlay",function(e){return e.removeEventListener("dblclick",h)}),f(".js-control-fullscreen",function(e){return e.removeEventListener("v",u.d)}),f(".js-control-theatre",function(e){return e.removeEventListener("click",toggleTheatre)}),f(".js-chromecast-button",function(e){return e.removeEventListener("click",onClickChromecastButton)}),f(".js-player-alert__close",function(e){return e.removeEventListener("click",y)}),f(".js-player-product-close",function(e){return e.removeEventListener("click",m)}),S.forEach(function(e){return e()})},function(){var e=l;d(),p(e),c.showControls(a.y),t.setAttribute("data-theatre","false"),t.setAttribute("data-mini","false"),t.setAttribute("data-showinfo",e.showInfo.toString()),k(),S.push(g()),S.push(b())}()}t.a=r;var i=n(7),a=n(6),o=n(13),s=n(20),u=n(28)},function(e,t,n){"use strict";function r(e,t,r,_){function w(){document.querySelector(".js-hyperlink-watch-twitch").setAttribute("href",k().toString())}function k(){var e=r.getState(),t=e.stream,i=e.streamMetadata;switch(t.contentType){case l.b:return"https://www.twitch.tv";case c.a:return E();case u.a:return n.i(a.s)(i.channel.name)}}function E(){var e=r.getState(),t=e.playback,i=e.streamMetadata;return n.i(a.r)(i.channel.name,i.videoId)+"?t="+n.i(s.c)(Math.round(t.currentTime))}function S(){var e=r.getState(),n=e.screenMode;_.showInfo||n.isTheatreMode||n.isFullScreen?t.setAttribute("data-showinfo","true"):t.setAttribute("data-showinfo",!1)}function P(){L()}function C(){L()}function T(e){var n=e.onlineStatus;t.setAttribute("data-online",(n===v.a).toString())}function O(){var n=r.getState(),i=n.onlineStatus;e.getChannel()&&i===v.b&&(R(),t.setAttribute("data-loading","false"))}function x(n){var r=n.channelName;q=n.channel.videoBanner,e.getEnded()&&R();var i=e.getVideo();r&&t.setAttribute("data-channel",r),i&&t.setAttribute("data-video",i.toString())}function R(){var i=e.getChannel();q&&i&&(t.querySelector(".js-offline-banner").style["background-image"]="url('"+q+"')"),r.dispatch(n.i(h.c)())}function I(){var i=r.getState(),a=i.streamMetadata,s=e.getPaused()||e.getReadyState()===o.b;(l.b===r.getState().stream.contentType||!e.getAutoplay()&&s)&&(t.setAttribute("data-background","true"),t.querySelector(".js-video-background-banner").style["background-image"]="url('"+D+"')"),e.getAutoplay()&&a.streamType!==g.b||r.dispatch(n.i(h.c)())}function L(){t.setAttribute("data-background","false")}function A(){r.dispatch(n.i(y.e)())}function N(){r.dispatch(n.i(m.c)())}function j(e){e.preventDefault(),window.open(k(),"_blank"),r.dispatch(n.i(m.c)())}var M=[],q=void 0,D=void 0;this.destroy=function(){var e=t.querySelector(".js-control-fullscreen-overlay");e&&e.removeEventListener("click",A);var n=t.querySelector(".js-hyperlink-watch-twitch");n&&n.removeEventListener("click",N);var r=t.querySelector(".js-watch-twitch");r&&r.removeEventListener("click",j),M.forEach(function(e){return e()}),M=null},function(){M.push(n.i(d.a)(r,["screenMode.isFullScreen","screenMode.isTheatreMode"],S)),S();var a=_.player;if(t.setAttribute("data-playertype",a.toString()),a===i.h){var o=t.querySelector(".js-control-fullscreen-overlay");o&&o.addEventListener("click",A)}if(r.getState().env.playerType===i.a){M.push(n.i(d.a)(r,["playback.currentTime","stream","streamMetadata"],w)),w();var s=t.querySelector(".js-hyperlink-watch-twitch");s&&s.addEventListener("click",N)}else{var h=t.querySelector(".js-watch-twitch");h&&h.addEventListener("click",j)}e.addEventListener(f.m,O),e.addEventListener(f.i,P),e.addEventListener(p.AD_START,C),M.push(n.i(d.a)(r,["viewercount"],function(e){var n=e.viewercount;t.setAttribute("data-viewers",n.toString())})),M.push(n.i(d.a)(r,["streamMetadata"],function(e){var t=e.streamMetadata;switch(r.getState().stream.contentType){case u.a:x(t);break;case c.a:if(x(t),t.preview.template){var n=t.preview.template;D=n.replace("320x240",b),I()}break;case l.b:t.streamType===g.b&&(t.channel.videoBanner&&(D=t.channel.videoBanner.replace("320x240",b)),I())}})),M.push(n.i(d.a)(r,["screen"],function(e){var n=e.screen;t.setAttribute("data-screen",n[0].toString())})),M.push(n.i(d.a)(r,["onlineStatus"],T)),M.push(n.i(d.a)(r,["streamMetadata"],function(e){var t=e.streamMetadata;t.preview.template&&(D=t.preview.template.replace(new RegExp("(320x240|{width}x{height})","g"),b),I())}))}()}t.a=r;var i=n(7),a=n(10),o=n(68),s=n(30),u=n(12),c=n(8),l=n(52),d=n(13),f=n(20),p=n(64),h=n(19),m=n(16),y=n(38),v=n(25),g=n(46),b="1280x720"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var o=n(80),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.$root=e,a.subscribe(n,["lang"],a.localizeUI.bind(a)),a.localizeUI(n.getState()),a}return a(t,e),s(t,[{key:"localizeUI",value:function(e){var t=this,n=e.lang,r=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.$root.querySelector(e);a&&(a.innerHTML=n.translate(r,i))};r(".js-mature-accept-label","Start Watching"),r(".js-close-label","Close"),r(".js-subscribe-label","Subscribe"),r(".js-broadcast-down-label","The broadcast is down."),r(".js-coming-up-label","Coming Up"),r(".js-now-playing-label","Now playing: "),r(".js-broadcast-reload-label","The player will automatically reload when the broadcast is back."),r(".js-mature-warning-label","The broadcaster indicated that the channel is intended for mature audiences."),r(".js-age-gate-warning-label","You must be 21 to view this content. Please enter your date of birth."),r(".js-age-gate-failed-once-label","Sorry, you must be over the age of 21 to view this content."),r(".js-age-gate-locked-out-label","Sorry, you must be over the age of 21 to view this content."),r(".js-age-gate-submit","Submit"),r(".js-empty-collection-label","This collection is empty."),r(".js-cc-label","Closed Captioning"),r(".js-cc-modal-header","Closed Caption Settings"),r(".js-cc-presets-tab","Presets"),r(".js-cc-text-tab","Text"),r(".js-cc-effects-tab","Effects"),r(".js-cc-background-tab","Background"),r(".js-cc-window-tab","Window"),r(".js-cc-aa","Aa"),r(".js-cc-font-label","Font"),r('.js-cc-font-dropdown option[value="mono-serif"]',"Mono Serif"),r('.js-cc-font-dropdown option[value="prop-serif"]',"Serif"),r('.js-cc-font-dropdown option[value="mono-sans-serif"]',"Mono Sans-Serif"),r('.js-cc-font-dropdown option[value="prop-sans-serif"]',"Sans-Serif"),r('.js-cc-font-dropdown option[value="casual"]',"Casual"),r('.js-cc-font-dropdown option[value="cursive"]',"Cursive"),r('.js-cc-font-dropdown option[value="small-capitals"]',"Small Capitals"),r(".js-cc-position-label","Position"),r('.js-cc-verticalPosition-dropdown option[value="bottom"]',"Bottom"),r('.js-cc-verticalPosition-dropdown option[value="top"]',"Top"),r(".js-cc-justification-label","Alignment"),r('.js-cc-textAlign-dropdown option[value="center"]',"Center"),r('.js-cc-textAlign-dropdown option[value="left"]',"Left"),r('.js-cc-textAlign-dropdown option[value="right"]',"Right"),r(".js-cc-style-label","Style"),r(".js-cc-edge-label","Effect"),r(".js-cc-color-label","Color"),r(".js-cc-size-label","Size"),r(".js-cc-font-size","A"),r(".js-cc-opacity-label","Opacity"),r(".js-cc-opacity-solid","Solid"),r(".js-cc-opacity-translucent","Translucent"),r(".js-cc-opacity-semitransparent","Semi-Transparent"),r(".js-cc-opacity-transparent","Transparent"),r(".js-cc-opacity-flashing","Flashing"),r(".js-upnext-label","Up Next"),r(".js-cancelautoplay-label","Cancel");var i=function(e,r,i){var a=t.$root.querySelector(e);a&&a.setAttribute(r,n.translate(i))};i(".js-font-increment-tip","data-tip","Increase Size"),i(".js-font-decrement-tip","data-tip","Decrease Size")}}]),t}(o.a)},function(e,t,n){"use strict";function r(e,t,r,c){function l(e){var t=i.a.getItem("leaveData");if(t)return t[e]}function d(e,t){var n=i.a.getItem("leaveData");n||(n={}),n[e]=t,i.a.setItem("leaveData",n)}function f(){if(b){var e=l(b);if(e){var t=(new Date).getTime()/1e3;e.time+a.c.refreshTimeout<t||r.dispatch(n.i(u.b)("page_reload",{storm_detected:e.stormDetected,leave_dialog:e.stormDialog,refresh_warning:e.stormWarning}))}}}function p(){if(!b)return!1;if(!e.getEnded())return!1;if(!_||_<c.leaveDialogViewerThreshold)return!1;var t=(new Date).getTime()/1e3;return!(!w||w+a.c.sinceEnded<t)}function h(){b=e.getChannel(),_=null,w=null,f()}function m(){_=r.getState().viewercount,w=(new Date).getTime()/1e3,p()&&c.refreshWarningEnabled&&v()}function y(e){var t=p(),n=t&&c.leaveDialogEnabled;if(d(b,{time:(new Date).getTime()/1e3,stormDetected:t,stormDialog:n,stormWarning:r.getState().screen===o.h}),n)return g(e)}function v(){r.dispatch(n.i(o.i)(o.h)),setTimeout(function(){r.dispatch(n.i(o.c)())},1e3*a.c.warningDuration)}function g(e){return r.dispatch(n.i(u.b)("page_leave_attempt",{viewers:_})),setTimeout(function(){setTimeout(function(){r.dispatch(n.i(u.b)("page_leave_cancel",{viewers:_}))},1e3)},1),e.returnValue=a.c.text,a.c.text}var b,_,w;this.destroy=function(){window.removeEventListener("beforeunload",y)},function(){e.addEventListener(s.c,h),e.addEventListener(s.m,m),window.addEventListener("beforeunload",y),e.getChannel()&&h()}()}t.a=r;var i=n(147),a=n(6),o=n(15),s=n(20),u=n(21)},function(e,t,n){"use strict";function r(e,t,r,k,S){function Q(e){de("js-loading-overlay",E.a.createElement(C.Provider,{store:e},E.a.createElement(B.a,null)))}function Y(e){de("stats",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(D.a,null))))}function $(e){de("top-bar",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(I.a,null))))}function X(e){de("js-collection-sidebar",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(L.a,null))))}function Z(e){de("empty-collection-overlay",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(A.a,null))))}function J(e){de("stream-status",E.a.createElement(C.Provider,{store:e},E.a.createElement(f.a,null)))}function ee(e){de("js-follow-panel",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(N.a,{uuid:_.t,renderValue:"show"},E.a.createElement(x.a,null)))))}function te(e){de("js-dead-ltv-overlay",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(N.a,{uuid:_.t,renderValue:"show"},E.a.createElement(R.a,null)))))}function ne(e){var t=document.getElementById("js-player-extension-confirmation-root");P.a.render(E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(m.a,{store:e}))),t)}function re(e){de("js-player-extension-root",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(h.a,{store:e}))))}function ie(t){de("js-controls-bottom",E.a.createElement(C.Provider,{store:t},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(d.a,{getCurrentTime:e.getCurrentTime}))))}function ae(e){de("js-player-offline-recommendations-overlay",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(M.a,null))))}function oe(e){de("js-player-post-vod-recommendations-overlay",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(q.a,null))))}function se(e){de("player-chromecast",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(H.a,null))))}function ue(e){de("player-mature",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(G.b,null))))}function ce(e){de("player-age-gate-overlay",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(W.a,null))))}function le(e){de("player-subscribe-overlay",E.a.createElement(C.Provider,{store:e},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(K.a,null))))}function de(e,n){var r=t.querySelector("#"+e);r&&P.a.render(n,r)}var fe=void 0,pe=void 0,he=void 0,me=void 0,ye=void 0,ve=void 0,ge=void 0,be=void 0;this.destroy=function(){fe.destroy(),pe.destroy(),he.destroy(),me.destroy(),ve.destroy(),ge.destroy(),ye.destroy(),be&&be.destroy()},function(){var d=S;t.className+=" player theme--dark ",t.innerHTML+=n(399);var f=r.getState().playback.muted;r.dispatch(n.i(y.a)(f)),r.dispatch(n.i(v.e)()),r.dispatch(n.i(g.a)()),J(r),ne(r),re(r),ee(r),X(r),Z(r),$(r),te(r),Y(r),oe(r),ae(r),Q(r),se(r),ue(r),ce(r),ie(r),le(r),de("js-paused-overlay",E.a.createElement(C.Provider,{store:r},E.a.createElement(V.a,null))),de("js-ad-overlay",E.a.createElement(C.Provider,{store:r},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(U.a,null)))),de("js-player-alert-container",E.a.createElement(p.a,{store:r})),de("error-overlay",E.a.createElement(C.Provider,{store:r},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(j.a,null)))),de("js-cc-panel",E.a.createElement(C.Provider,{store:r},E.a.createElement(T.I18nextProvider,{i18n:O.b},E.a.createElement(F.a,null)))),k.hookUpForm(t),fe=new i.a(t,r),pe=new o.a(e,t,r,d),he=new s.a(e,t,r,d),me=new u.a(t,r),ve=new l.a(e,t,r),ge=new a.a(e,t,r,ve,d),be=new b.a(t,r),ye=new c.a(r,t),t.setAttribute("data-initializing","true"),e.addEventListener(w.h,function(){t.setAttribute("data-initializing","false")}),t.addEventListener("wheel",function(e){r.dispatch(n.i(z.a)(e))})}()}t.a=r;var i=n(388),a=n(382),o=n(383),s=n(385),u=n(384),c=n(176),l=n(381),d=n(250),f=n(378),p=n(356),h=n(351),m=n(350),y=n(26),v=n(19),g=n(74),b=n(249),_=n(27),w=n(29),k=n(0),E=n.n(k),S=n(103),P=n.n(S),C=n(3),T=(n.n(C),n(4)),O=(n.n(T),n(76)),x=n(352),R=n(348),I=n(376),L=n(345),A=n(344),N=n(101),j=n(361),M=n(364),q=n(365),D=n(375),B=n(177),U=n(358),F=n(343),V=n(362),z=n(72),H=n(360),G=n(146),W=n(359),K=n(363)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var o=n(0),s=n.n(o),u=n(1),c=n.n(u),l=n(3),d=(n.n(l),n(7)),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p={playerType:c.a.string.isRequired},h=function(e){return{playerType:e.env.playerType}},m=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._setPlayerTypeComponent=e._setPlayerTypeComponent.bind(e),e.state={playerTypeComponent:null},e}return a(t,e),f(t,[{key:"componentWillMount",value:function(){this._setPlayerTypeComponent(this.props.playerType)}},{key:"componentWillReceiveProps",value:function(e){var t=e.playerType;this.props.playerType!==t&&this._setPlayerTypeComponent(t)}},{key:"render",value:function(){return this.state.playerTypeComponent?s.a.createElement(this.state.playerTypeComponent,null):null}},{key:"_setPlayerTypeComponent",value:function(e){var t=this;switch(e){case d.d:return n.e(1).then(function(){var e=n(438);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);default:return n.e(0).then(function(){var e=n(439);t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe)}}}]),t}(s.a.Component);m.propTypes=p;var y=n.i(l.connect)(h)(m)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return u});var o=n(80),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a._root=e,a._store=n,a.subscribe(n,["online","playback"],a.handleEvent.bind(a)),a.subscribe(n,["ui"],a.onUiUpdate.bind(a)),a}return a(t,e),s(t,[{key:"onUiUpdate",value:function(){var e=this._store.getState(),t=e.ui;this._root.setAttribute("data-mini",t.isMini.toString())}},{key:"handleEvent",value:function(){var e=this._store.getState();this._root.setAttribute("data-paused",e.playback.paused.toString()),this._root.setAttribute("data-ended",e.playback.ended.toString()),this._root.setAttribute("data-online",e.online.toString())}}]),t}(o.a)},function(e,t,n){"use strict";function r(){var e=this;e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}t.a=r},function(e,t,n){"use strict";function r(e){return new Promise(function(t){return setTimeout(t,e)})}t.a=r},function(e,t,n){"use strict";function r(e){var t=Math.floor(e/1e3),n=Math.floor(t/60);return{hours:Math.floor(n/60),minutes:n%60,seconds:t%60}}t.a=r},function(e,t,n){"use strict";function r(e,t,n){this._estimate=n,this._handle=setTimeout(e,t)}function i(e,t,n){var i;i=Date.now?Date.now():(new Date).getTime();var a=i+n;return e&&e._estimate>a?e:(e&&clearTimeout(e._handle),new r(t,n,a))}t.a=i},function(e,t,n){"use strict";function r(){return a.a.getFlashPlayerVersion()}t.a=r;var i=n(398),a=n.n(i)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,i){r(this,e),this.interval=n,this.callback=t,this.windowObj=i,this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}return i(e,[{key:"start",value:function(){var e=this;0===this.timerId&&(this.lastStartTimestamp=Date.now(),this.timerId=this.windowObj.setTimeout(function(){return e.timeoutCallback()},this.intervalRemaining))}},{key:"pause",value:function(){if(0!==this.timerId){this.windowObj.clearTimeout(this.timerId);var e=Date.now();this.intervalRemaining=this.intervalRemaining-(e-this.lastStartTimestamp),this.timerId=0}}},{key:"timeoutCallback",value:function(){this.callback(),this.restartTimer()}},{key:"restartTimer",value:function(){this._reset(),this.start()}},{key:"_reset",value:function(){this.windowObj.clearTimeout(this.timerId),this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}},{key:"destroy",value:function(){this.windowObj.clearTimeout(this.timerId)}}]),e}()},function(e,t,n){"use strict";function r(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}t.a=r},function(e,t,n){"use strict";function r(){this.initialDelay=Math.round(6e4*Math.random()),this._remainingDelay=this.initialDelay,this._timeout=null,this._timeoutStart=null,this.totalMinutes=0,this._events=new a.a}n.d(t,"b",function(){return o}),t.a=r;var i=n(47),a=n.n(i),o="minute";r.EVENT_INTERVAL=6e4,r.MAX_DRIFT=1e4,r.prototype.start=function(){null===this._timeout&&this._scheduleTick()},r.prototype.stop=function(){null!==this._timeout&&(clearTimeout(this._timeout),this._timeout=null,this._tick())},r.prototype.reset=function(){this.stop(),this._remainingDelay=r.EVENT_INTERVAL},r.prototype.on=function(e,t){this._events.on(e,t)},r.prototype.off=function(e,t){this._events.off(e,t)},r.prototype.destroy=function(){clearTimeout(this._timeout),this._events.removeAllListeners()},r.prototype._tick=function(){var e=(new Date).getTime(),t=e-this._timeoutStart;for(this._remainingDelay-=t,this._remainingDelay<=-r.MAX_DRIFT&&(this._remainingDelay=0),this._remainingDelay>=r.EVENT_INTERVAL+r.MAX_DRIFT&&(this._remainingDelay=0);this._remainingDelay<=0;)this._remainingDelay+=r.EVENT_INTERVAL,this.totalMinutes+=1,setTimeout(this._events.emit.bind(this._events,o),0)},r.prototype._scheduleTick=function(){this._timeoutStart=(new Date).getTime();var e=this;this._timeout=setTimeout(function(){e._tick(),e._scheduleTick()},this._remainingDelay)}},function(e,t,n){"use strict";function r(e){var t=e.collection,n=e.playback,r=e.playerType,l=e.stream,d=e.window,f={volume:n.volume,muted:n.muted};l.contentType===a.a?(f.video=l.videoId,f.collection=t?t.id:void 0,f.time=u.c(n.currentTime)):l.contentType===i.a&&(f.channel=l.channel),r===c.a&&(f.player=c.a);var p="https://player.twitch.tv/?"+s.b(f),h=o.t.height,m=o.t.width,y="width="+m+",height="+h+",toolbar=no,menubar=no,scrollbars=no,location=no,status=no";d.open(p,"_blank",y)}t.a=r;var i=n(12),a=n(8),o=n(6),s=n(69),u=n(30),c=n(7)},function(e,t){var n=function(){function e(){if(!z&&document.getElementsByTagName("body")[0]){try{var e,t=g("span");t.style.display="none",e=M.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(e){return}z=!0;for(var n=B.length,r=0;r<n;r++)B[r]()}}function t(e){z?e():B[B.length]=e}function r(e){if(typeof j.addEventListener!==I)j.addEventListener("load",e,!1);else if(typeof M.addEventListener!==I)M.addEventListener("load",e,!1);else if(typeof j.attachEvent!==I)_(j,"onload",e);else if("function"==typeof j.onload){var t=j.onload;j.onload=function(){t(),e()}}else j.onload=e}function i(){var e=M.getElementsByTagName("body")[0],t=g(L);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",A);var n=e.appendChild(t);if(n){var r=0;!function i(){if(typeof n.GetVariable!==I)try{var o=n.GetVariable("$version");o&&(o=o.split(" ")[1].split(","),K.pv=[b(o[0]),b(o[1]),b(o[2])])}catch(e){K.pv=[8,0,0]}else if(r<10)return r++,void setTimeout(i,10);e.removeChild(t),n=null,a()}()}else a()}function a(){var e=U.length;if(e>0)for(var t=0;t<e;t++){var n=U[t].id,r=U[t].callbackFn,i={success:!1,id:n};if(K.pv[0]>0){var a=v(n);if(a)if(!w(U[t].swfVersion)||K.wk&&K.wk<312)if(U[t].expressInstall&&s()){var l={};l.data=U[t].expressInstall,l.width=a.getAttribute("width")||"0",l.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(l.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(l.align=a.getAttribute("align"));for(var d={},f=a.getElementsByTagName("param"),p=f.length,h=0;h<p;h++)"movie"!==f[h].getAttribute("name").toLowerCase()&&(d[f[h].getAttribute("name")]=f[h].getAttribute("value"));u(l,d,n,r)}else c(a),r&&r(i);else E(n,!0),r&&(i.success=!0,i.ref=o(n),i.id=n,r(i))}else if(E(n,!0),r){var m=o(n);m&&typeof m.SetVariable!==I&&(i.success=!0,i.ref=m,i.id=m.id),r(i)}}}function o(e){var t=null,n=v(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==I?n:n.getElementsByTagName(L)[0]||n),t}function s(){return!H&&w("6.0.65")&&(K.win||K.mac)&&!(K.wk&&K.wk<312)}function u(e,t,n,r){var i=v(n);if(n=y(n),H=!0,T=r||null,O={success:!1,id:n},i){"OBJECT"===i.nodeName.toUpperCase()?(P=l(i),C=null):(P=i,C=n),e.id=N,(typeof e.width===I||!/%$/.test(e.width)&&b(e.width)<310)&&(e.width="310"),(typeof e.height===I||!/%$/.test(e.height)&&b(e.height)<137)&&(e.height="137");var a=K.ie?"ActiveX":"PlugIn",o="MMredirectURL="+encodeURIComponent(j.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+a+"&MMdoctitle="+encodeURIComponent(M.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!==I?t.flashvars+="&"+o:t.flashvars=o,K.ie&&4!=i.readyState){var s=g("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",h(i)}f(e,t,n)}}function c(e){if(K.ie&&4!=e.readyState){e.style.display="none";var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(l(e),t),h(e)}else e.parentNode.replaceChild(l(e),e)}function l(e){var t=g("div");if(K.win&&K.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(L)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,a=0;a<i;a++)1==r[a].nodeType&&"PARAM"===r[a].nodeName||8==r[a].nodeType||t.appendChild(r[a].cloneNode(!0))}}return t}function d(e,t){var n=g("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function f(e,t,n){var r,i=v(n);if(n=y(n),K.wk&&K.wk<312)return r;if(i){var a,o,s,u=g(K.ie?"div":L);typeof e.id===I&&(e.id=n);for(s in t)t.hasOwnProperty(s)&&"movie"!==s.toLowerCase()&&p(u,s,t[s]);K.ie&&(u=d(e.data,u.innerHTML));for(a in e)e.hasOwnProperty(a)&&(o=a.toLowerCase(),"styleclass"===o?u.setAttribute("class",e[a]):"classid"!==o&&"data"!==o&&u.setAttribute(a,e[a]));K.ie?F[F.length]=e.id:(u.setAttribute("type",A),u.setAttribute("data",e.data)),i.parentNode.replaceChild(u,i),r=u}return r}function p(e,t,n){var r=g("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function h(e){var t=v(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(K.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function m(e){return e&&e.nodeType&&1===e.nodeType}function y(e){return m(e)?e.id:e}function v(e){if(m(e))return e;var t=null;try{t=M.getElementById(e)}catch(e){}return t}function g(e){return M.createElement(e)}function b(e){return parseInt(e,10)}function _(e,t,n){e.attachEvent(t,n),V[V.length]=[e,t,n]}function w(e){e+="";var t=K.pv,n=e.split(".");return n[0]=b(n[0]),n[1]=b(n[1])||0,n[2]=b(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function k(e,t,n,r){var i=M.getElementsByTagName("head")[0];if(i){var a="string"==typeof n?n:"screen";if(r&&(x=null,R=null),!x||R!=a){var o=g("style");o.setAttribute("type","text/css"),o.setAttribute("media",a),x=i.appendChild(o),K.ie&&typeof M.styleSheets!==I&&M.styleSheets.length>0&&(x=M.styleSheets[M.styleSheets.length-1]),R=a}x&&(typeof x.addRule!==I?x.addRule(e,t):typeof M.createTextNode!==I&&x.appendChild(M.createTextNode(e+" {"+t+"}")))}}function E(e,t){if(G){var n=t?"visible":"hidden",r=v(e);z&&r?r.style.visibility=n:"string"==typeof e&&k("#"+e,"visibility:"+n)}}function S(e){return null!==/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!==I?encodeURIComponent(e):e}var P,C,T,O,x,R,I="undefined",L="object",A="application/x-shockwave-flash",N="SWFObjectExprInst",j=window,M=document,q=navigator,D=!1,B=[],U=[],F=[],V=[],z=!1,H=!1,G=!0,W=!1,K=function(){var e=typeof M.getElementById!==I&&typeof M.getElementsByTagName!==I&&typeof M.createElement!==I,t=q.userAgent.toLowerCase(),n=q.platform.toLowerCase(),r=/win/.test(n||t),i=/mac/.test(n||t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o="Microsoft Internet Explorer"===q.appName,s=[0,0,0],u=null;if(typeof q.plugins!==I&&typeof q.plugins["Shockwave Flash"]===L)(u=q.plugins["Shockwave Flash"].description)&&typeof q.mimeTypes!==I&&q.mimeTypes[A]&&q.mimeTypes[A].enabledPlugin&&(D=!0,o=!1,u=u.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=b(u.replace(/^(.*)\..*$/,"$1")),s[1]=b(u.replace(/^.*\.(.*)\s.*$/,"$1")),s[2]=/[a-zA-Z]/.test(u)?b(u.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof j.ActiveXObject!==I)try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");c&&(u=c.GetVariable("$version"))&&(o=!0,u=u.split(" ")[1].split(","),s=[b(u[0]),b(u[1]),b(u[2])])}catch(e){}return{w3:e,pv:s,wk:a,ie:o,win:r,mac:i}}();return function(){K.w3&&((typeof M.readyState!==I&&("complete"===M.readyState||"interactive"===M.readyState)||typeof M.readyState===I&&(M.getElementsByTagName("body")[0]||M.body))&&e(),z||(typeof M.addEventListener!==I&&M.addEventListener("DOMContentLoaded",e,!1),K.ie&&(M.attachEvent("onreadystatechange",function t(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",t),e())}),j==top&&function t(){if(!z){try{M.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}e()}}()),K.wk&&function t(){if(!z)return/loaded|complete/.test(M.readyState)?void e():void setTimeout(t,0)}()))}(),B[0]=function(){D?i():a()},function(){K.ie&&window.attachEvent("onunload",function(){for(var e=V.length,t=0;t<e;t++)V[t][0].detachEvent(V[t][1],V[t][2]);for(var r=F.length,i=0;i<r;i++)h(F[i]);for(var a in K)K[a]=null;K=null;for(var o in n)n[o]=null;n=null})}(),{registerObject:function(e,t,n,r){if(K.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,U[U.length]=i,E(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(K.w3)return o(e)},embedSWF:function(e,n,r,i,a,o,c,l,d,p){var h=y(n),m={success:!1,id:h};K.w3&&!(K.wk&&K.wk<312)&&e&&n&&r&&i&&a?(E(h,!1),t(function(){r+="",i+="";var t={};if(d&&typeof d===L)for(var y in d)t[y]=d[y];t.data=e,t.width=r,t.height=i;var v={};if(l&&typeof l===L)for(var g in l)v[g]=l[g];if(c&&typeof c===L)for(var b in c)if(c.hasOwnProperty(b)){var _=W?encodeURIComponent(b):b,k=W?encodeURIComponent(c[b]):c[b];typeof v.flashvars!==I?v.flashvars+="&"+_+"="+k:v.flashvars=_+"="+k}if(w(a)){var S=f(t,v,n);t.id==h&&E(h,!0),m.success=!0,m.ref=S,m.id=S.id}else{if(o&&s())return t.data=o,void u(t,v,n,p);E(h,!0)}p&&p(m)})):p&&p(m)},switchOffAutoHideShow:function(){G=!1},enableUriEncoding:function(e){W=typeof e===I||e},ua:K,getFlashPlayerVersion:function(){return{major:K.pv[0],minor:K.pv[1],release:K.pv[2]}},hasFlashPlayerVersion:w,createSWF:function(e,t,n){return K.w3?f(e,t,n):void 0},showExpressInstall:function(e,t,n,r){K.w3&&s()&&u(e,t,n,r)},removeSWF:function(e){K.w3&&h(e)},createCSS:function(e,t,n,r){K.w3&&k(e,t,n,r)},addDomLoadEvent:t,addLoadEvent:r,getQueryParamValue:function(e){var t=M.location.search||M.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return S(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return S(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(H){var e=v(N);e&&P&&(e.parentNode.replaceChild(P,e),C&&(E(C,!0),K.ie&&(P.style.display="block")),T&&T(O)),H=!1}},version:"2.3"}}();e.exports=n},function(e,t){e.exports='<div class="player-initializing player-center-content">\n    <div class="pl-loading-spinner"></div>\n</div>\n<div id="player-mature"></div>\n<div id="player-age-gate-overlay"></div>\n\n\n<div id="js-cc-panel"></div>\n\n<div class="player-offline-banner js-offline-banner">\n    <img class="js-meta-offline" />\n</div>\n\n<div id="js-ad-overlay"></div>\n<div id="js-player-post-vod-recommendations-overlay"></div>\n<div id="js-player-offline-recommendations-overlay"></div>\n\n<div class="player-video-background-banner js-video-background-banner">\n    <img class="js-meta-video-background" />\n</div>\n\n<div id="js-loading-overlay"></div>\n<div id="player-chromecast"></div>\n\n<div class="player-overlay player-fullscreen-overlay js-control-fullscreen-overlay">\n</div>\n\n<div class="player-overlay player-extensions" id="js-player-extension-root">\n</div>\n\n<div id="js-player-extension-confirmation-root"></div>\n\n<div class="player-captions-container js-player-captions-container">\n    <div class="player-captions-window js-player-captions-window">\n        <div class="player-captions js-player-captions"></div>\n    </div>\n</div>\n\n<div id="js-paused-overlay"></div>\n<div id="player-subscribe-overlay"></div>\n\n<div id="empty-collection-overlay"></div>\n\n<div id="top-bar"></div>\n\n<div id="js-collection-sidebar"></div>\n<div id="js-follow-panel"></div>\n<div id="js-dead-ltv-overlay"></div>\n\n<div class="player-storm-warning">\n    <div class="player-center-content">\n        <div class="pl-loading-spinner"></div>\n        <p>\n            <span class=\'js-broadcast-down-label\'>The broadcast is down.</span><br />\n            <span class=\'js-broadcast-reload-label\'>The player will automatically reload when the broadcast is back.</span>\n        </p>\n    </div>\n</div>\n\n<div id="error-overlay"></div>\n\n<div id="stream-status"></div>\n\n<div id="js-controls-bottom"></div>\n<form class="js-create-clip-form" method="post" action="" target="">\n    <input class="js-create-clip-player-backend-type" type="hidden" name="player_backend_type" value="" />\n    <input class="js-create-clip-channel" type="hidden" name="channel" value="" />\n    <input class="js-create-clip-offset" type="hidden" name="offset" value="" />\n    <input class="js-create-clip-broadcast_id" type="hidden" name="broadcast_id" value="" />\n    <input class="js-create-clip-vod_id" type="hidden" name="vod_id" value="" />\n    <input class="js-create-clip-play_session_id" type="hidden" name="play_session_id" value="" />\n</form>\n\n<div id="js-player-alert-container"></div>\n\n<div id="stats"></div>\n\n<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" style="width:0;height:0;visibility:hidden;display:block;">\n    <symbol viewBox="0 0 30 30" id="icon_play"><path clip-rule="evenodd" d="M10,7l12,8l-12,8V7z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_pause"><path clip-rule="evenodd" d="M9,22h4V8H9V22z M17,8v14h4V8H17z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_volumefull"><path clip-rule="evenodd" d="M22,21.5v-13L23,8v14L22,21.5z M18,10.5l1-0.5v10l-1-0.5V10.5z M7,18v-6l3,0l5-4v14l-5-4L7,18z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_volumemute"><path clip-rule="evenodd" d="M23,18L23,18h-0.7L20,15.7L17.7,18H17l0,0v-0.7l2.3-2.3L17,12.7V12l0,0h0.7l2.3,2.3l2.3-2.3H23l0,0v0.7L20.7,15l2.3,2.3V18z M7,18v-6l3,0l5-4v14l-5-4L7,18z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_fullscreen"><path clip-rule="evenodd" d="M7,7 L15.2,7 L12.8,9.4 L15.8,12.4 L12.4,15.8 L9.4,12.8 L7,15.2 L7,7 Z M23,23 L14.8,23 L17.2,20.6 L14.2,17.6 L17.6,14.2 L20.6,17.2 L23,14.8 L23,23 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_unfullscreen"><path clip-rule="evenodd" d="M15,15 L23.2,15 L20.8,17.4 L23.8,20.4 L20.4,23.8 L17.4,20.8 L15,23.2 L15,15 L15,15 Z M15,15 L6.8,15 L9.2,12.6 L6.2,9.6 L9.6,6.2 L12.6,9.2 L15,6.8 L15,15 L15,15 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_settings"><path clip-rule="evenodd" d="M13.3589744,7 L16.6410256,7 L18.0769231,9.8 L21.3589744,9.8 L23,12.2 L21.3589744,15 L23,17.8 L21.3589744,20.2 L18.0769231,20.2 L16.6410256,23 L13.3589744,23 L11.9230769,20.2 L8.64102564,20.2 L7,17.8 L8.64102564,15 L7,12.2 L8.64102564,9.8 L11.9230769,9.8 L13.3589744,7 Z M15,17.8 C16.5860485,17.8 17.8717949,16.5463973 17.8717949,15 C17.8717949,13.4536027 16.5860485,12.2 15,12.2 C13.4139515,12.2 12.1282051,13.4536027 12.1282051,15 C12.1282051,16.5463973 13.4139515,17.8 15,17.8 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_theatre"><path d="M6 21h11V9H6v12zM19 9v12h5V9h-5z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_theatre_deactivate"><path d="M6 9h11v12H6V9zm2 2h9v8H8v-8zm9-2h7v12h-7V9zm2 2h3v8h-3v-8z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 63 30" id="icon_twitch"><path clip-rule="evenodd" d="M55,19 L52,19 L52,13 L49,13 L49,19 L46,19 L46,8 L49,8 L49,10 L53,10 L55,12 L55,19 L55,19 Z M45,13 L41,13 L41,16 L45,16 L45,19 L40,19 L38,17 L38,12 L40,10 L45,10 L45,13 L45,13 Z M37,13 L34,13 L34,16 L37,16 L37,19 L33,19 L31,17 L31,8 L34,8 L34,10 L37,10 L37,13 L37,13 Z M27,8 L30,8 L30,9 L27,9 L27,8 Z M27,10 L30,10 L30,19 L27,19 L27,10 Z M26,17 L24,19 L15,19 L15,10 L18,10 L18,16 L19,16 L19,10 L22,10 L22,16 L23,16 L23,10 L26,10 L26,17 L26,17 Z M14,13 L11,13 L11,16 L14,16 L14,19 L10,19 L8,17 L8,8 L11,8 L11,10 L14,10 L14,13 L14,13 Z M53.5,9 L50,9 L50,7 L45.5,7 L43,9 L39.5,9 L38,10.5 L38,9 L35,9 L35,7 L26,7 L26,9 L15,9 L12,7 L7,7 L7,17.5 L9.5,20.125 L14,23 L18,23 L18,22.25 L19.5,23 L25.5,23 L26.5,21.5 L27,23 L31,23 L31,21.5 L32.5,23 L37,23 L37.25,21.5 L38.5,23 L43.5,23 L45,21.5 L45,23 L47.5,23 L49,21.5 L49,23 L52.5,23 L56,19.5 L56,11.5 L53.5,9 L53.5,9 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_close"><path clip-rule="evenodd" d="M15.1035534,15.4571068 L11.5303301,19.0303301 L11.3535534,19.2071068 L11,18.8535534 L11.1767767,18.6767767 L14.75,15.1035534 L11.1767767,11.5303301 L11,11.3535534 L11.3535534,11 L11.5303301,11.1767767 L15.1035534,14.75 L18.6767767,11.1767767 L18.8535534,11 L19.2071068,11.3535534 L19.0303301,11.5303301 L15.4571068,15.1035534 L19.0303301,18.6767767 L19.2071068,18.8535534 L18.8535534,19.2071068 L18.6767767,19.0303301 L15.1035534,15.4571068 Z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_close_md"><path clip-rule="evenodd" d="M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p1"><path fill-rule="evenodd" clip-rule="evenodd" d="M15,22c0-0.7-0.1-1.4-0.2-2H22V10H8v3.2C7.4,13.1,6.7,13,6,13V8h18v14H15z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p2"><path fill-rule="evenodd" clip-rule="evenodd" d="M10,13.9V12h10v6h-5.9C13.2,16.2,11.8,14.8,10,13.9z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p3"><path fill-rule="evenodd" clip-rule="evenodd" d="M13,22h-1c0-3.3-2.7-6-6-6v-1C9.9,15,13,18.1,13,22z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p4"><path fill-rule="evenodd" clip-rule="evenodd" d="M10,22H9c0-1.7-1.3-3-3-3v-1C8.2,18,10,19.8,10,22z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_chromecast_p5"><path fill-rule="evenodd" clip-rule="evenodd" d="M7,22H6v-1C6.6,21,7,21.4,7,22z"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_clips"><path d="M14.802 7.804l-3.83 1.026 2.928 2.321 3.83-1.026-2.928-2.321zm2.895-.776l3.981-1.067.777 2.898-1.83.49-2.928-2.321zM7.969 9.635l-1.745.467L7 13l3.898-1.044-2.929-2.321zM7 13h16v9H7v-9zm1.969 3h2.785l2.228-3h-2.785l-2.228 3zm7.018 0h2.785L21 13h-2.785l-2.228 3z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 13 18" id="icon_clips--bday"><path d="M6.505 7.61l2.41 2.33H4.53l.621-2.174-.552-.81L1.43 8.53l1.77-2.803L.266 4.184l3.531-.22.234-3.118 1.761 2.583L8.96 1.854 7.19 4.658 10.124 6.2l-3.53.22-.09 1.189zm6.546 6.33H3.385l.625-2.182h6.785l2.256 2.182zm-3.042 1.818l-7.737 2.073.593-2.073h7.144z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_cc_on"><path fill-rule="evenodd" clip-rule="evenodd" d="M5,8 L6,7 L24,7 L25,8 L25,22 L24,23 L6,23 L5,22 L5,8 Z M8,15 C8,17.2003155 9.48065348,18.75 11.5511608,18.75 C13.3929493,18.75 14.4763543,17.6735016 14.7411866,16.1829653 L12.8151333,16.1829653 C12.6225279,16.7271293 12.2252794,17.0820189 11.5511608,17.0820189 C10.527945,17.0820189 9.95012898,16.1829653 9.95012898,15 C9.95012898,13.805205 10.527945,12.9179811 11.5511608,12.9179811 C12.2252794,12.9179811 12.6225279,13.2728707 12.8151333,13.805205 L14.7411866,13.805205 C14.4763543,12.3264984 13.3929493,11.25 11.5511608,11.25 C9.48065348,11.25 8,12.7996845 8,15 Z M15.2588134,15 C15.2588134,17.2003155 16.7394669,18.75 18.8099742,18.75 C20.6517627,18.75 21.7351677,17.6735016 22,16.1829653 L20.0739467,16.1829653 C19.8813414,16.7271293 19.4840929,17.0820189 18.8099742,17.0820189 C17.7867584,17.0820189 17.2089424,16.1829653 17.2089424,15 C17.2089424,13.805205 17.7867584,12.9179811 18.8099742,12.9179811 C19.4840929,12.9179811 19.8813414,13.2728707 20.0739467,13.805205 L22,13.805205 C21.7351677,12.3264984 20.6517627,11.25 18.8099742,11.25 C16.7394669,11.25 15.2588134,12.7996845 15.2588134,15 Z"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_cc_off"><path fill-rule="evenodd" clip-rule="evenodd" d="M5,8 L6,7 L24,7 L25,8 L25,22 L24,23 L6,23 L5,22 L5,8 Z M24,8 L24,22 L6,22 L6,8 L24,8 Z M8,15 C8,17.2003155 9.48065348,18.75 11.5511608,18.75 C13.3929493,18.75 14.4763543,17.6735016 14.7411866,16.1829653 L12.8151333,16.1829653 C12.6225279,16.7271293 12.2252794,17.0820189 11.5511608,17.0820189 C10.527945,17.0820189 9.95012898,16.1829653 9.95012898,15 C9.95012898,13.805205 10.527945,12.9179811 11.5511608,12.9179811 C12.2252794,12.9179811 12.6225279,13.2728707 12.8151333,13.805205 L14.7411866,13.805205 C14.4763543,12.3264984 13.3929493,11.25 11.5511608,11.25 C9.48065348,11.25 8,12.7996845 8,15 Z M15.2588134,15 C15.2588134,17.2003155 16.7394669,18.75 18.8099742,18.75 C20.6517627,18.75 21.7351677,17.6735016 22,16.1829653 L20.0739467,16.1829653 C19.8813414,16.7271293 19.4840929,17.0820189 18.8099742,17.0820189 C17.7867584,17.0820189 17.2089424,16.1829653 17.2089424,15 C17.2089424,13.805205 17.7867584,12.9179811 18.8099742,12.9179811 C19.4840929,12.9179811 19.8813414,13.2728707 20.0739467,13.805205 L22,13.805205 C21.7351677,12.3264984 20.6517627,11.25 18.8099742,11.25 C16.7394669,11.25 15.2588134,12.7996845 15.2588134,15 Z"></path></symbol>\n    <symbol viewBox="0 0 30 30" id="icon_close_modal"><path clip-rule="evenodd" d="M13.657 3.757l-4.243 4.243 4.243 4.242-1.415 1.415-4.242-4.243-4.243 4.243-1.414-1.415 4.243-4.242-4.243-4.243 1.414-1.414 4.243 4.243 4.242-4.243 1.415 1.414z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 14 14" id="icon_arrow"><path d="M6.46765898,5.00010938 L6.46755335,5 L3.08055618,8.27078515 C2.97320936,8.37444877 2.97610632,8.52662201 3.07163118,8.6255409 L3.47144895,9.03956433 C3.56460436,9.13602957 3.72584608,9.14003286 3.82630008,9.04302556 L6.46765898,6.49229492 L9.10901788,9.04302556 C9.20947188,9.14003286 9.3707136,9.13602957 9.46386901,9.03956433 L9.86368678,8.6255409 C9.95921164,8.52662201 9.9621086,8.37444877 9.85476178,8.27078515 L6.46776461,5 L6.46765898,5.00010938 Z" transform="translate(6.467659, 7.056937) scale(-1, 1) rotate(-270.000000) translate(-6.467659, -7.056937) "></path></symbol>\n    <symbol viewBox="0 0 98 86" id="age-gate-icon"><path d="M24 8h50v10h12V8h12v78H0V8h12v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm13.356 43.52h3.8c-.03-.954.068-1.9.29-2.84.225-.938.59-1.78 1.097-2.526.506-.745 1.155-1.348 1.945-1.81.79-.463 1.736-.694 2.84-.694.834 0 1.624.135 2.37.403.744.268 1.393.656 1.944 1.162.552.507.99 1.11 1.32 1.81.327.702.49 1.484.49 2.35 0 1.102-.17 2.07-.513 2.905-.344.835-.85 1.61-1.52 2.326-.672.715-1.514 1.423-2.528 2.124-1.013.7-2.19 1.468-3.532 2.303-1.103.655-2.16 1.356-3.175 2.1-1.014.746-1.923 1.61-2.728 2.595-.805.983-1.468 2.14-1.99 3.465-.52 1.327-.857 2.93-1.006 4.807h20.705v-3.354H30.888c.18-.983.56-1.855 1.14-2.616.582-.76 1.282-1.468 2.102-2.123.82-.656 1.722-1.275 2.705-1.856.984-.58 1.968-1.17 2.952-1.765.983-.626 1.937-1.282 2.86-1.968.925-.686 1.745-1.453 2.46-2.303.716-.85 1.29-1.81 1.722-2.884.432-1.073.648-2.31.648-3.71 0-1.492-.26-2.803-.783-3.936-.522-1.133-1.23-2.08-2.124-2.84-.893-.76-1.944-1.34-3.15-1.744-1.21-.402-2.498-.603-3.87-.603-1.67 0-3.16.283-4.47.85-1.312.566-2.408 1.348-3.287 2.347-.88 1-1.528 2.183-1.945 3.555-.418 1.37-.582 2.86-.492 4.47zM65.17 64V32.297H62.26c-.208 1.192-.596 2.176-1.162 2.95-.567.776-1.26 1.387-2.08 1.834-.82.448-1.736.754-2.75.918-1.013.164-2.057.246-3.13.246v3.04h8.228V64h3.8z" fill="#F9F7FC" fill-rule="evenodd"/></symbol>\n    <symbol id="age-gate-fail-icon" viewBox="0 0 92 81"><path d="M0 75.6l3.067-5.4L9.2 59.4l12.267-21.6 12.266-21.6 6.134-10.8L42.933 0h6.134l3.066 5.4 6.134 10.8 12.266 21.6L82.8 59.4l6.133 10.8L92 75.6 89.06 81H3.44L0 75.6zM40 27h12v13l-3 19h-6l-3-19V27zm1 34h10v10H41V61z" fill="#F9F7FC" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 19 19" id="icon_open_collection"><path fill-rule="evenodd" d="M0,6 L19,6 L19,19 L0,19 L0,6 Z M12.25,12.5 L7,9 L7,16 L12.25,12.5 Z M2,3 L17,3 L17,5 L2,5 L2,3 Z M4,0 L15,0 L15,2 L4,2 L4,0 Z"/></symbol>\n    <symbol id=\'icon_pl-followcheck\' viewBox=\'0 0 16 16\'><path clip-rule=\'evenodd\' d=\'M6.5,12.75L2,8.25l2-2l2.5,2.5l5.5-5.5l2,2L6.5,12.75z\' fill-rule=\'evenodd\'></symbol>\n    <symbol viewBox="0 0 30 30" id="pl-icon_close"><path clip-rule="evenodd" d="M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z"/></symbol>\n    <symbol viewBox="0 0 14 12" id="pl-icon_vod"><path d="M0 12h14V0H0v12zm4-3V3l7 3-7 3z" fill-rule="evenodd"></path></symbol>\n    <symbol viewBox="0 0 16 3" id="icon_more_info"><path d="M15 1.5c0 .389-.139.736-.417 1.042-.277.305-.639.458-1.083.458-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C12.694.153 13.056 0 13.5 0c.444 0 .806.153 1.083.458.278.306.417.653.417 1.042zm-6 0c0 .389-.139.736-.417 1.042C8.306 2.847 7.944 3 7.5 3c-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C6.694.153 7.056 0 7.5 0c.444 0 .806.153 1.083.458C8.861.764 9 1.111 9 1.5zm-6 0c0 .389-.139.736-.417 1.042C2.306 2.847 1.944 3 1.5 3c-.444 0-.806-.153-1.083-.458a1.506 1.506 0 0 1 0-2.084C.694.153 1.056 0 1.5 0c.444 0 .806.153 1.083.458C2.861.764 3 1.111 3 1.5z" fill-rule="evenodd"/></symbol>\n    <symbol viewBox="0 0 22 14" id="icon_grant_permissions"><g fill-rule="evenodd"><path d="M16 5h-3v1.994L11.91 8H16v3l6-4.5L16 2v3z"/><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/></g></symbol>\n    <symbol viewBox="0 0 22 14" id="icon_revoke_permissions"><g fill-rule="evenodd"><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/><path fill="currentColor" d="M17.013 5.34l-2.37-2.37-1.624 1.624 2.37 2.37-2.37 2.37 1.624 1.624 2.37-2.37 2.37 2.37 1.624-1.624-2.37-2.37 2.37-2.37-1.624-1.624-2.37 2.37z"/></g></symbol>\n    <symbol viewBox="0 0 22 14" id="icon_approved_permissions"><g fill-rule="evenodd"><path d="M0 14v-1l3-3h3L3 7V0h8v7l-3 3h3l3 3v1z"/><path fill="currentColor" fill-rule="nonzero" d="M20.356 3L22 4.618 15.513 11 12 7.543l1.644-1.617 1.87 1.839z"/></g></symbol>\n    <symbol viewBox="0 0 16 16" id="icon_report_flag"><path clip-rule="evenodd" d="M3,14 L1,14 L1,2 L3,2 L3,14 L3,14 Z M4,2 L11,2 L11,4 L15,4 L15,11 L8,11 L8,9 L4,9 L4,2 L4,2 Z"></path></symbol>\n    <symbol id="icon_heart" height=\'16px\' version=\'1.1\' viewBox=\'0 0 16 16\' width=\'16px\' x=\'0px\' y=\'0px\'>\n      <path clip-rule=\'evenodd\' d=\'M8,14L1,7V4l2-2h3l2,2l2-2h3l2,2v3L8,14z\' fill-rule=\'evenodd\'></path>\n    </symbol>\n    <symbol id=\'icon_unheart\' height=\'16px\' version=\'1.1\' viewBox=\'0 0 16 16\' width=\'16px\' x=\'0px\' y=\'0px\'>\n      <path clip-rule=\'evenodd\' d=\'M1,9V7h14v2H1z M1,4l2-2h3l2,2l2-2h3l2,2v2H1V4z M8,14l-4.667-4h9.333L8,14z\' fill-rule=\'evenodd\'></path>\n    </symbol>\n    <symbol viewBox="0 0 30 30" id="icon_extensions"><path d="M20 17.113V22a1 1 0 0 1-1 1h-4.887c.257-1.051.87-1.404.887-1.917C15.025 19.6 14.006 19 13 19c-1.004 0-2.055.6-1.998 2.083.037.483.642.854.894 1.917H8a1 1 0 0 1-1-1v-4.887c1.051.257 1.404.87 1.917.887C10.4 18.025 11 17.006 11 16c0-1.004-.6-2.055-2.083-1.998-.483.037-.854.642-1.917.894V11a1 1 0 0 1 1-1h3.896c-.252-1.063-.857-1.434-.894-1.917C10.945 6.6 11.996 6 13 6c1.006 0 2.025.599 2 2.083-.016.513-.63.866-.887 1.917H19a1 1 0 0 1 1 1v3.896c1.063-.252 1.434-.857 1.917-.894C23.4 13.945 24 14.996 24 16c0 1.006-.599 2.025-2.083 2-.513-.016-.866-.63-1.917-.887z" fill-rule="evenodd"/></symbol>\n</svg>\n'},function(n,r,i){function a(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;r.setTimeout=function(){return new a(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new a(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(436),r.setImmediate=e,r.clearImmediate=t},function(e,t){!function(e,t,n,r,i,a,o){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},_Q:[]},a=n.createElement(r),a.async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",o=n.getElementsByTagName(r)[0],o.parentNode.insertBefore(a,o))}("apstag",window,document,"script")},function(e,t){e.exports=n(389)},function(e,t){e.exports=n(1115)},function(e,t){e.exports=n(1116)},function(e,t){e.exports=n(1117)},function(e,t){e.exports=n(1119)},function(e,t){e.exports=n(1120)},function(e,t){e.exports=n(1121)},function(e,t){e.exports=n(1123)},function(e,t){e.exports=n(472)},function(e,t){e.exports=n(1124)},function(e,t){e.exports=n(1126)},function(e,t){e.exports=n(1129)},function(e,t){e.exports=n(158)},function(e,t){e.exports=n(1130)},function(e,t){e.exports=n(453)},function(e,t){e.exports=n(1131)},function(e,t){e.exports=n(1140)},function(e,t){e.exports=n(1144)},function(e,t){e.exports=n(1147)},function(e,t){e.exports=n(1149)},function(e,t){e.exports=n(1150)},function(e,t){e.exports=n(1151)},function(e,t){e.exports=n(1153)},function(e,t){e.exports=n(452)},function(e,t){e.exports=n(488)},function(e,t){e.exports=n(490)},function(e,t){e.exports=n(1162)},function(e,t){e.exports=n(1163)},function(e,t){e.exports=n(142)},function(e,t){e.exports=n(1165)},function(e,t){e.exports=n(1169)},function(e,t){e.exports=n(11)},function(e,t){e.exports=n(210)},function(e,t){e.exports=n(1173)},function(e,t){e.exports=n(405)},function(e,t){e.exports=n(1174)}])}).call(t,n(287).setImmediate,n(287).clearImmediate)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.I18nextProvider=t.Interpolate=t.translate=t.loadNamespaces=void 0;var i=n(993),a=r(i),o=n(994),s=r(o),u=n(995),c=r(u),l=n(996),d=r(l);t.loadNamespaces=d.default,t.translate=a.default,t.Interpolate=s.default,t.I18nextProvider=c.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function c(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.withRef,r=void 0!==n&&n,c=t.wait,h=void 0!==c&&c,y=t.bindI18n,v=void 0===y?"languageChanged loaded":y,g=t.bindStore,b=void 0===g?"added removed":g,_=t.translateFuncName,w=void 0===_?"t":_;return function(t){var n=function(n){function u(t,n){a(this,u);var r=o(this,Object.getPrototypeOf(u).call(this,t,n));return r.i18n=n.i18n||t.i18n,e=e||r.i18n.options.defaultNS,r.state={i18nLoadedAt:null,ready:!1},r.onI18nChanged=r.onI18nChanged.bind(r),r}return s(u,n),d(u,[{key:"getChildContext",value:function(){return i({},w,this[w])}},{key:"componentWillMount",value:function(){this[w]=this.i18n.getFixedT(null,e)}},{key:"componentDidMount",value:function(){var t=this,n=function(){v&&t.i18n.on(v,t.onI18nChanged),b&&t.i18n.store&&t.i18n.store.on(b,t.onI18nChanged)};this.mounted=!0,this.i18n.loadNamespaces(e,function(){var e=function(){t.mounted&&t.setState({ready:!0}),h&&t.mounted&&n()};if(t.i18n.isInitialized)return e();var r=function n(){setTimeout(function(){t.i18n.off("initialized",n)},1e3),e()};t.i18n.on("initialized",r)}),h||n()}},{key:"componentWillUnmount",value:function(){var e=this;if(this.mounted=!1,this.onI18nChanged){if(v){v.split(" ").forEach(function(t){return e.i18n.off(t,e.onI18nChanged)})}if(b){b.split(" ").forEach(function(t){return e.i18n.store&&e.i18n.store.off(t,e.onI18nChanged)})}}}},{key:"onI18nChanged",value:function(){this.mounted&&this.setState({i18nLoadedAt:new Date})}},{key:"getWrappedInstance",value:function(){return r||console.error("To access the wrapped instance, you need to specify { withRef: true } as the second argument of the translate() call."),this.refs.wrappedInstance}},{key:"render",value:function(){var e,n=this.state,a=n.i18nLoadedAt,o=n.ready,s=(e={i18nLoadedAt:a},i(e,w,this[w]),i(e,"i18n",this.i18n),e);return r&&(s.ref="wrappedInstance"),!o&&h?null:p.default.createElement(t,l({},this.props,s))}}]),u}(f.Component);return n.WrappedComponent=t,n.contextTypes={i18n:f.PropTypes.object},n.childContextTypes=i({},w,f.PropTypes.func.isRequired),n.displayName="Translate("+u(t)+")",n.namespaces=e,(0,m.default)(n,t)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=c;var f=n(0),p=r(f),h=n(216),m=r(h)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),l=function(e){function t(e,n){r(this,t);var a=i(this,Object.getPrototypeOf(t).call(this,e,n));return a.i18n=n.i18n,a.t=n.t,a}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.parent||"span",n=this.props.regexp||this.i18n.services.interpolator.regexp,r=this.props,i=r.className,a=r.style,s=this.props.useDangerouslySetInnerHTML||!1,u=this.props.dangerouslySetInnerHTMLPartElement||"span",l=o({},this.props.options,{interpolation:{prefix:"#$?",suffix:"?$#"}}),d=this.t(this.props.i18nKey,l);if(!d||"string"!=typeof d)return c.default.createElement("noscript",null);var f=[],p=function(t,n){if(t.indexOf(e.i18n.options.interpolation.formatSeparator)<0)return void 0===n[t]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+t+" for interpolating "+d),n[t];var r=t.split(e.i18n.options.interpolation.formatSeparator),i=r.shift().trim(),a=r.join(e.i18n.options.interpolation.formatSeparator).trim();return void 0===n[t]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+i+" for interpolating "+d),e.i18n.options.interpolation.format(n[i],a,e.i18n.language)};return d.split(n).reduce(function(t,n,r){var i=void 0;if(r%2==0){if(0===n.length)return t;i=s?c.default.createElement(u,{dangerouslySetInnerHTML:{__html:n}}):n}else i=p(n,e.props);return t.push(i),t},f),c.default.createElement.apply(this,[t,{className:i,style:a}].concat(f))}}]),t}(u.Component);l.propTypes={children:u.PropTypes.node,className:u.PropTypes.string},l.contextTypes={i18n:u.PropTypes.object.isRequired,t:u.PropTypes.func.isRequired},t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=function(e){function t(e,n){r(this,t);var a=i(this,Object.getPrototypeOf(t).call(this,e,n));return a.i18n=e.i18n,a}return a(t,e),o(t,[{key:"getChildContext",value:function(){return{i18n:this.i18n}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.i18n!==e.i18n)throw new Error("[react-i18next][I18nextProvider]does not support changing the i18n object.")}},{key:"render",value:function(){var e=this.props.children;return s.Children.only(e)}}]),t}(s.Component);u.propTypes={i18n:s.PropTypes.object.isRequired,children:s.PropTypes.element.isRequired},u.childContextTypes={i18n:s.PropTypes.object.isRequired},t.default=u},function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if("object"===s(e[n])){var i=!0,a=!1,u=void 0;try{for(var c,l=Object.entries(e[n])[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var d=o(c.value,2),f=d[0],p=d[1];t(p,n,f)}}catch(e){a=!0,u=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw u}}}else t(e[n],n)}function i(e){var t=[];return r(e,function(e){e&&e.namespaces&&e.namespaces.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t}function a(e){var t=e.components,n=e.i18n,r=i(t);return new Promise(function(e){n.loadNamespaces(r,e)})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=a},function(e,t,n){var r=n(156),i=n(53),a=n(159),o=n(54),s=n(163),u=n(60),c=Object.prototype,l=c.hasOwnProperty,d=a(function(e,t){if(s(t)||o(t))return void i(t,u(t),e);for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=d},function(e,t,n){function r(e){return!(!o(e)||a(e))&&(i(e)?h:c).test(s(e))}var i=n(158),a=n(1001),o=n(35),s=n(443),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,f=l.toString,p=d.hasOwnProperty,h=RegExp("^"+f.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(97),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){function r(e){return!!a&&a in e}var i=n(1002),a=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(34),i=r["__core-js_shared__"];e.exports=i},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){var r=n(1005),i=n(441),a=n(160),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t){function n(e){var t=0,n=0;return function(){var o=a(),s=i-(o-n);if(n=o,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,a=Date.now;e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){return a(e)&&i(e)==o}var i=n(59),a=n(37),o="[object Arguments]";e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return o(e)&&a(e.length)&&!!s[i(e)]}var i=n(59),a=n(298),o=n(37),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},function(e,t,n){(function(e){var r=n(442),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u}).call(t,n(132)(e))},function(e,t,n){function r(e){if(!i(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(163),a=n(1013),o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(448),i=r(Object.keys,Object);e.exports=i},function(e,t,n){function r(e,t,n,r){e=a(e)?e:u(e),n=n&&!r?s(n):0;var l=e.length;return n<0&&(n=c(l+n,0)),o(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&i(e,t,n)>-1}var i=n(301),a=n(54),o=n(450),s=n(125),u=n(452),c=Math.max;e.exports=r},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e,t){return i(t,function(t){return e[t]})}var i=n(72);e.exports=r},function(e,t,n){var r=n(1019),i=n(458),a=i(function(e,t){return null==e?{}:r(e,t)});e.exports=a},function(e,t,n){function r(e,t){return i(e,t,function(t,n){return a(e,n)})}var i=n(1020),a=n(456);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,s=t.length,u={};++r<s;){var c=t[r],l=i(e,c);n(l,c)&&a(u,o(c,e),l)}return u}var i=n(167),a=n(455),o=n(99);e.exports=r},function(e,t,n){var r=n(1022),i=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r(function(e){var t=[];return i.test(e)&&t.push(""),e.replace(a,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}var i=n(453),a=500;e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(o||a),string:new i}}var i=n(1024),a=n(169),o=n(305);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(1025),a=n(1026),o=n(1027),s=n(1028),u=n(1029);r.prototype.clear=i,r.prototype.delete=a,r.prototype.get=o,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(168);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===a?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(168),a="__lodash_hash_undefined__",o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:o.call(t,e)}var i=n(168),a=Object.prototype,o=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?a:t,this}var i=n(168),a="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}var i=n(170),a=Array.prototype,o=a.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(170);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(170);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(170);e.exports=r},function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(171);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(171);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(171);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(171);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e){return o(e)||a(e)||!!(s&&e&&e[s])}var i=n(97),a=n(164),o=n(19),s=i?i.isConcatSpreadable:void 0;e.exports=r},function(e,t,n){e.exports=n(1043)},function(e,t,n){var r=n(53),i=n(159),a=n(73),o=i(function(e,t){r(t,a(t),e)});e.exports=o},function(e,t,n){function r(e){if(!i(e))return o(e);var t=a(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var i=n(35),a=n(163),o=n(1045),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(373),u=n(15),c=n(1047);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=u({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:c(a),n(c(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=u({encode:!0,strict:!0,arrayFormat:"none"},t);var n=r(t);return e?Object.keys(e).sort().map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""}},,function(e,t,n){var r=n(1049),i=n(474),a=r(i);e.exports=a},function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!a(t)){var u=i(n,3);t=o(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,r);return c>-1?s[u?t[c]:c]:void 0}}var i=n(101),a=n(54),o=n(60);e.exports=r},function(e,t,n){function r(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(1051),a=n(1066),o=n(471);e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var d=n[u];if(l&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<c;){d=n[u];var f=d[0],p=e[f],h=d[1];if(l&&d[2]){if(void 0===p&&!(f in e))return!1}else{var m=new i;if(r)var y=r(p,h,f,e,t,m);if(!(void 0===y?a(h,p,o|s,r,m):y))return!1}}return!0}var i=n(173),a=n(460),o=1,s=2;e.exports=r},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(169);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!a||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(e,t),this.size=n.size,this}var i=n(169),a=n(305),o=n(304),s=200;e.exports=r},function(e,t,n){function r(e,t,n,r,y,g){var b=c(e),_=c(t),w=b?h:u(e),k=_?h:u(t);w=w==p?m:w,k=k==p?m:k;var E=w==m,S=k==m,P=w==k;if(P&&l(e)){if(!l(t))return!1;b=!0,E=!1}if(P&&!E)return g||(g=new i),b||d(e)?a(e,t,n,r,y,g):o(e,t,w,n,r,y,g);if(!(n&f)){var C=E&&v.call(e,"__wrapped__"),T=S&&v.call(t,"__wrapped__");if(C||T){var O=C?e.value():e,x=T?t.value():t;return g||(g=new i),y(O,x,n,r,g)}}return!!P&&(g||(g=new i),s(e,t,n,r,y,g))}var i=n(173),a=n(461),o=n(1060),s=n(1061),u=n(468),c=n(19),l=n(165),d=n(299),f=1,p="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t,n,r,i,E,P){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!E(new a(e),new a(t)));case f:case p:case y:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case m:var C=u;case g:var T=r&l;if(C||(C=c),e.size!=t.size&&!T)return!1;var O=P.get(e);if(O)return O==t;r|=d,P.set(e,t);var x=s(C(e),C(t),r,i,E,P);return P.delete(e),x;case _:if(S)return S.call(e)==S.call(t)}return!1}var i=n(97),a=n(463),o=n(98),s=n(461),u=n(464),c=n(174),l=1,d=2,f="[object Boolean]",p="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",k="[object DataView]",E=i?i.prototype:void 0,S=E?E.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t,n,r,o,u){var c=n&a,l=i(e),d=l.length;if(d!=i(t).length&&!c)return!1;for(var f=d;f--;){var p=l[f];if(!(c?p in t:s.call(t,p)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var m=!0;u.set(e,t),u.set(t,e);for(var y=c;++f<d;){p=l[f];var v=e[p],g=t[p];if(r)var b=c?r(g,v,p,t,e,u):r(v,g,p,e,t,u);if(!(void 0===b?v===g||o(v,g,n,r,u):b)){m=!1;break}y||(y="constructor"==p)}if(m&&!y){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(e),u.delete(t),m}var i=n(465),a=1,o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}e.exports=n},function(e,t,n){var r=n(71),i=n(34),a=r(i,"DataView");e.exports=a},function(e,t,n){var r=n(71),i=n(34),a=r(i,"Promise");e.exports=a},function(e,t,n){var r=n(71),i=n(34),a=r(i,"WeakMap");e.exports=a},function(e,t,n){function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,i(o)]}return t}var i=n(470),a=n(60);e.exports=r},function(e,t,n){function r(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var r=a(n,e);return void 0===r&&r===t?o(n,e):i(t,r,d|f)}}var i=n(460),a=n(472),o=n(456),s=n(303),u=n(470),c=n(471),l=n(100),d=1,f=2;e.exports=r},function(e,t,n){function r(e){return o(e)?i(s(e)):a(e)}var i=n(473),a=n(1069),o=n(303),s=n(100);e.exports=r},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(167);e.exports=r},function(e,t,n){var r=n(1071),i=n(159),a=i(function(e,t,n){r(e,t,n)});e.exports=a},function(e,t,n){function r(e,t,n,l,d){e!==t&&o(t,function(o,c){if(u(o))d||(d=new i),s(e,t,c,n,r,l,d);else{var f=l?l(e[c],o,c+"",e,t,d):void 0;void 0===f&&(f=o),a(e,c,f)}},c)}var i=n(173),a=n(475),o=n(311),s=n(1073),u=n(35),c=n(73);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}e.exports=n},function(e,t,n){function r(e,t,n,r,g,b,_){var w=e[n],k=t[n],E=_.get(k);if(E)return void i(e,n,E);var S=b?b(w,k,n+"",e,t,_):void 0,P=void 0===S;if(P){var C=l(k),T=!C&&f(k),O=!C&&!T&&y(k);S=k,C||T||O?l(w)?S=w:d(w)?S=s(w):T?(P=!1,S=a(k,!0)):O?(P=!1,S=o(k,!0)):S=[]:m(k)||c(k)?(S=w,c(w)?S=v(w):(!h(w)||r&&p(w))&&(S=u(k))):P=!1}P&&(_.set(k,S),g(S,k,r,b,_),_.delete(k)),i(e,n,S)}var i=n(475),a=n(476),o=n(477),s=n(175),u=n(478),c=n(164),l=n(19),d=n(314),f=n(165),p=n(158),h=n(35),m=n(315),y=n(299),v=n(1075);e.exports=r},function(e,t,n){var r=n(35),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){function r(e){return i(e,a(e))}var i=n(53),a=n(73);e.exports=r},function(e,t,n){function r(e,t,n){var r=u(e)?i:s,c=arguments.length<3;return r(e,o(t,4),n,c,a)}var i=n(316),a=n(126),o=n(101),s=n(1079),u=n(19);e.exports=r},function(e,t,n){function r(e,t){return e&&i(e,t,a)}var i=n(311),a=n(60);e.exports=r},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==r(s[o],o,s););return n}}var i=n(54);e.exports=r},function(e,t){function n(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}e.exports=n},,function(e,t,n){function r(e){return"number"==typeof e&&a(e)}var i=n(34),a=i.isFinite;e.exports=r},function(e,t,n){!function(t,r,i){void 0!==e&&e.exports?e.exports=i():n(1083)("bowser",i)}(0,0,function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}var n,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),i=/like android/i.test(e),a=!i&&/android/i.test(e),s=/nexus\s*[0-6]\s*/i.test(e),u=!s&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),l=/silk/i.test(e),d=/sailfish/i.test(e),f=/tizen/i.test(e),p=/(web|hpw)os/i.test(e),h=/windows phone/i.test(e),m=(/SamsungBrowser/i.test(e),!h&&/windows/i.test(e)),y=!r&&!l&&/macintosh/i.test(e),v=!a&&!d&&!f&&!p&&/linux/i.test(e),g=t(/edge\/(\d+(\.\d+)?)/i),b=t(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(e)&&!/tablet pc/i.test(e),w=!_&&/[^-]mobi/i.test(e),k=/xbox/i.test(e);/opera/i.test(e)?n={name:"Opera",opera:o,version:b||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?n={name:"Opera",opera:o,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(e)?n={name:"Samsung Internet for Android",samsungBrowser:o,version:b||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?n={name:"Opera Coast",coast:o,version:b||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?n={name:"Yandex Browser",yandexbrowser:o,version:b||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?n={name:"UC Browser",ucbrowser:o,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?n={name:"Maxthon",maxthon:o,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?n={name:"Epiphany",epiphany:o,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?n={name:"Puffin",puffin:o,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?n={name:"Sleipnir",sleipnir:o,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?n={name:"K-Meleon",kMeleon:o,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:h?(n={name:"Windows Phone",windowsphone:o},g?(n.msedge=o,n.version=g):(n.msie=o,n.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:o,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?n={name:"Chrome",chromeos:o,chromeBook:o,chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?n={name:"Microsoft Edge",msedge:o,version:g}:/vivaldi/i.test(e)?n={name:"Vivaldi",vivaldi:o,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||b}:d?n={name:"Sailfish",sailfish:o,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:o,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(n={name:"Firefox",firefox:o,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=o)):l?n={name:"Amazon Silk",silk:o,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:o,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?n={name:"SlimerJS",slimer:o,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",blackberry:o,version:b||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(n={name:"WebOS",webos:o,version:b||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=o)):/bada/i.test(e)?n={name:"Bada",bada:o,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:f?n={name:"Tizen",tizen:o,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(e)?n={name:"QupZilla",qupzilla:o,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(e)?n={name:"Chromium",chromium:o,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?n={name:"Android",version:b}:/safari|applewebkit/i.test(e)?(n={name:"Safari",safari:o},b&&(n.version=b)):r?(n={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},b&&(n.version=b)):n=/googlebot/i.test(e)?{name:"Googlebot",googlebot:o,version:t(/googlebot\/(\d+(\.\d+))/i)||b}:{name:t(/^(.*)\/(.*) /),version:function(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}(/^(.*)\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(n.name=n.name||"Blink",n.blink=o):(n.name=n.name||"Webkit",n.webkit=o),!n.version&&b&&(n.version=b)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=o,n.version=n.version||t(/gecko\/(\d+(\.\d+)?)/i)),n.windowsphone||n.msedge||!a&&!n.silk?n.windowsphone||n.msedge||!r?y?n.mac=o:k?n.xbox=o:m?n.windows=o:v&&(n.linux=o):(n[r]=o,n.ios=o):n.android=o;var E="";n.windows?E=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):n.windowsphone?E=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):n.mac?(E=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),E=E.replace(/[_\s]/g,".")):r?(E=t(/os (\d+([_\s]\d+)*) like mac os x/i),E=E.replace(/[_\s]/g,".")):a?E=t(/android[ \/-](\d+(\.\d+)*)/i):n.webos?E=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?E=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?E=t(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(E=t(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(n.osversion=E);var S=!n.windows&&E.split(".")[0];return _||u||"ipad"==r||a&&(3==S||S>=4&&!w)||n.silk?n.tablet=o:(w||"iphone"==r||"ipod"==r||a||s||n.blackberry||n.webos||n.bada)&&(n.mobile=o),n.msedge||n.msie&&n.version>=10||n.yandexbrowser&&n.version>=15||n.vivaldi&&n.version>=1||n.chrome&&n.version>=20||n.samsungBrowser&&n.version>=4||n.firefox&&n.version>=20||n.safari&&n.version>=6||n.opera&&n.version>=10||n.ios&&n.osversion&&n.osversion.split(".")[0]>=6||n.blackberry&&n.version>=10.1||n.chromium&&n.version>=20?n.a=o:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=o:n.x=o,n}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=r-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(t,n,i){var a=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=e(i));var o=""+a.version;for(var u in t)if(t.hasOwnProperty(u)&&a[u]){if("string"!=typeof t[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(t));return r([o,t[u]])<0}return n}function a(e,t,n){return!i(e,t,n)}var o=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=a,s._detect=e,s})},,function(e,t,n){function r(e,t){return(s(e)?i:o)(e,a(t,3))}var i=n(72),a=n(101),o=n(1085),s=n(19);e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=a(e)?Array(e.length):[];return i(e,function(e,i,a){r[++n]=t(e,i,a)}),r}var i=n(126),a=n(54);e.exports=r},,,function(e,t,n){var r=n(445),i=n(1089),a=n(124),o=n(1090),s=a(function(e){return e.push(void 0,o),r(i,void 0,e)});e.exports=s},function(e,t,n){var r=n(53),i=n(159),a=n(73),o=i(function(e,t,n,i){r(t,a(t),e,i)});e.exports=o},function(e,t,n){function r(e,t,n,r){return void 0===e||i(e,a[n])&&!o.call(r,n)?t:e}var i=n(98),a=Object.prototype,o=a.hasOwnProperty;e.exports=r},,function(e,t,n){var r=n(157),i=n(1093),a=Object.prototype,o=a.hasOwnProperty,s=i(function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])});e.exports=s},function(e,t,n){function r(e,t){return function(n,r){var u=s(n)?i:a,c=t?t():{};return u(n,e,o(r,2),c)}}var i=n(1094),a=n(1095),o=n(101),s=n(19);e.exports=r},function(e,t){function n(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}e.exports=n},function(e,t,n){function r(e,t,n,r){return i(e,function(e,i,a){t(r,e,n(e),a)}),r}var i=n(126);e.exports=r},function(e,t,n){var r=n(72),i=n(479),a=n(1110),o=n(99),s=n(53),u=n(1113),c=n(458),l=n(482),d=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,function(t){return t=o(t,e),c||(c=t.length>1),t}),s(e,l(e),n),c&&(n=i(n,7,u));for(var d=t.length;d--;)a(n,t[d]);return n});e.exports=d},function(e,t,n){function r(e,t){return e&&i(t,a(t),e)}var i=n(53),a=n(60);e.exports=r},function(e,t,n){function r(e,t){return e&&i(t,a(t),e)}var i=n(53),a=n(73);e.exports=r},function(e,t,n){function r(e,t){return i(e,a(e),t)}var i=n(53),a=n(310);e.exports=r},function(e,t,n){function r(e,t){return i(e,a(e),t)}var i=n(53),a=n(481);e.exports=r},function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){function r(e,t,n,r){var R=e.constructor;switch(t){case b:return i(e);case d:case f:return new R(+e);case _:return a(e,r);case w:case k:case E:case S:case P:case C:case T:case O:case x:return l(e,r);case p:return o(e,r,n);case h:case v:return new R(e);case m:return s(e);case y:return u(e,r,n);case g:return c(e)}}var i=n(312),a=n(1103),o=n(1104),s=n(1106),u=n(1107),c=n(1109),l=n(477),d="[object Boolean]",f="[object Date]",p="[object Map]",h="[object Number]",m="[object RegExp]",y="[object Set]",v="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",k="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",x="[object Uint32Array]";e.exports=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(312);e.exports=r},function(e,t,n){function r(e,t,n){var r=t?n(o(e),s):o(e);return a(r,i,new e.constructor)}var i=n(1105),a=n(316),o=n(464),s=1;e.exports=r},function(e,t){function n(e,t){return e.set(t[0],t[1]),e}e.exports=n},function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},function(e,t,n){function r(e,t,n){var r=t?n(o(e),s):o(e);return a(r,i,new e.constructor)}var i=n(1108),a=n(316),o=n(174),s=1;e.exports=r},function(e,t){function n(e,t){return e.add(t),e}e.exports=n},function(e,t,n){function r(e){return o?Object(o.call(e)):{}}var i=n(97),a=i?i.prototype:void 0,o=a?a.valueOf:void 0;e.exports=r},function(e,t,n){function r(e,t){return t=i(t,e),null==(e=o(e,t))||delete e[s(a(t))]}var i=n(99),a=n(1111),o=n(1112),s=n(100);e.exports=r},function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){function r(e,t){return t.length<2?e:i(e,a(t,0,-1))}var i=n(167),a=n(317);e.exports=r},function(e,t,n){function r(e){return i(e)?void 0:e}var i=n(315);e.exports=r},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return null==e?"":""+e}function o(e,t,n){e.forEach(function(e){t[e]&&(n[e]=t[e])})}function s(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=e[o]}return i()?{}:{obj:e,k:r(a.shift())}}function u(e,t,n){var r=s(e,t,Object);r.obj[r.k]=n}function c(e,t,n,r){var i=s(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[],r&&(a[o]=a[o].concat(n)),r||a[o].push(n)}function l(e,t){var n=s(e,t),r=n.obj,i=n.k;if(r)return r[i]}function d(e,t,n){for(var r in t)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):d(e[r],t[r],n):e[r]=t[r];return e}function f(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function p(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return ee[e]}):e}function h(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):h(e,t))}function g(e){return e.interpolation={unescapeSuffix:"HTML"},e.interpolation.prefix=e.interpolationPrefix||"__",e.interpolation.suffix=e.interpolationSuffix||"__",e.interpolation.escapeValue=e.escapeInterpolation||!1,e.interpolation.nestingPrefix=e.reusePrefix||"$t(",e.interpolation.nestingSuffix=e.reuseSuffix||")",e}function b(e){return e.resStore&&(e.resources=e.resStore),e.ns&&e.ns.defaultNs?(e.defaultNS=e.ns.defaultNs,e.ns=e.ns.namespaces):e.defaultNS=e.ns||"translation",e.fallbackToDefaultNS&&e.defaultNS&&(e.fallbackNS=e.defaultNS),e.saveMissing=e.sendMissing,e.saveMissingTo=e.sendMissingTo||"current",e.returnNull=!e.fallbackOnNull,e.returnEmptyString=!e.fallbackOnEmpty,e.returnObjects=e.returnObjectTrees,e.joinArrays="\n",e.returnedObjectHandler=e.objectTreeKeyHandler,e.parseMissingKeyHandler=e.parseMissingKey,e.appendNamespaceToMissingKey=!0,e.nsSeparator=e.nsseparator||":",e.keySeparator=e.keyseparator||".","sprintf"===e.shortcutFunction&&(e.overloadTranslationOptionHandler=function(e){for(var t=[],n=1;n<e.length;n++)t.push(e[n]);return{postProcess:"sprintf",sprintf:t}}),e.whitelist=e.lngWhitelist,e.preload=e.preload,"current"===e.load&&(e.load="currentOnly"),"unspecific"===e.load&&(e.load="languageOnly"),e.backend=e.backend||{},e.backend.loadPath=e.resGetPath||"locales/__lng__/__ns__.json",e.backend.addPath=e.resPostPath||"locales/add/__lng__/__ns__",e.backend.allowMultiLoading=e.dynamicLoad,e.cache=e.cache||{},e.cache.prefix="res_",e.cache.expirationTime=6048e5,e.cache.enabled=!!e.useLocalStorage,e=g(e),e.defaultVariables&&(e.interpolation.defaultVariables=e.defaultVariables),e}function _(e){return e=g(e),e.joinArrays="\n",e}function w(e){return(e.interpolationPrefix||e.interpolationSuffix||e.escapeInterpolation)&&(e=g(e)),e.nsSeparator=e.nsseparator,e.keySeparator=e.keyseparator,e.returnObjects=e.returnObjectTrees,e}function k(e){e.lng=function(){return X.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),e.services.languageUtils.toResolveHierarchy(e.language)[0]},e.preload=function(t,n){X.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),e.loadLanguages(t,n)},e.setLng=function(t,n,r){if(X.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof n&&(r=n,n={}),n||(n={}),!0===n.fixLng&&r)return r(null,e.getFixedT(t));e.changeLanguage(t,r)},e.addPostProcessor=function(t,n){X.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),e.use({type:"postProcessor",name:t,process:n})}}function E(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):E(e,t))}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e){return e.charAt(0).toUpperCase()+e.slice(1)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(){var e={};return fe.forEach(function(t){t.lngs.forEach(function(n){return e[n]={numbers:t.nr,plurals:pe[t.fc]}})}),e}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):L(e,t))}function M(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}function q(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):q(e,t))}function F(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){return{defaultValue:e[1]}},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function V(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&e.whitelist.push("cimode"),e}function z(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}return e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):z(e,t))}function K(){}Object.defineProperty(t,"__esModule",{value:!0});var Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y={type:"logger",log:function(e){this._output("log",e)},warn:function(e){this._output("warn",e)},error:function(e){this._output("error",e)},_output:function(e,t){console&&console[e]&&console[e].apply(console,Array.prototype.slice.call(t))}},$=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Y,this.options=t,this.debug=!1!==t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){this.forward(arguments,"log","",!0)},e.prototype.warn=function(){this.forward(arguments,"warn","",!0)},e.prototype.error=function(){this.forward(arguments,"error","")},e.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,r){r&&!this.debug||("string"==typeof e[0]&&(e[0]=n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,Q({prefix:this.prefix+":"+t+":"},this.options))},e}(),X=new $,Z=function(){function e(){i(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var r=n.observers[e].indexOf(t);r>-1&&n.observers[e].splice(r,1)}else delete n.observers[e]})},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)})}if(this.observers["*"]){[].concat(this.observers["*"]).forEach(function(t){var r;t.apply(t,(r=[e]).concat.apply(r,n))})}},e}(),J=Z,ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};m(this,t);var i=y(this,e.call(this));return i.data=n,i.options=r,i}return v(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.keySeparator||this.options.keySeparator;void 0===i&&(i=".");var a=[e,t];return n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split(".")),l(this.data,a)},t.prototype.addResource=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),u(this.data,o,r),i.silent||this.emit("added",e,t,n,r)},t.prototype.addResources=function(e,t,n){for(var r in n)"string"==typeof n[r]&&this.addResource(e,t,r,n[r],{silent:!0});this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,r,i){var a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);var o=l(this.data,a)||{};r?d(o,n,i):o=te({},o,n),u(this.data,a,o),this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?te({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(J),re=ne,ie={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach(function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))}),t}},ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(this,t);var i=P(this,e.call(this));return o(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,i),i.options=r,i.logger=X.create("translator"),i}return C(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(t=w(t)),void 0!==this.resolve(e,t)},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===t?"undefined":oe(t))?t=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(t=w(t)),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var n=t.keySeparator||this.options.keySeparator||".",r=this.extractFromKey(e[e.length-1],t),i=r.key,a=r.namespaces,o=a[a.length-1],s=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase()){if(u){return o+(t.nsSeparator||this.options.nsSeparator)+i}return i}var c=this.resolve(e,t),l=Object.prototype.toString.apply(c),d=["[object Number]","[object Function]","[object RegExp]"],f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays;if(c&&"string"!=typeof c&&d.indexOf(l)<0&&(!f||"[object Array]"!==l)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(i,c,t):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var p="[object Array]"===l?[]:{};for(var h in c)c.hasOwnProperty(h)&&(p[h]=this.translate(""+i+n+h,ae({},t,{joinArrays:!1,ns:a})));c=p}}else if(f&&"[object Array]"===l)(c=c.join(f))&&(c=this.extendTranslation(c,i,t));else{var m=!1,y=!1;if(this.isValidLookup(c)||void 0===t.defaultValue||(m=!0,c=t.defaultValue),this.isValidLookup(c)||(y=!0,c=i),y||m){this.logger.log("missingKey",s,o,i,c);var v=[],g=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&g&&g[0])for(var b=0;b<g.length;b++)v.push(g[b]);else"all"===this.options.saveMissingTo?v=this.languageUtils.toResolveHierarchy(t.lng||this.language):v.push(t.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(v,o,i,c):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(v,o,i,c)),this.emit("missingKey",v,o,i,c)}c=this.extendTranslation(c,i,t),y&&c===i&&this.options.appendNamespaceToMissingKey&&(c=o+":"+i),y&&this.options.parseMissingKeyHandler&&(c=this.options.parseMissingKeyHandler(c))}return c},t.prototype.extendTranslation=function(e,t,n){var r=this;n.interpolation&&this.interpolator.init(ae({},n,{interpolation:ae({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=ae({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,this.language),e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.translate.apply(r,t)},n),n.interpolation&&this.interpolator.reset();var a=n.postProcess||this.options.postProcess,o="string"==typeof a?[a]:a;return void 0!==e&&o&&o.length&&!1!==n.applyPostProcessor&&(e=ie.handle(o,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!t.isValidLookup(r)){var i=t.extractFromKey(e,n),a=i.key,o=i.namespaces;t.options.fallbackNS&&(o=o.concat(t.options.fallbackNS));var s=void 0!==n.count&&"string"!=typeof n.count,u=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,c=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);o.forEach(function(e){t.isValidLookup(r)||c.forEach(function(i){if(!t.isValidLookup(r)){var o=a,c=[o],l=void 0;s&&(l=t.pluralResolver.getSuffix(i,n.count)),s&&u&&c.push(o+l),u&&c.push(o+=""+t.options.contextSeparator+n.context),s&&c.push(o+=l);for(var d=void 0;d=c.pop();)t.isValidLookup(r)||(r=t.getResource(i,e,d,n))}})})}}),r},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,r)},t}(J),ue=se,ce=function(){function e(t){T(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=X.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=O(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=O(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=O(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e,t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist&&!t)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(n.isWhitelisted(e,t)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e),!0),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e),!0),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),r.forEach(function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))}),i},e}(),le=ce,de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],pe={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},he=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(this,e),this.languageUtils=t,this.options=n,this.logger=X.create("pluralResolver"),this.rules=R()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return!(t&&t.numbers.length<=1)},e.prototype.getSuffix=function(e,t){var n=this,r=this.getRule(e);if(!r)return this.logger.warn("no plural rule found for: "+e),"";var i=function(){if(1===r.numbers.length)return{v:""};var e=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),i=r.numbers[e];n.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===n.options.compatibilityJSON?1===i?{v:""}:"number"==typeof i?{v:"_plural_"+i.toString()}:{v:a()}:"v2"===n.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?{v:a()}:2===r.numbers.length&&1===r.numbers[0]?{v:a()}:{v:n.options.prepend&&e.toString()?n.options.prepend+e.toString():e.toString()}}();return"object"===(void 0===i?"undefined":de(i))?i.v:void 0},e}(),me=he,ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};I(this,e),this.logger=X.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||p),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?f(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?f(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?f(t.nestingPrefix):t.nestingPrefixEscaped||f("$t("),this.nestingSuffix=t.nestingSuffix?f(t.nestingSuffix):t.nestingSuffixEscaped||f(")"),this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){function r(e){return e.replace(/\$/g,"$$$$")}var i=this,o=void 0,s=void 0,u=function(e){if(e.indexOf(i.formatSeparator)<0)return l(t,e);var r=e.split(i.formatSeparator),a=r.shift().trim(),o=r.join(i.formatSeparator).trim();return i.format(l(t,a),o,n)};for(this.resetRegExp();o=this.regexpUnescape.exec(e);){var c=u(o[1].trim());e=e.replace(o[0],c),this.regexpUnescape.lastIndex=0}for(;o=this.regexp.exec(e);)s=u(o[1].trim()),"string"!=typeof s&&(s=a(s)),s||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+e),s=""),s=r(this.escapeValue?this.escape(s):s),e=e.replace(o[0],s),this.regexp.lastIndex=0;return e},e.prototype.nest=function(e,t){function n(e){if(e.indexOf(",")<0)return e;var t=e.split(",");e=t.shift();var n=t.join(",");n=this.interpolate(n,s),n=n.replace(/'/g,'"');try{s=JSON.parse(n)}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,o=void 0,s=ye({},r);for(s.applyPostProcessor=!1;i=this.nestingRegexp.exec(e);)o=t(n.call(this,i[1].trim()),s),"string"!=typeof o&&(o=a(o)),o||(this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+e),o=""),e=e.replace(i[0],o),this.regexp.lastIndex=0;return e},e}(),ge=ve,be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),we=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};A(this,t);var o=N(this,e.call(this));return o.backend=n,o.store=r,o.services=i,o.options=a,o.logger=X.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,a.backend,a),o}return j(t,e),t.prototype.queueLoad=function(e,t,n){var r=this,i=[],a=[],o=[],s=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var o=e+"|"+t;r.store.hasResourceBundle(e,t)?r.state[o]=2:r.state[o]<0||(1===r.state[o]?a.indexOf(o)<0&&a.push(o):(r.state[o]=1,n=!1,a.indexOf(o)<0&&a.push(o),i.indexOf(o)<0&&i.push(o),s.indexOf(t)<0&&s.push(t)))}),n||o.push(e)}),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:n}),{toLoad:i,pending:a,toLoadLanguages:o,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var r=this,i=e.split("|"),a=_e(i,2),o=a[0],s=a[1];t&&this.emit("failedLoading",o,s,t),n&&this.store.addResourceBundle(o,s,n),this.state[e]=t?-1:2,this.queue.forEach(function(n){c(n.loaded,[o],s),M(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(r.emit("loaded",n.loaded),n.errors.length?n.callback(n.errors):n.callback(),n.done=!0)}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,n,r,i,a){var o=this;if(r||(r=0),i||(i=250),!e.length)return a(null,{});this.backend[n](e,t,function(s,u){if(s&&u&&r<5)return void setTimeout(function(){o.read.call(o,e,t,n,++r,2*i,a)},i);a(s,u)})},t.prototype.load=function(e,t,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=be({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,n);if(!a.toLoad.length)return void(a.pending.length||n());i.allowMultiLoading&&this.backend.readMulti?this.read(a.toLoadLanguages,a.toLoadNamespaces,"readMulti",null,null,function(e,t){e&&r.logger.warn("loading namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&r.logger.log("loaded namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading",t),a.toLoad.forEach(function(n){var i=n.split("|"),a=_e(i,2),o=a[0],s=a[1],u=l(t,[o,s]);if(u)r.loaded(n,e,u);else{var c="loading namespace "+s+" for language "+o+" via multiloading failed";r.loaded(n,c),r.logger.error(c)}})}):function(){var e=function(e){var t=this,n=e.split("|"),r=_e(n,2),i=r[0],a=r[1];this.read(i,a,"read",null,null,function(n,r){n&&t.logger.warn("loading namespace "+a+" for language "+i+" failed",n),!n&&r&&t.logger.log("loaded namespace "+a+" for language "+i,r),t.loaded(e,n,r)})};a.toLoad.forEach(function(t){e.call(r,t)})}()},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=be({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),r.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach(function(e){t.forEach(function(t){var a=l(i,[e,t]);if(a)n.loaded(e+"|"+t,r,a);else{var o="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,o),n.logger.error(o)}})})}):function(){var r=function(e){var t=this,n=e.split("|"),r=_e(n,2),i=r[0],a=r[1];this.read(i,a,"read",null,null,function(n,r){n&&t.logger.warn("reloading namespace "+a+" for language "+i+" failed",n),!n&&r&&t.logger.log("reloaded namespace "+a+" for language "+i,r),t.loaded(e,n,r)})};e.forEach(function(e){t.forEach(function(t){r.call(n,e+"|"+t)})})}()},t.prototype.saveMissing=function(e,t,n,r){this.backend&&this.backend.create&&this.backend.create(e,t,n,r),e&&e[0]&&this.store.addResource(e[0],t,n,r)},t}(J),ke=we,Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se=function(e){function t(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};D(this,t);var o=B(this,e.call(this));return o.cache=n,o.store=r,o.services=i,o.options=a,o.logger=X.create("cacheConnector"),o.cache&&o.cache.init&&o.cache.init(i,a.cache,a),o}return U(t,e),t.prototype.load=function(e,t,n){var r=this;if(!this.cache)return n&&n();var i=Ee({},this.cache.options,this.options.cache);"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),i.enabled?this.cache.load(e,function(t,i){if(t&&r.logger.error("loading languages "+e.join(", ")+" from cache failed",t),i)for(var a in i)for(var o in i[a])if("i18nStamp"!==o){var s=i[a][o];s&&r.store.addResourceBundle(a,o,s)}n&&n()}):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(J),Pe=Se,Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];H(this,t);var i=G(this,e.call(this));if(i.options=V(n),i.services={},i.logger=X,i.modules={external:[]},r&&!i.isInitialized&&!n.isClone){var a;if(!i.options.initImmediate)return a=i.init(n,r),G(i,a);setTimeout(function(){i.init(n,r)},0)}return i}return W(t,e),t.prototype.init=function(e,t){function n(e){if(e)return"function"==typeof e?new e:e}var r=this;if("function"==typeof e&&(t=e,e={}),e||(e={}),"v1"===e.compatibilityAPI?this.options=Te({},F(),V(b(e)),{}):"v1"===e.compatibilityJSON?this.options=Te({},F(),V(_(e)),{}):this.options=Te({},F(),this.options,V(e)),t||(t=K),!this.options.isClone){this.modules.logger?X.init(n(this.modules.logger),this.options):X.init(null,this.options);var i=new le(this.options);this.store=new re(this.options.resources,this.options);var a=this.services;a.logger=X,a.resourceStore=this.store,a.resourceStore.on("added removed",function(e,t){a.cacheConnector.save()}),a.languageUtils=i,a.pluralResolver=new me(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new ge(this.options),a.backendConnector=new ke(n(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e].concat(n))}),a.backendConnector.on("loaded",function(e){a.cacheConnector.save()}),a.cacheConnector=new Pe(n(this.modules.cache),a.resourceStore,a,this.options),a.cacheConnector.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e].concat(n))}),this.modules.languageDetector&&(a.languageDetector=n(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.translator=new ue(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e].concat(n))}),this.modules.external.forEach(function(e){e.init&&e.init(r)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){r[e]=function(){return this.store[e].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&k(this);var o=function(){r.changeLanguage(r.options.lng,function(e,n){r.isInitialized=!0,r.logger.log("initialized",r.options),r.emit("initialized",r.options),t(e,n)})};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;if(this.options.resources)t(null);else{var n=function(){if(e.language&&"cimode"===e.language.toLowerCase())return{v:t()};var n=[],r=function(t){if(t){e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){n.indexOf(e)<0&&n.push(e)})}};if(e.language)r(e.language);else{e.services.languageUtils.getFallbackCodes(e.options.fallbackLng).forEach(function(e){return r(e)})}e.options.preload&&e.options.preload.forEach(function(e){return r(e)}),e.services.cacheConnector.load(n,e.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}();if("object"===(void 0===n?"undefined":Ce(n)))return n.v}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&ie.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,r=function(r){e&&(n.emit("languageChanged",e),n.logger.log("languageChanged",e)),t&&t(r,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.t.apply(n,t)})};!e&&this.services.languageDetector&&(e=this.services.languageDetector.detect()),e&&(this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.translator.changeLanguage(e),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(e)),this.loadResources(function(e){r(e)})},t.prototype.getFixedT=function(e,t){var n=this,r=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Te({},r);return i.lng=i.lng||e.lng,i.ns=i.ns||e.ns,n.t(t,i)};return r.lng=e,r.ns=t,r},t.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},t.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],r=e.filter(function(e){return n.indexOf(e)<0});if(!r.length)return t();this.options.preload=n.concat(r),this.loadResources(t)},t.prototype.dir=function(e){return e||(e=this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K,i=Te({},n,this.options,{isClone:!0}),a=new t(i,r);return["store","services","language"].forEach(function(t){a[t]=e[t]}),a.translator=new ue(a.services,a.options),a.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),a.init(i,r),a},t}(J),xe=new Oe;n.d(t,"changeLanguage",function(){return Re}),n.d(t,"cloneInstance",function(){return Ie}),n.d(t,"createInstance",function(){return Le}),n.d(t,"dir",function(){return Ae}),n.d(t,"exists",function(){return Ne}),n.d(t,"getFixedT",function(){return je}),n.d(t,"init",function(){return Me}),n.d(t,"loadLanguages",function(){return qe}),n.d(t,"loadNamespaces",function(){return De}),n.d(t,"loadResources",function(){return Be}),n.d(t,"off",function(){return Ue}),n.d(t,"on",function(){return Fe}),n.d(t,"setDefaultNamespace",function(){return Ve}),n.d(t,"t",function(){return ze}),n.d(t,"use",function(){return He});var Re=(t.default=xe,xe.changeLanguage.bind(xe)),Ie=xe.cloneInstance.bind(xe),Le=xe.createInstance.bind(xe),Ae=xe.dir.bind(xe),Ne=xe.exists.bind(xe),je=xe.getFixedT.bind(xe),Me=xe.init.bind(xe),qe=xe.loadLanguages.bind(xe),De=xe.loadNamespaces.bind(xe),Be=xe.loadResources.bind(xe),Ue=xe.off.bind(xe),Fe=xe.on.bind(xe),Ve=xe.setDefaultNamespace.bind(xe),ze=xe.t.bind(xe),He=xe.use.bind(xe)},function(e,t,n){var r,r;!function(t){e.exports=t()}(function(){return function e(t,n,i){function a(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return a(n||e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof r&&r,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r,i){if(r&&"object"==typeof r){var a="",o=encodeURIComponent;for(var s in r)a+="&"+o(s)+"="+o(r[s]);r=a.slice(1)+(i?"":"&_t="+new Date)}try{var u=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");u.open(r?"POST":"GET",e,1),t.crossDomain||u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.onreadystatechange=function(){u.readyState>3&&n&&n(u.responseText,u)},u.send(r)}catch(o){window.console&&console.log(o)}}function a(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("./utils"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),c=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e),this.init(t,n),this.type="backend"}return o(e,[{key:"init",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.services=e,this.options=u.defaults(t,this.options||{},a())}},{key:"readMulti",value:function(e,t,n){var r=this.services.interpolator.interpolate(this.options.loadPath,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(r,n)}},{key:"read",value:function(e,t,n){var r=this.services.interpolator.interpolate(this.options.loadPath,{lng:e,ns:t});this.loadUrl(r,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,function(r,i){var a=i.status.toString();if(0===a.indexOf("5"))return t("failed loading "+e,!0);if(0===a.indexOf("4"))return t("failed loading "+e,!1);var o=void 0,s=void 0;try{o=n.options.parse(r)}catch(t){s="failed parsing "+e+" to json"}return s?t(s,!1):void t(null,o)})}},{key:"create",value:function(e,t,n,r){var i=this;"string"==typeof e&&(e=[e]);var a={};a[n]=r||"",e.forEach(function(e){var n=i.services.interpolator.interpolate(i.options.addPath,{lng:e,ns:t});i.options.ajax(n,i.options,function(e,t){},a)})}}]),e}();c.type="backend",n.default=c,t.exports=n.default},{"./utils":2}],2:[function(e,t,n){"use strict";function r(e){return o.call(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}function i(e){return o.call(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}Object.defineProperty(n,"__esModule",{value:!0}),n.defaults=r,n.extend=i;var a=[],o=a.forEach,s=a.slice},{}]},{},[1])(1)})},function(e,t,n){function r(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=a(n),n=n===n?n:0),void 0!==t&&(t=a(t),t=t===t?t:0),i(a(e),t,n)}var i=n(1118),a=n(302);e.exports=r},function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},function(e,t,n){function r(e){return i(e,a)}var i=n(479),a=4;e.exports=r},function(e,t,n){function r(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return i(s(n)?o(n):[n],a(t,1))}var i=n(172),a=n(307),o=n(175),s=n(19);e.exports=r},function(e,t,n){e.exports=n(1122)},function(e,t,n){function r(e,t){return(s(e)?i:a)(e,o(t))}var i=n(480),a=n(126),o=n(484),s=n(19);e.exports=r},function(e,t,n){function r(e,t){return null==e?e:i(e,a(t),o)}var i=n(311),a=n(484),o=n(73);e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,i)}var i=n(1125),a=n(457);e.exports=r},function(e,t){function n(e,t){return null!=e&&i.call(e,t)}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},function(e,t,n){var r=n(72),i=n(1127),a=n(124),o=n(1128),s=a(function(e){var t=r(e,o);return t.length&&t[0]===e[0]?i(t):[]});e.exports=s},function(e,t,n){function r(e,t,n){for(var r=n?o:a,d=e[0].length,f=e.length,p=f,h=Array(f),m=1/0,y=[];p--;){var v=e[p];p&&t&&(v=s(v,u(t))),m=l(v.length,m),h[p]=!n&&(t||d>=120&&v.length>=120)?new i(p&&v):void 0}v=e[0];var g=-1,b=h[0];e:for(;++g<d&&y.length<m;){var _=v[g],w=t?t(_):_;if(_=n||0!==_?_:0,!(b?c(b,w):r(y,w,n))){for(p=f;--p;){var k=h[p];if(!(k?c(k,w):r(e[p],w,n)))continue e}b&&b.push(w),y.push(_)}}return y}var i=n(308),a=n(485),o=n(486),s=n(72),u=n(300),c=n(309),l=Math.min;e.exports=r},function(e,t,n){function r(e){return i(e)?e:[]}var i=n(314);e.exports=r},function(e,t,n){function r(e){return i(e)&&1===e.nodeType&&!a(e)}var i=n(37),a=n(315);e.exports=r},function(e,t,n){function r(e){return"number"==typeof e||a(e)&&i(e)==o}var i=n(59),a=n(37),o="[object Number]";e.exports=r},function(e,t,n){function r(e,t,n){e=s(e),t=o(t);var r=t?a(e):0;return t&&r<t?i(t-r,n)+e:e}var i=n(1132),a=n(487),o=n(125),s=n(306);e.exports=r},function(e,t,n){function r(e,t){t=void 0===t?" ":a(t);var n=t.length;if(n<2)return n?i(t,e):t;var r=i(t,l(e/u(t)));return s(t)?o(c(r),0,e).join(""):r.slice(0,e)}var i=n(1133),a=n(454),o=n(1134),s=n(318),u=n(487),c=n(1137),l=Math.ceil;e.exports=r},function(e,t){function n(e,t){var n="";if(!e||t<1||t>r)return n;do{t%2&&(n+=e),(t=i(t/2))&&(e+=e)}while(t);return n}var r=9007199254740991,i=Math.floor;e.exports=n},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}var i=n(317);e.exports=r},function(e,t,n){var r=n(473),i=r("length");e.exports=i},function(e,t){function n(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,a,o,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t,n){function r(e){return a(e)?o(e):i(e)}var i=n(1138),a=n(318),o=n(1139);e.exports=r},function(e,t){function n(e){return e.split("")}e.exports=n},function(e,t){function n(e){return e.match(d)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",a,o].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,l="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,a,o,"[\\ud800-\\udfff]"].join("|")+")",d=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=n},function(e,t,n){var r=n(124),i=n(1141),a=r(i);e.exports=a},function(e,t,n){function r(e,t){return e&&e.length&&t&&t.length?i(e,t):e}var i=n(1142);e.exports=r},function(e,t,n){function r(e,t,n,r){var c=r?o:a,d=-1,f=t.length,p=e;for(e===t&&(t=u(t)),n&&(p=i(e,s(n)));++d<f;)for(var h=0,m=t[d],y=n?n(m):m;(h=c(p,y,h,r))>-1;)p!==e&&l.call(p,h,1),l.call(e,h,1);return e}var i=n(72),a=n(301),o=n(1143),s=n(300),u=n(175),c=Array.prototype,l=c.splice;e.exports=r},function(e,t){function n(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}e.exports=n},function(e,t,n){var r=n(1145),i=r();e.exports=i},function(e,t,n){function r(e){return function(t,n,r){return r&&"number"!=typeof r&&a(t,n,r)&&(n=r=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),r=void 0===r?t<n?1:-1:o(r),i(t,n,r,e)}}var i=n(1146),a=n(161),o=n(451);e.exports=r},function(e,t){function n(e,t,n,a){for(var o=-1,s=i(r((t-e)/(n||1)),0),u=Array(s);s--;)u[a?s:++o]=e,e+=n;return u}var r=Math.ceil,i=Math.max;e.exports=n},function(e,t,n){var r=n(1148),i=r("round");e.exports=i},function(e,t,n){function r(e){var t=Math[e];return function(e,n){if(e=a(e),n=null==n?0:s(i(n),292)){var r=(o(e)+"e").split("e"),u=t(r[0]+"e"+(+r[1]+n));return r=(o(u)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var i=n(125),a=n(302),o=n(306),s=Math.min;e.exports=r},function(e,t,n){function r(e,t,n){return null==e?e:i(e,t,n)}var i=n(455);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&a(e,t,n)?(t=0,n=r):(t=null==t?0:o(t),n=void 0===n?r:o(n)),i(e,t,n)):[]}var i=n(317),a=n(161),o=n(125);e.exports=r},function(e,t,n){function r(e,t,n){var r=s(e)?i:o;return n&&u(e,t,n)&&(t=void 0),r(e,a(t,3))}var i=n(462),a=n(101),o=n(1152),s=n(19),u=n(161);e.exports=r},function(e,t,n){function r(e,t){var n;return i(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}var i=n(126);e.exports=r},function(e,t,n){var r=n(307),i=n(124),a=n(1154),o=n(314),s=i(function(e){return a(r(e,1,o,!0))});e.exports=s},function(e,t,n){function r(e,t,n){var r=-1,d=a,f=e.length,p=!0,h=[],m=h;if(n)p=!1,d=o;else if(f>=l){var y=t?null:u(e);if(y)return c(y);p=!1,d=s,m=new i}else m=t?[]:h;e:for(;++r<f;){var v=e[r],g=t?t(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue e;t&&m.push(g),h.push(v)}else d(m,g,n)||(m!==h&&m.push(g),h.push(v))}return h}var i=n(308),a=n(485),o=n(486),s=n(309),u=n(1155),c=n(174),l=200;e.exports=r},function(e,t,n){var r=n(469),i=n(1156),a=n(174),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},function(e,t){function n(){}e.exports=n},,,,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return y.CAN_LOAD?o(e).then(d).then(function(e){return s(y.MAX_ATTEMPTS,e)}):m.reject(b.NOT_SUPPORTED)}function a(e){return o(e).then(f).then(function(t){var n=e&&e.hasOwnProperty("logLevel")?e.logLevel:"";return c(y.MAX_ATTEMPTS,t,n)})}function o(e){if(e&&e.value)return m.resolve(e.value);var t=e&&e.deviceID||p();return k||(k=new v({defaults:r({},y.EXPERIMENT_ID,y.DEFAULT_VERSION),platform:"web",deviceID:t,provider:new g(g.SERVICE_URL),Promise:m})),k.get(y.EXPERIMENT_ID)}function s(e,t,n){return e>0?u(t.url,t.settings).catch(function(n){return s(e-1,t,n)}):m.reject(n)}function u(e,t){return new m(function(n,r){var i=document.createElement("script");i.onload=function(){"function"==typeof PlayerCore?n({handle:PlayerCore,config:{settings:t}}):(i.parentNode.removeChild(i),r(b.BAD_RESPONSE))},i.onerror=function(e){i.parentNode.removeChild(i),r(b.SCRIPT_ERROR)},i.src=e,i.id=y.SCRIPT_ID,document.head.appendChild(i)})}function c(e,t,n,r){return e>0?l(t.url,t.workerUrl,t.settings,n).catch(function(r){return c(e-1,t,n,r)}):m.reject(r)}function l(e,t,n,r){return new m(function(i,a){var o=document.location.protocol+t,s='\n            try {\n                importScripts("'+o+"\");\n            } catch (e) {\n                console.error('Exception in worker import', e);\n            }\n            ",u=new Blob([s],{type:"text/javascript"}),c=new Worker(URL.createObjectURL(u)),l=document.createElement("script");l.onload=function(){"object"===("undefined"==typeof MediaPlayer?"undefined":h(MediaPlayer))&&"function"==typeof MediaPlayer.MediaPlayer?i(function(){return{mediaPlayerHandle:MediaPlayer,mediaPlayerInstance:new MediaPlayer.MediaPlayer({settings:n,logLevel:r},c)}}):(l.parentNode.removeChild(l),a(b.BAD_RESPONSE))},l.onerror=function(e){l.parentNode.removeChild(l),a(b.SCRIPT_ERROR)},l.src=e,l.id=y.SCRIPT_ID,document.head.appendChild(l)})}function d(e){var t="",n=y.PLAYER_CORE_HOST.prod,r=e.split("+")||[e],i=r[0];r.length>1&&(t=r[1],y.SETTING_CRITERIA.hasOwnProperty(t)&&!y.SETTING_CRITERIA[t]&&(t=""));var a={},o=document.URL,s=o.indexOf("?");if(s>-1){((o.slice(s+1)||"").split("&")||[]).forEach(function(e){var t=e.split("=")||[];a[t[0]]=t[1]})}return a["cvp-settings"]&&(t=a["cvp-settings"]),a["cvp-branch"]?{url:y.PLAYER_CORE_HOST.dev+a["cvp-branch"]+y.PLAYER_CORE_FILE_NAME_DEBUG,settings:t}:(a["cvp-env"]&&y.PLAYER_CORE_HOST[a["cvp-env"]]&&(n=y.PLAYER_CORE_HOST[a["cvp-env"]]),a["cvp-ver"]&&(i=a["cvp-ver"]),{url:n+i+y.PLAYER_CORE_FILE_NAME,settings:t})}function f(e){var t="",n=y.PLAYER_CORE_HOST.prod,r=e.split("+")||[e],i=r[0];r.length>1&&(t=r[1],y.SETTING_CRITERIA.hasOwnProperty(t)&&!y.SETTING_CRITERIA[t]&&(t=""));var a={},o=document.URL,s=o.indexOf("?");if(s>-1){((o.slice(s+1)||"").split("&")||[]).forEach(function(e){var t=e.split("=")||[];a[t[0]]=t[1]})}return a["cvp-settings"]&&(t=a["cvp-settings"]),a["cvp-branch"]?{url:y.PLAYER_CORE_HOST.dev+a["cvp-branch"]+y.MEDIAPLAYER_FILE_NAME_DEBUG,workerUrl:y.PLAYER_CORE_HOST.dev+a["cvp-branch"]+y.MEDIAPLAYER_WORKER_FILE_NAME_DEBUG,settings:t}:(a["cvp-env"]&&y.PLAYER_CORE_HOST[a["cvp-env"]]&&(n=y.PLAYER_CORE_HOST[a["cvp-env"]]),a["cvp-ver"]&&(i=a["cvp-ver"]),{url:n+i+y.MEDIAPLAYER_FILE_NAME,workerUrl:n+i+y.MEDIAPLAYER_WORKER_FILE_NAME,settings:t})}function p(){return Math.random().toString(32).slice(2)}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=n(483),y=n(1164),v=n(488),g=n(490),b={NOT_SUPPORTED:{spadeEventName:y.SPADE_EVENT_NAME,spadeEventData:{core_error_code:3e3,core_error_msg:"Player Core Not Supported"}},SCRIPT_ERROR:{spadeEventName:y.SPADE_EVENT_NAME,spadeEventData:{core_error_code:3001,core_error_msg:"Script Error"}},BAD_RESPONSE:{spadeEventName:y.SPADE_EVENT_NAME,spadeEventData:{core_error_code:3002,core_error_msg:"Bad Response"}}};e.exports.canLoad=function(){return y.CAN_LOAD},e.exports.canLoadMediaplayer=function(){var e=(navigator.appVersion||"").toLowerCase();return y.CAN_LOAD&&-1===e.indexOf("rv:11")};var _=null;e.exports.load=function(e){return _||(_=i(e)),_};var w=null;e.exports.loadMediaPlayer=function(e){return w||(w=a(e)),w.then(function(e){return e()})},e.exports._reset=function(){_=null,w=null;var e=document.getElementById(y.SCRIPT_ID);e&&e.parentNode.removeChild(e)};var k},function(e,t,n){"use strict";function r(){var e=(navigator.appVersion||"").toLowerCase();return a.some(function(t){return e.indexOf(t)>-1})}function i(){var e=(navigator.appVersion||"").toLowerCase(),t=e.match(/chrome\/(\d+)/);if(t&&t.length>1){return parseInt(t[1])<50}return!1}var a=["5.0 (macintosh; intel mac os x 10_11_6) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (macintosh; intel mac os x 10_11_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (playstation 4 3.55) applewebkit/537.78 (khtml, like gecko)","5.0 (macintosh; intel mac os x 10_11_4) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (macintosh; intel mac os x 10_11_3) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g35 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/537.86.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/600.8.9 (khtml, like gecko) version/8.0.8 safari/600.8.9","5.0 (macintosh; intel mac os x 10_11_1) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/34.0.1847.137 safari/537.31 smarttv/6.0","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; r","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/49.0.2623.112 safari/537.36 opr/36.0.2130.80","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.56 (khtml, like gecko) version/9.0 safari/601.1.56","5.0 (macintosh; intel mac os x 10_11_2) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (ipad; cpu os 9_3_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13f69 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/537.86.6","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2272.118 safari/537.36","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.us","5.0 (macintosh; intel mac os x 10_12) applewebkit/602.1.50 (khtml, like gecko) version/10.0 safari/602.1.50","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.134 safari/537.36 u01-04","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/51.0.2683.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/537.86.5","5.0 (macintosh; intel mac os x 10_10_4) applewebkit/600.7.12 (khtml, like gecko) version/8.0.7 safari/600.7.12","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.157 yabrowser/15.9.2403.3043 safari/537.36","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/600.8.9 (khtml, like gecko) version/6.2.8 safari/537.85.17","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.5.17 (khtml, like gecko) version/8.0.5 safari/600.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:reserved; rv:11.0) like gec","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/50.0.2632.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; gwx:downloaded; gwx","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/26.0.1410.33 safari/537.31 smarttv/5.0","5.0 (ipad; cpu os 9_3_3 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g34 safari/601.1","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; tablet pc 2.0; infopath.2; .net4.0c; .net4.0e; gwx:managed","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; creative autoupdate","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (linux; u) applewebkit/537.4 (khtml, like gecko) chrome/22.0.1229.79 safari/537.4","5.0 (ipad; cpu os 9_3_5 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g36 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; .net clr 1.1.4322;","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/52.0.2743.117 safari/537.36 vivaldi/1.3.551.38","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; gwx:downloaded; gwx","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:qualified; rv:11.0) like ge","5.0 (ipad; cpu os 9_2_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13d15 safari/601.1","5.0 (ipad; cpu os 9_3_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13e238 safari/601.1","5.0 (macintosh; intel mac os x 10_10_1) applewebkit/600.2.5 (khtml, like gecko) version/8.0.2 safari/600.2.5","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/537.86.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; officeliveconnector.1.5; office","5.0 (smart-tv; x11; linux i686) applewebkit/535.20+ (khtml, like gecko) version/5.0 safari/535.20+","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1 (khtml, like gecko) crios/52.0.2743.84 mobile/13g35 safari/601.1.46","5.0 (smart-tv; x11; linux armv7l) applewebkit/537.42 (khtml, like gecko) chromium/25.0.1349.2 chrome/25.0.1349.2 safari/537.42","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; markanyeps#25103; rv:11.0) like","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2490.86 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2231.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/537.86.4","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/537.78.2 (khtml, like gecko) version/7.0.6 safari/537.78.2","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; gwx:downloaded; gwx:reser","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_7_5) applewebkit/537.78.2 (khtml, like gecko) version/6.1.6 safari/537.78.2","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.10 (khtml, like gecko) version/8.0.4 safari/600.4.10","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; rv:11.0)","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.eu","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; c","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) iron/36.0.1950.0 chrome/36.0.1950.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:red; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; zune 4.7; .net4.0c; .net4.0e; infopath.3; gwx:downl","9.80 (windows nt 6.1; wow64)","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; gwx:reserved; r","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; 4399box.1357; .net4.0c; .net4.0e; rctw; rv:11.0) li","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.7.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; bri/2; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.35 (khtml, like gecko) version/9.0 safari/601.1.35","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.1; gwx:qualified; rv:1","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/40.0.2214.45 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.130 safari/537.36 overwolfclient/0.97.31.0","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.3.18 (khtml, like gecko) version/8.0.3 safari/600.3.18","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; np06; .net clr 1.1.4322; bri/2;","5.0 (ipad; cpu os 9_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13c75 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; raidcall; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.8 (khtml, like gecko) version/8.0.3 safari/600.4.8","5.0 (windows nt 6.2; wow64) applewebkit/537.36 (khtml, like gecko) chrome/29.0.1547.76 safari/537.36","5.0 (ipad; cpu os 8_4_1 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h321 safari/600.1.4","5.0 (windows nt 6.3; wow64; trident/7.0; .net4.0e; .net4.0c; .net clr 3.5.30729; .net clr 2.0.50727; .net clr 3.0.30729; gwx:downloaded; gwx:reserved; tnjb; rv:11.0) like gecko","5.0 (ipad; cpu os 8_4 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h143 safari/600.1.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; bri/2; .net4.0c; .net4.0e; rv:11.0) lik","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/36.0.1985.143 safari/537.36","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; tablet pc 2.0; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; gwx:reserved; rv:11","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/537.74.9 (khtml, like gecko) version/6.1.2 safari/537.74.9","5.0 (windows nt 6.1; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/48.0.2536.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.6.3 (khtml, like gecko) version/8.0.6 safari/600.6.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; gwx:reserved; rv:11","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (linux; android 4.0.4; kfjwi build/imm76d) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; .net clr 1.1.4322; rv:11.0) lik","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rctw; rv:11.0) like","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (linux; android 4.0.3; kftt build/iml74k) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/27.0.1453.110 safari/537.36 coolnovo/2.0.9.20","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/537.86.2","5.0 (macintosh; intel mac os x 10_10) applewebkit/600.1.25 (khtml, like gecko) version/8.0 safari/600.1.25","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.5.3000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; mcafee; gwx:downloaded; gwx:res","5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2486.0 safari/537.36 edge/13.10586"];e.exports={PLAYER_CORE_HOST:{test:"//cvp-test.twitch.tv/",beta:"//cvp-test.twitch.tv/",prod:"//cvp.twitch.tv/",dev:"//player-core-web.twitch.tv/"},PLAYER_CORE_FILE_NAME:"/player-core-min.js",PLAYER_CORE_FILE_NAME_DEBUG:"/player-core.js",MEDIAPLAYER_FILE_NAME:"/mediaplayer.min.js",MEDIAPLAYER_WORKER_FILE_NAME:"/worker.min.js",MEDIAPLAYER_FILE_NAME_DEBUG:"/mediaplayer.js",MEDIAPLAYER_WORKER_FILE_NAME_DEBUG:"/worker.js",SCRIPT_ID:"TwitchPlayerCoreModule",EXPERIMENT_ID:"45d73059-3cea-436a-b41f-86bb05f845f2",DEFAULT_VERSION:"1.7.7",CAN_LOAD:function(){try{return"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')&&!r()}catch(e){return console.log(e),!1}}(),SPADE_EVENT_NAME:"player_core_error",MAX_ATTEMPTS:3,SETTING_CRITERIA:{fxf:!i(),fxfll:!i(),catup:!i()}}},,,,,,,,,function(e,t,n){"use strict";function r(e){return parseFloat(e)||0}function i(e){return Array.prototype.slice.call(arguments,1).reduce(function(t,n){return t+r(e["border-"+n+"-width"])},0)}function a(e){for(var t=["top","right","bottom","left"],n={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=e["padding-"+o];n[o]=r(s)}return n}function o(e){var t=e.getBBox();return d(0,0,t.width,t.height)}function s(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return k;var o=getComputedStyle(e),s=a(o),c=s.left+s.right,l=s.top+s.bottom,f=r(o.width),p=r(o.height);if("border-box"===o.boxSizing&&(Math.round(f+c)!==t&&(f-=i(o,"left","right")+c),Math.round(p+l)!==n&&(p-=i(o,"top","bottom")+l)),!u(e)){var h=Math.round(f+c)-t,m=Math.round(p+l)-n;1!==Math.abs(h)&&(f-=h),1!==Math.abs(m)&&(p-=m)}return d(s.left,s.top,f,p)}function u(e){return e===document.documentElement}function c(e){return p?E(e)?o(e):s(e):k}function l(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return w(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function d(e,t,n,r){return{x:e,y:t,width:n,height:r}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),p="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,h=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),m=2,y=function(e,t){function n(){a&&(a=!1,e()),o&&i()}function r(){h(n)}function i(){var e=Date.now();if(a){if(e-s<m)return;o=!0}else a=!0,o=!1,setTimeout(r,t);s=e}var a=!1,o=!1,s=0;return i},v=["top","right","bottom","left","width","height","size","weight"],g="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),b="undefined"!=typeof MutationObserver&&!g,_=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=y(this.refresh.bind(this),20)};_.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},_.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},_.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},_.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},_.prototype.connect_=function(){p&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),b?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},_.prototype.disconnect_=function(){p&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},_.prototype.onTransitionEnd_=function(e){var t=e.propertyName;v.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},_.getInstance=function(){return this.instance_||(this.instance_=new _),this.instance_},_.instance_=null;var w=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},k=d(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof SVGGraphicsElement}:function(e){return e instanceof SVGElement&&"function"==typeof e.getBBox}}(),S=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=d(0,0,0,0),this.target=e};S.prototype.isActive=function(){var e=c(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var P=function(e,t){var n=l(t);w(this,{target:e,contentRect:n})},C=function(e,t,n){if("function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new f,this.callback_=e,this.controller_=t,this.callbackCtx_=n};C.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},C.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new P(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return this.activeObservations_.length>0};var T="undefined"!=typeof WeakMap?new WeakMap:new f,O=function(e){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=_.getInstance(),n=new C(e,t,this);T.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){O.prototype[e]=function(){return(t=T.get(this))[e].apply(t,arguments);var t}});var x=function(){return"undefined"!=typeof ResizeObserver?ResizeObserver:O}();t.default=x}]),[990]);
//# sourceMappingURL=player-523fe6efd5c0acfb62f3353c8b0281bc.js.map